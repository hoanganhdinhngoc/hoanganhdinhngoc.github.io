"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9664],{99664:function(e,r,a){a.r(r),a.d(r,{default:function(){return F}});var l=a(85893),t=a(67294),n=a(47533),i=a(99226),d=a(15861),s=a(18360),o=a(18972),u=a(50480),c=a(85071),x=a(83321),h=a(2734),p=a(11163),m=a(95064),v=a(87536),f=a(91444),g=a(16310),b=a(50135),j=a(63956);function Z(e){var r;let{setCompletePhoneNumber:a,setPhoneNumber:n,phoneNumber:i,setValue:d,setError:u}=e,[c,x]=(0,t.useState)("+84");return(0,l.jsx)(b.Z,{fullWidth:!0,value:i,id:"outlined-select-currency",onChange:e=>{var r,l,t,i,s,o;n(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value),d("phone",null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.value),(null==e?void 0:null===(i=e.target)||void 0===i?void 0:null===(t=i.value)||void 0===t?void 0:t.match(/^([0-9][ ()+]*){9,11}$/))&&(u("phone",""),a("".concat(c).concat(null==e?void 0:null===(o=e.target)||void 0===o?void 0:null===(s=o.value)||void 0===s?void 0:s.replace(/^0+/,""))))},sx:{mb:2,borderRadius:"var(--radius-radius-lg, 8px)",border:"1px solid var(--borders-default, #DEE2E6)",background:"var(--backgrounds-default, #FFF)"},InputProps:{startAdornment:(0,l.jsx)(s.Z,{onChange:e=>{var r;x(e.target.value),a("".concat(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value).concat(i))},renderValue:e=>(0,l.jsx)("div",{children:e}),defaultValue:"+84",sx:{fieldset:{border:"none"}},children:null===(r=j.KR)||void 0===r?void 0:r.map(e=>(0,l.jsx)(o.Z,{value:e.value,children:"".concat(e.name," (").concat(e.value,")")},e.value))})}})}var _=a(37478),y=a(86578),k=a(28511);function F(){var e,r,a;let{t:b}=(0,m.$G)(["contact-us","common"]),F=(0,h.Z)(),E=(0,p.useRouter)(),[S,w]=(0,t.useState)([]),[C,z]=(0,t.useState)(""),[N,R]=(0,t.useState)(j.Nb[0].value),V=g.Ry().shape({name:g.Z_().required(b("required")),phone:g.Z_().required(b("required")).matches(/^([0-9][ ()+]*){9,11}$/,"Sai định dạng "),email:g.Z_().email(b("incorrect_email")).required(b("required"))}).required(),{handleSubmit:I,control:W,reset:q,setValue:P,setError:D,formState:{errors:A}}=(0,v.cI)({resolver:(0,n.X)(V)}),[Q,$]=(0,t.useState)(!1),[M,L]=(0,t.useState)(""),B=e=>{w([e,...S])},G=e=>{let r=S.filter((r,a)=>a!==e);w(r)},K=async e=>{try{let r={...e,phone:M,title:N,name:function(e){let r=e.split(" "),a=r.map(e=>{if(0===e.length)return"";let r=e.charAt(0).toUpperCase(),a=e.slice(1).toLowerCase();return r+a}),l=a.join(" ");return l}(e.name)};if(S.length>0){let e=new FormData;S.forEach(r=>{e.append("files",r)});let a=await (0,_.IL)(e),l=a.map(e=>e.id);if(l.some(e=>!e))throw f.Am.error("Error uploading files"),Error("Error uploading files");r.file=l}let a=await (0,_.jy)(r);(null==a?void 0:a.data)?(q(),$(!1),z(""),w([]),E.push("/form-success")):f.Am.error(b("register_failed"))}catch(e){f.Am.error("Error submitting form")}},H=e=>{R(e.target.value)},T=e=>{/[0-9;'!@#$%^&*(),.?":{}|<>]/.test(e.key)&&e.preventDefault()};return(0,l.jsxs)(i.Z,{sx:{padding:{xs:"27px 16px",md:"37px 56px"},width:{xs:"100%"},borderRadius:"8px",background:"radial-gradient(360.91% 179.36% at -5.65% -4.74%, rgba(191, 217, 236, 0.00) 0%, rgba(219, 240, 255, 0.20) 36.97%, rgba(217, 239, 255, 0.30) 73.44%, rgba(255, 255, 255, 0.25) 100%)",backdropFilter:"blur(15px)",boxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.2)"},children:[(0,l.jsx)(d.Z,{variant:"h2",sx:{paddingBottom:4},fontSize:{xs:20,md:34},fontWeight:900,children:b("choose_package")}),(0,l.jsxs)("form",{onSubmit:I(K),children:[(0,l.jsx)(v.Qr,{name:"title",control:W,defaultValue:"",render:()=>(0,l.jsxs)(i.Z,{sx:{paddingBottom:4},children:[(0,l.jsx)(y.__,{variant:"label",fontSize:{xs:16,md:18},children:b("content_required_assistance")}),(0,l.jsx)(s.Z,{MenuProps:{disableScrollLock:!0},onChange:H,renderValue:e=>(0,l.jsx)("div",{children:e}),defaultValue:j.Nb[0].value,fullWidth:!0,sx:{background:"var(--backgrounds-default, #FFF)"},children:j.Nb.map((e,r)=>(0,l.jsx)(o.Z,{value:e.value,children:e.name},r))})]})}),(0,l.jsx)(y.__,{variant:"label",fontSize:{xs:16,md:18},children:b("full_name")}),(0,l.jsx)(v.Qr,{name:"name",control:W,defaultValue:"",render:e=>{let{field:r}=e;return(0,l.jsx)(y.M5,{...r,variant:"outlined",fullWidth:!0,onKeyPress:T})}}),(0,l.jsx)(d.Z,{sx:{color:"error.main"},children:null===(e=A.name)||void 0===e?void 0:e.message}),(0,l.jsx)(y.__,{variant:"label",fontSize:{xs:16,md:18},children:b("phone_number")}),(0,l.jsx)(v.Qr,{name:"phone",control:W,defaultValue:"",render:()=>(0,l.jsx)(Z,{schema:V,setError:D,setValue:P,phoneNumber:C,setPhoneNumber:z,setCompletePhoneNumber:L,variant:"outlined",fullWidth:!0})}),(0,l.jsx)(d.Z,{sx:{color:"error.main"},children:null===(r=A.phone)||void 0===r?void 0:r.message}),(0,l.jsx)(y.__,{variant:"label",fontSize:{xs:16,md:18},children:b("email")}),(0,l.jsx)(v.Qr,{name:"email",control:W,defaultValue:"",render:e=>{let{field:r}=e;return(0,l.jsx)(y.M5,{...r,variant:"outlined",fullWidth:!0})}}),(0,l.jsx)(d.Z,{sx:{color:"error.main"},children:null===(a=A.email)||void 0===a?void 0:a.message}),(0,l.jsx)(y.__,{variant:"label",fontSize:{xs:16,md:18},children:b("content")}),(0,l.jsx)(v.Qr,{name:"content",control:W,defaultValue:"",render:e=>{let{field:r}=e;return(0,l.jsx)(y.uZ,{...r,placeholder:b("place_holder_content"),minRows:3})}}),(null==S?void 0:S.length)>0&&S.map((e,r)=>(0,l.jsx)(i.Z,{my:2,children:(0,l.jsx)(k.default,{file:e,addFile:B,deleteFile:()=>G(r)})},r)),(0,l.jsx)(i.Z,{mb:4,children:(0,l.jsx)(k.default,{addFile:B})}),(0,l.jsx)(u.Z,{control:(0,l.jsx)(c.Z,{checked:Q,onChange:e=>$(e.target.checked),color:"primary"}),label:(0,l.jsxs)(d.Z,{variant:"span",px:1,sx:{color:"#94969a"},children:[b("i_agree"),(0,l.jsx)(d.Z,{variant:"a",sx:{color:F.palette.text.about_text},children:" ".concat(b("policies_and_privacy_terms"))})]})}),(0,l.jsx)(x.Z,{disabled:!Q,type:"submit",variant:"contained",sx:{marginTop:"36px",display:"block",width:"153px",height:"44px",borderRadius:"var(--radius-radius-md, 6px)",background:"var(--backgrounds-brand-default, #1C9AD6) !important","&.Mui-disabled":{background:"#ddd !important"}},children:b("send")})]})]})}},28511:function(e,r,a){a.r(r),a.d(r,{default:function(){return h}});var l=a(85893),t=a(63343),n=a(99226),i=a(15861),d=a(86886),s=a(2734),o=a(25675),u=a.n(o),c=a(95064),x={src:"/_next/static/media/upload-file-icon.7db19960.svg",height:16,width:16,blurWidth:0,blurHeight:0};function h(e){let{file:r,addFile:a,deleteFile:o}=e,h=(0,s.Z)(),{t:p}=(0,c.$G)("contact-us");return(0,l.jsx)(n.Z,{sx:{width:"100%",height:"51px",flexShrink:0,borderRadius:"8px",border:"1px dashed var(--borders-default, #DEE2E6)",background:"var(--backgrounds-default, #FFF)"},children:r?(0,l.jsxs)(n.Z,{sx:{px:{xs:1,md:5},display:"flex",height:"100%",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsxs)(n.Z,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(u(),{src:x,alt:"File"}),(0,l.jsx)(i.Z,{variant:"p",fontWeight:450,fontSize:14,sx:{pl:1,display:"flex",alignItems:"center"},children:null==r?void 0:r.name})]}),(0,l.jsx)(i.Z,{children:(null==r?void 0:r.size)&&"".concat(Number.parseFloat(r.size/1024).toFixed(2)," kb")}),(0,l.jsxs)(i.Z,{sx:{cursor:"pointer",color:"#FF521C"},onClick:o,children:[p("delete")," ",(0,l.jsx)(t.Z,{})]})]}):(0,l.jsx)(n.Z,{sx:{display:"flex",height:"100%"},children:(0,l.jsxs)("label",{htmlFor:"contact-file-upload",style:{display:"flex",width:"100%",justifyContent:"center"},children:[(0,l.jsx)("input",{onChange:e=>{a(e.target.files[0])},className:"hidden",id:"contact-file-upload",type:"file"}),(0,l.jsxs)(d.ZP,{container:!0,xs:12,sx:{height:"100%"},children:[(0,l.jsxs)(d.ZP,{item:!0,xs:4,sx:{pl:{xs:1,md:5},height:"100%",display:"flex",alignItems:"center",borderRight:"1px dashed var(--borders-default, #DEE2E6)"},children:[(0,l.jsx)(u(),{src:x,alt:"File"}),(0,l.jsx)(i.Z,{variant:"p",fontWeight:450,fontSize:14,sx:{pl:1,display:"flex",alignItems:"center"},children:p("attach_file")})]}),(0,l.jsx)(d.ZP,{item:!0,xs:8,sx:{pl:5,display:"flex",alignItems:"center",borderRight:"1px dashed var(--borders-default, #DEE2E6)",color:h.palette.text.tertiary},children:(0,l.jsx)(i.Z,{children:p("no_display_file_available")})})]})]})})})}}}]);
//# sourceMappingURL=9664-2a468d9c3b89247e.js.map