(window.webpackJsonp=window.webpackJsonp||[]).push([["threadview-utv"],{"+FM6":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("mjgr")),o=n(a("7iZm")),s=n(a("xE1a")),l=n(a("929M")),u=n(a("y4Zp")),d=r(a("ZQ2w")),c=n(a("rFv6")),f=a("O7fF"),p=function(e){var t=e.createNewThread,a=e.fetchOlderThreadHistory,r=e.networkError,n=e.startPubSub,u=e.resubscribe,p=(0,d.useState)([]),g=(0,o.default)(p,2),m=g[0],v=g[1],h=function(){v([].concat((0,i.default)(m),[r]))};if(m.includes(r))return null;var y=function(){switch(r){case f.NETWORK_OFFLINE:case f.PUBSUB_FAILED:case f.SUBSCRIPTIONS_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.offline.title"});case f.THREAD_HISTORY_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});case f.CREATE_NEW_THREAD_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.newThreadFailure.title"});default:return null}}(),b=function(){switch(r){case f.THREAD_HISTORY_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:a},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.CREATE_NEW_THREAD_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:t},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.SUBSCRIPTIONS_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:u},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.PUBSUB_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:n},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));default:return null}}();return d.default.createElement(s.default,{title:y,onClose:h,link:b})};p.displayName="NetworkErrorAlerts";p.propTypes={createNewThread:u.default.func.isRequired,fetchOlderThreadHistory:u.default.func.isRequired,networkError:u.default.oneOf([f.NETWORK_OFFLINE,f.THREAD_HISTORY_FAILED,f.CREATE_NEW_THREAD_FAILED,f.PUBSUB_FAILED,f.SUBSCRIPTIONS_FAILED]).isRequired,resubscribe:u.default.func.isRequired,startPubSub:u.default.func.isRequired};var g=p;t.default=g;e.exports=t.default},"+Wel":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=a("KCF3"),o=n.default.oneOf([i.DEFAULT,i.AGENT,i.VISITOR]);t.default=o;e.exports=t.default},"+asb":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHasQuickReplyOptions=void 0;var r=a("xANw"),n=a("xw1J"),i=a("3rpF"),o=function(e){var t=(0,n.getSenderType)(e);return(0,i.getQuickReply)(e)&&t===r.BOT};t.getHasQuickReplyOptions=o},"+dX6":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=a("6+o1"),d=r(a("y4Zp")),c=r(a("ZQ2w")),f=r(a("OCxt")),p=a("xw1J"),g=r(a("bvQD")),m=r(a("1ek5")),v=a("jn74"),h=a("eo+F"),y=a("fPJ+"),b=a("L9iu"),E=a("JREd"),_=r(a("f6v6")),T=f.default.div.withConfig({displayName:"MessageHistory__ReflowElement",componentId:"sc-1puseob-0"})(["z-index:0;padding-top:4px;padding-left:16px;padding-right:16px;flex-shrink:0;@media screen and (max-width:900px){padding-left:8px;padding-right:8px;}"]),C=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"getDontIncludeLastInGroup",value:function(e,t){var a=this.props.messages.get(t+2);return!(!a||!(0,h.areMessagesGrouped)(e,a))}},{key:"renderHistory",value:function(){var e=this,t=this.props,a=t.messages,r=t.historyConfig,n=t.fileAttachments,i=t.portalId,o=t.senders,s=t.visitorLastReadTimestamp,l=t.lastMessageId,u={};return a.map(function(t,d){var f,g=d>0?a.get(d-1):void 0,m=a.get(d+1),h=!1;(0,p.getType)(m)===v.TYPICAL_RESPONSE_TIME&&(f=e.getDontIncludeLastInGroup(t,d));if(!u[(0,p.getType)(t)]){h=!0;u[(0,p.getType)(t)]=!0}var T=(0,y.getAttachmentsForMessage)(t,n);return c.default.createElement(_.default,{historyConfig:r,fileAttachments:T,portalId:i,positionDescriptors:(0,E.getPositionDescriptors)(t,g,m,f,h),key:(0,b.getMessageId)(t),message:t,senders:o,visitorLastReadTimestamp:s,lastMessageId:l})})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.themeConfig;return c.default.createElement(T,{className:t},c.default.createElement(g.default.Provider,{value:a},this.renderHistory()))}}]);return t}(c.default.PureComponent);C.displayName="MessageHistory";C.propTypes={className:d.default.string,fileAttachments:d.default.instanceOf(u.Map),historyConfig:d.default.object.isRequired,lastMessageId:d.default.string,messages:d.default.instanceOf(u.List),portalId:d.default.number.isRequired,senders:m.default,themeConfig:d.default.object,visitorLastReadTimestamp:d.default.number};C.defaultProps={fileAttachments:(0,u.Map)(),preventAutoscroll:!1,scrollContainerToBottom:function(){},displayEmailDeleteBanner:!1};var I=C;t.default=I;e.exports=t.default},"+rg3":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentError=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.ATTACHMENT_ERROR,function(e,t){return{error:e,threadId:t}});t.attachmentError=i},"//9l":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DATE_MESSAGE=t.MESSAGE_TYPE_ID=void 0;var r="@type";t.MESSAGE_TYPE_ID=r;var n="DATE_MESSAGE";t.DATE_MESSAGE=n},"/1QK":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("m4Po")),i=a("84Y+"),o=a("a4p2"),s=a("N02q"),l=a("/11t"),u=a("Gbx4"),d=a("GAhl"),c=a("cep6"),f=function(e){var t=(0,c.getSelectedThread)(e);return{chatHeadingConfig:(0,s.getChatHeadingConfig)(e),sendFromResponders:(0,l.getSendFromResponders)(e),hasUnansweredQuickReplyMessage:(0,d.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,o.isStarted)(t)}},p={publishMessage:u.publishVisitorMessage},g=(0,i.connect)(f,p)(n.default);t.default=g;e.exports=t.default},"/6CN":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=a("Mx+g"),c=a("KCF3"),f=n(a("4JpU")),p=n(a("1WnS")),g=a("tnbG"),m=n(a("eCyM")),v=a("6+o1"),h=n(a("y4Zp")),y=r(a("ZQ2w")),b=n(a("819h")),E=n(a("sieo")),_=n(a("Acer")),T=n(a("RhWw")),C=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.positionDescriptors,n=(0,g.getMessage)(a),i=r.includes(d.LAST);return y.default.createElement(_.default,{positionDescriptors:r,use:c.VISITOR},y.default.createElement(E.default,{fileAttachments:t,isLastMessage:i,message:n}),i&&y.default.createElement(T.default,null,y.default.createElement(b.default,{use:"help"},y.default.createElement(m.default,{message:"conversations-visitor-message-history.status.publishing.UNPUBLISHED"}))))}}]);return t}(y.PureComponent);C.displayName="ActivelyPublishingMessage";C.propTypes={fileAttachments:h.default.instanceOf(v.List),message:(0,p.default)("ActivelyPublishing").isRequired,positionDescriptors:f.default.isRequired};var I=C;t.default=I;e.exports=t.default},"/A3W":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHubspotUtk=void 0;var r=a("ib5I"),n=a("mu3n"),i=a("30X/"),o=(0,r.createSelector)(i.getVisitorIdentity,function(e){return(0,n.getHubspotUtk)(e)});t.getHubspotUtk=o},"/Z4n":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=a("KRhM"),i=r(a("9F43")),o=a("ZZP5"),s=(0,r(a("SRO8")).default)(function(e,t,a){var r=(0,n.agentTypeToSenderType)((0,o.getAgentType)(e)||a);return new i.default({id:(0,o.getUserId)(e)||t,avatar:(0,o.getAvatar)(e),firstName:(0,o.getFirstName)(e),email:(0,o.getEmail)(e),lastName:(0,o.getLastName)(e),senderType:r})});t.getResponderAsSender=s},"/Zaq":function(e,t,a){var r=a("fwVr"),n="__lodash_hash_undefined__";function i(e,t){var a=this.__data__;this.size+=this.has(e)?0:1;a[e]=r&&void 0===t?n:t;return this}e.exports=i},"/fvr":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getGates=void 0;var n=a("ib5I"),i=r(a("BjQQ")),o=a("qeXV"),s=(0,n.createSelector)([o.getLatestWidgetData],(0,i.default)("gates"));t.getGates=s},"/gqD":function(e,t){function a(e,t){return null==e?void 0:e[t]}e.exports=a},"/own":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.pubsubConnectionFailed=void 0;var r=a("ib5I"),n=a("puR0"),i=a("vZpZ"),o=(0,r.createSelector)([i.getAsyncPubSubClient],n.isFailed);t.pubsubConnectionFailed=o},"0+Xj":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSide=n;t.isHoriz=i;t.getEdge=o;var r=a("8mUY");function n(e){return e.split(" ")[0]}function i(e){return r.PLACEMENTS_HORIZ.includes(e)}function o(e){var t=e.split(" ")[1];return t||(i(n(e))?"middle":"center")}},"00xA":function(e,t,a){var r=a("RWBV"),n=a("15fP"),i=a("RSm/"),o=a("ce3V"),s=a("h8ap");function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},"04Ic":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.callIfValid=void 0;var r=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];"function"==typeof e&&e.apply(void 0,a)};t.callIfValid=r},"08NH":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMostRecentMessageIsEmailPrompt=void 0;var r=a("ib5I"),n=a("42Z2"),i=a("xw1J"),o=a("jn74"),s=(0,r.createSelector)([n.getFilteredMessages],function(e){return(0,i.getType)(e.last())===o.EMAIL_CAPTURE_PROMPT});t.getMostRecentMessageIsEmailPrompt=s},"09Wr":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeEmail=void 0;var n=r(a("SRO8")),i=a("6mnT"),o=a("Iz2n"),s=a("0Cv4"),l=a("XpIp"),u=a("jg4C"),d=l.secureDocument.body,c=(0,n.default)(function(e,t){var a=l.secureDocument.createElement("div");try{d.innerHTML=e;var r=Object.assign({},l.sanitizeConfig);r.transformers=t;var n=(0,i.buildSanitizer)(r).clean_node(d).cloneNode(!0);a.appendChild(n);(0,u.removeGmailLineBreak)(a)}catch(e){var c=(0,o.buildError)("Error sanitizing email message: "+e.message,e);(0,s.reportError)(c)}return a.innerHTML});t.sanitizeEmail=c},"0Cv4":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.reportError=void 0;var r=function(e){setTimeout(function(){throw e},0)};t.reportError=r},"0JID":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.withConsent=void 0;var r=a("84Y+"),n=a("Zqdz"),i=function(e){return{requiresExplicitConsentToProcess:(0,n.getShowGdprConsentToProcess)(e)}},o={},s=(0,r.connect)(i,o);t.withConsent=s},"0OX+":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.displayName=void 0;var r=a("Lrql"),n=function(e){var t=(0,r.getName)(e),a=(0,r.getExtension)(e);return a?t+"."+a:t};t.displayName=n},"0Pki":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("puR0"),i=a("84Y+"),o=a("xOvp"),s=a("p0mF"),l=r(a("znLu")),u=a("6uLn"),d=a("pnsR"),c=a("V/zO"),f=a("Pett"),p=function(e){var t=(0,d.getCurrentThreadHistoryEntry)(e);return{isLoadingHistory:(0,n.isStarted)(t),loadingHistoryFailed:(0,n.isFailed)(t),sessionId:(0,o.getSessionId)(e),threadHistory:(0,u.getCurrentThreadHistoryData)(e),threadId:(0,c.getCurrentThreadId)(e),isOnFocus:(0,f.getInputFocus)(e)}},g={fetchThreadHistory:s.fetchThreadHistory},m=(0,i.connect)(p,g)(l.default);t.default=m;e.exports=t.default},"0Uw4":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.generateIdForFile=void 0;var r=function(e){var t=e.file,a=e.timestamp;return t.name+"-"+a};t.generateIdForFile=r},"0k72":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageHistoryScrollingSnapshot=void 0;var r=a("8Ry/"),n=a("DV2K"),i=function(e){var t=(0,r.getLastDOMNodeMessageId)();if(!e||!t)return null;var a=(0,n.getDOMNodeByMessageId)(t);if(!a)return null;var i=e.getScrollDistanceFromTop();return{lastMessageId:t,lastMessageOffsetTop:a.offsetTop,prevScrollTop:i}};t.getMessageHistoryScrollingSnapshot=i},"0v5j":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.typingTimeoutsForThreadInProps=void 0;var n=a("6+o1"),i=a("ib5I"),o=r(a("BjQQ")),s=a("rkDb"),l=a("Xqh6"),u=a("4ajQ"),d=(0,i.createSelector)([l.threadFromProps,u.typingStates],function(e,t){var a=(0,s.getThreadId)(e);return(0,o.default)(""+a,t)||(0,n.Map)()});t.typingTimeoutsForThreadInProps=d},"15fP":function(e,t,a){var r=a("I04N"),n=Array.prototype.splice;function i(e){var t=this.__data__,a=r(t,e);if(a<0)return!1;a==t.length-1?t.pop():n.call(t,a,1);--this.size;return!0}e.exports=i},"1Ko6":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("dfzW")),i=function(e,t){return(0,n.default)({value:e,type:t,format:"MD",length:"m"})};t.default=i;e.exports=t.default},"1PSj":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildMessageHistoryTheme=void 0;var n=r(a("l4i0")),i=a("KCF3"),o=a("LTXT"),s=r(a("xfpd")),l=r(a("NuDZ")),u=r(a("uNz2")),d=a("BQpW"),c=(0,s.default)({tileBackgroundColor:d.GYPSUM}),f=function(e){var t,a=e.coloring;return t={},(0,n.default)(t,i.DEFAULT,(0,u.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:c})),(0,n.default)(t,i.AGENT,(0,u.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:c,widgetAccent:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getAccentColor)(a),quickReplyTheme:(0,l.default)({borderColor:(0,o.getUseDefaultColor)(a)?d.FLINT:(0,o.getAccentColor)(a),color:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getTextColor)(a)})})),(0,n.default)(t,i.VISITOR,(0,u.default)({alignItems:"flex-end",backgroundColor:(0,o.getUseDefaultColor)(a)?d.KOALA:(0,o.getAccentColor)(a),borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"8px 0px 8px 8px",borderWidth:"0px",textColor:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getTextColor)(a),fileAttachmentTheme:c,widgetAccent:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getAccentColor)(a)})),t};t.buildMessageHistoryTheme=f},"1WM8":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getHeaderTextColor=t.getAvatarBorderColor=t.getAvatarTextColor=t.getHeaderBackgroundColor=t.getAvatarBackgroundColor=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=r(a("BjQQ")),i=(0,n.default)("alignItems");t.getAlignment=i;var o=(0,n.default)("avatarWidth");t.getAvatarWidth=o;var s=(0,n.default)("backgroundColor");t.getBackgroundColor=s;var l=(0,n.default)("borderColor");t.getBorderColor=l;var u=(0,n.default)("borderRadius");t.getBorderRadius=u;var d=(0,n.default)("borderWidth");t.getBorderWidth=d;var c=(0,n.default)("messageSpacing");t.getMessageSpacing=c;var f=(0,n.default)("textColor");t.getTextColor=f;var p=(0,n.default)("fileAttachmentTheme");t.getFileAttachmentTheme=p;var g=(0,n.default)("quickReplyTheme");t.getQuickReplyTheme=g;var m=(0,n.default)("avatarBackgroundColor");t.getAvatarBackgroundColor=m;var v=(0,n.default)("headerBackgroundColor");t.getHeaderBackgroundColor=v;var h=(0,n.default)("avatarTextColor");t.getAvatarTextColor=h;var y=(0,n.default)("avatarBorderColor");t.getAvatarBorderColor=y;var b=(0,n.default)("headerTextColor");t.getHeaderTextColor=b},"1ek5":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("1WnS")),i=r(a("y4Zp")),o=r(a("AXPb")),s=o.default.mapOf(o.default.recordOf({data:(0,n.default)("Sender"),status:i.default.string.isRequired}),(0,n.default)("SenderLocator"));t.default=s;e.exports=t.default},"1vHS":function(e,t,a){"use strict";"use es6";var r=a("nhTm");Object.defineProperty(t,"__esModule",{value:!0});t.removeMessageEditorStagingText=t.setMessageEditorStagingText=t.removeMessageEditorStagingTextAction=t.setMessageEditorTextAction=void 0;var n=a("CRij"),i=r(a("2n97")),o=a("bz7q"),s=(0,n.createAction)(i.UPDATE_MESSAGE_EDITOR_STAGING_TEXT,function(e){return e});t.setMessageEditorTextAction=s;var l=(0,n.createAction)(i.REMOVE_MESSAGE_EDITOR_STAGING_TEXT);t.removeMessageEditorStagingTextAction=l;var u=function(e){return function(t,a){t(s({stagingText:e,threadId:(0,o.getSelectedThreadId)(a())}))}};t.setMessageEditorStagingText=u;var d=function(){return function(e,t){e(l((0,o.getSelectedThreadId)(t())))}};t.removeMessageEditorStagingText=d},"26zV":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getIsAttachmentDisabled=void 0;var n=(0,r(a("xq+X")).default)(["isAttachmentDisabled"]);t.getIsAttachmentDisabled=n},"2NeP":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordUrlContextUpdate=void 0;var r=a("ib5I"),n=a("mTad"),i=a("L6i2"),o=(0,r.createSelector)([n.getCurrentUrlByThreadId,i.getMessagesPageUri],function(e,t){return e!==t});t.shouldRecordUrlContextUpdate=o},"2Pef":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getMessageEditorStaging=void 0;var n=r(a("BjQQ")),i=function(e){return(0,n.default)("messageEditorStaging",e)};t.getMessageEditorStaging=i},"2Qkk":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.scrollToBottomIfInThresholdFactory=t.scrollToBottomFactory=t.scrollToMessageFactory=t.AUTO_SCROLL_THRESHOLD=void 0;var r=a("DV2K"),n=300;t.AUTO_SCROLL_THRESHOLD=n;var i=function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alignment:"start"}).alignment,a=(0,r.getDOMNodeByMessageId)(e);e&&a&&a.scrollIntoView&&a.scrollIntoView("start"===t)}};t.scrollToMessageFactory=i;var o=function(e){var t=e.scrollWrapperRef;return function(){var e=t.current;e&&e.scrollToBottom()}};t.scrollToBottomFactory=o;var s=function(e){var t=e.scrollWrapperRef;return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).threshold,a=void 0===e?n:e,r=t.current;r&&r.state&&(t.current.state.distanceToBottom<=a||r.getScrollDistanceFromBottom()<=a)&&r.scrollToBottom()}};t.scrollToBottomIfInThresholdFactory=s},"2a3n":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=a("KRhM"),i=r(a("9F43")),o=a("ZZP5"),s=(0,a("ib5I").defaultMemoize)(function(e,t,a){var r=(0,n.agentTypeToSenderType)((0,o.getAgentType)(e)||a);return new i.default({id:(0,o.getUserId)(e)||t,avatar:(0,o.getAvatar)(e),firstName:(0,o.getFirstName)(e),email:(0,o.getEmail)(e),lastName:(0,o.getLastName)(e),senderType:r})});t.getResponderAsSender=s},"2aGJ":function(e,t,a){var r=a("fwVr"),n="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;if(r){var a=t[e];return a===n?void 0:a}return i.call(t,e)?t[e]:void 0}e.exports=o},"2n6i":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUploadCompleted=void 0;var r=a("bBwc"),n=function(e){return-1!==(0,r.getFileId)(e)};t.isUploadCompleted=n},"3+Oy":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getHasGivenConsentToProcess=void 0;var n=r(a("BjQQ")),i=a("ib5I"),o=(0,n.default)("gdpr"),s=(0,i.createSelector)([o],(0,n.default)("hasVisitorGivenConsentToProcess"));t.getHasGivenConsentToProcess=s},"32t3":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadStart=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_START);t.attachmentUploadStart=i},"37x8":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.useTouchListener=void 0;var r=a("ZQ2w"),n=function(e){(0,r.useEffect)(function(){var t=function(t){if(e(t)){t.stopPropagation();t.preventDefault()}};document.addEventListener("touchmove",t,{passive:!1});return function(){document.removeEventListener("touchmove",t)}},[e])};t.useTouchListener=n},"3ApS":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordImplicitConsentToProcess=void 0;var r=a("ib5I"),n=a("N/cQ"),i=a("tr1i"),o=a("qeXV"),s=a("3+Oy"),l=(0,r.createSelector)([o.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,n.gdprConsentToProcessEnabled)(e)&&!(0,i.gdprExplicitConsentRequired)(e)&&!t});t.shouldRecordImplicitConsentToProcess=l},"3EW+":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DARK=t.SHADE=t.BLANK=t.DEFAULT=void 0;var r="default";t.DEFAULT=r;var n="blank";t.BLANK=n;var i="on-shade";t.SHADE=i;var o="on-dark";t.DARK=o},"3MK9":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFileAttachmentBorderColor=t.getFileAttachmentBackgroundColor=t.getFileAttachmentTextColor=t.getFileAttachmentProcessingBackgroundColor=t.getFileAttachmentProcessingTextColor=void 0;var r=a("t0JC"),n=r.getDisabledTextColor;t.getFileAttachmentProcessingTextColor=n;var i=r.getDisabledBackgroundColor;t.getFileAttachmentProcessingBackgroundColor=i;var o=r.getTextColor;t.getFileAttachmentTextColor=o;var s=function(){return"#f5f8fa"};t.getFileAttachmentBackgroundColor=s;var l=function(){return"#eaf0f6"};t.getFileAttachmentBorderColor=l},"3R6H":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.canPublish=void 0;var n=a("ib5I"),i=r(a("BjQQ")),o=a("puR0"),s=a("TwbS"),l=a("vZpZ"),u=a("YhCZ"),d=a("9VMc"),c=a("lGcn"),f=a("pnsR"),p=(0,i.default)("subscriptions"),g=(0,n.createSelector)([d.getAsyncStagedThread,l.getAsyncPubSubClient,u.hasPersistedThreads,p,c.getThreadsAsyncData,f.getCurrentThreadHistoryEntry],function(e,t,a,r,n,i){return!(0,o.isStarted)(e)&&(!(!(0,o.isUninitialized)(e)||a)||!(!(0,o.isSucceeded)(n)&&!(0,o.isUninitialized)(n)||!(0,o.isSucceeded)(i)&&!(0,o.isUninitialized)(i))&&(!!(a&&(0,s.isClientReady)(t)&&(0,o.isSucceeded)(r))||!!((0,o.isSucceeded)(e)&&(0,s.isClientReady)(t)&&(0,o.isSucceeded)(r))))});t.canPublish=g},"3UHi":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.NON_PERSISTED_MESSAGE=void 0;var r="Conversations:NonPersistedMessagesV2";t.NON_PERSISTED_MESSAGE=r},"3chc":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("LTXT"),i=r(a("vARq")),o=a("84Y+"),s=a("xI+G"),l=a("zC+/"),u=function(e){return{accentColor:(0,n.getAccentColor)((0,l.getColoring)(e))}},d={createNewThread:s.navigateToStagedThread},c=(0,o.connect)(u,d)(i.default);t.default=c;e.exports=t.default},"42Z2":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getFilteredMessages=void 0;var n,i=a("K24x"),o=a("MTtU"),s=a("rkDb"),l=a("6+o1"),u=a("ib5I"),d=r(a("oh0e")),c=r(a("A3tK")),f=r(a("iRI7")),p=a("qENm"),g=a("cep6"),m=a("826o"),v=a("6uLn"),h=a("6yZo"),y=(0,u.createSelector)([g.getSelectedThread,v.getCurrentThreadHistoryData,p.getUnpublishedMessagesForCurrentThread,h.getTypingMessages],function(e,t,a,r){var u=(0,s.getChannelName)(e),p=(0,s.getThreadId)(e),g=(0,i.getMessages)(t)||(0,l.List)(),v=(0,f.default)((0,d.default)(g),(0,d.default)(a),(0,c.default)((0,o.wrapFailedMessage)({threadId:p,channel:u})),(0,d.default)(r))((0,l.List)()),h=v.size?v.filter(m.isSupportedMessageType):(0,l.List)();(0,l.is)(n,h)||(n=h);return n});t.getFilteredMessages=y},"48X+":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.declineCookies=s;var r=a("nncj"),n=a("CWLX"),i=a("gmfO"),o=a("QaKq");function s(){return function(e,t){((0,i.gdprCookieConsentOnExitIntentEnabled)(t())||(0,o.getAPIEnableWidgetCookieBannerOnExitIntent)(t()))&&e((0,n.updateShowExitIntentCookieBanner)(!1));e((0,r.trackInteraction)("widget-interaction",{action:"clicked decline cookies button"}))}}},"4DKt":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.XSSTooltip=t.getSafeUrl=t.isUnsafeUrl=void 0;var i=n(a("E7sj")),o=r(a("ZQ2w")),s=n(a("tqi2")),l=n(a("Q4J3")),u=n(a("BAg0")),d="javascript:void(0)",c=/^([^:]+):/,f=/[\s\x00-\x1f]/g,p=function(e){if(e&&"string"==typeof e){var t=e.match(c);if(!t||e===d)return!1;if("javascript:"===t[0].replace(f,"").toLowerCase())return!0}return!1};t.isUnsafeUrl=p;var g=function(e){return e&&"object"==typeof e&&"string"==typeof e.safeHref?e.safeHref:p(e)?d:e};t.getSafeUrl=g;var m=(0,u.default)(function(e){var t=e.children,a=e.onOpenChange,r=e.open,n=o.Children.only(t);return o.default.createElement(s.default,{open:r,title:i.default.text("salesUI.XSSTooltip.explanation"),use:"danger"},o.default.cloneElement(n,{href:d,onClick:function(e){n.props.onClick(e);a((0,l.default)(!r))}}))},["open"]);t.XSSTooltip=m},"4JpU":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=a("AXPb"),o=a("Mx+g"),s=(0,i.setOf)(n.default.oneOf([o.FIRST,o.FIRST_IN_GROUP,o.LAST_IN_GROUP,o.LAST,o.FIRST_OF_OWN_TYPE]));t.default=s;e.exports=t.default},"4N9v":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.validationErrorToTrackingFailureType=void 0;var r=a("T7hB"),n=function(e){switch(e){case r.SIZE_LIMIT_EXCEEDED:return"size limit exceeded";default:return null}};t.validationErrorToTrackingFailureType=n},"4q8T":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("7iZm")),o=n(a("q6GH")),s=r(a("ZQ2w")),l=n(a("y4Zp")),u=n(a("OCxt")),d=a("8mUY"),c=n(a("v9ME")),f=n(a("5CUq")),p=n(a("9+BE")),g=a("04Ic"),m=u.default.div.withConfig({displayName:"VizExTooltip__Popover",componentId:"qngada-0"})(["transition-property:",";transition-duration:","ms;opacity:",";transform:",";position:absolute;pointer-events:none;width:100%;height:100%;"],function(e){return e.transitioning?"opacity ease-out, transform ease-out":"none"},function(e){return e.duration},function(e){return e.open?"1":"0"},function(e){var t=e.open,a=e.transitioning;return t&&!a?"none":t?"scale(1)":"scale(.75)"}),v=u.default.div.withConfig({displayName:"VizExTooltip__PopoverWrapper",componentId:"qngada-1"})(["display:inline-block;position:relative;"]),h=function(e){var t=e.content,a=e.backgroundColor,r=e.textColor,n=e.placement,l=e.children,u=e.theme,d=e.onOpenChange,p=e.open,h=(0,o.default)(e,["content","backgroundColor","textColor","placement","children","theme","onOpenChange","open"]),y=(0,s.useState)(!1),b=(0,i.default)(y,2),E=b[0],_=b[1];if(!t)return l;var T="boolean"==typeof p,C=function(){if(!T){(0,g.callIfValid)(d,!0);_(!0)}},I=function(){if(!T){(0,g.callIfValid)(d,!1);_(!1)}},S=T?p:E;return s.default.createElement(v,Object.assign({},h,{onMouseEnter:C,onMouseLeave:I}),s.default.createElement(m,{open:S,duration:250,transitioning:!0},s.default.createElement(f.default,{textColor:r,backgroundColor:a,placement:n,open:S,theme:u,"data-test-open":S},t),s.default.createElement(c.default,{backgroundColor:a,placement:n,theme:u})),l)};h.propTypes={backgroundColor:l.default.string,children:l.default.node,content:l.default.node,onOpenChange:l.default.func,open:l.default.bool,placement:l.default.oneOf(d.PLACEMENTS),textColor:l.default.string,theme:p.default};h.displayName="VizExTooltip";h.defaultProps={placement:"top right"};var y=h;t.default=y;e.exports=t.default},"4rU/":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getExpandingInputPlaceholderColor=t.getExpandingInputDisabledTextColor=t.getExpandingInputDisabledBackgroundColor=t.getExpandingInputErrorBorderColor=t.getExpandingInputBackgroundColor=t.getExpandingInputBorderColor=void 0;var r=a("t0JC"),n=r.getInputBorderColor;t.getExpandingInputBorderColor=n;var i=r.getInputBackgroundColor;t.getExpandingInputBackgroundColor=i;var o=r.getErrorTextColor;t.getExpandingInputErrorBorderColor=o;var s=r.getDisabledBackgroundColor;t.getExpandingInputDisabledBackgroundColor=s;var l=r.getDisabledTextColor;t.getExpandingInputDisabledTextColor=l;var u=r.getPlaceholderTextColor;t.getExpandingInputPlaceholderColor=u},"53r1":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("+dX6")),c=n(a("1WnS")),f=n(a("VXFU")),p=a("6+o1"),g=n(a("y4Zp")),m=r(a("ZQ2w")),v=n(a("YdqC")),h=a("u70c"),y=n(a("0Pki")),b=a("1PSj"),E=n(a("3chc")),_=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.fileAttachments,r=e.messagesList,n=e.portalId,i=e.senders,o=e.shouldRenderNewThreadPrompt;return m.default.createElement(y.default,{messageCount:(0,v.default)(r),shouldScrollToBottom:o},m.default.createElement(f.default,{themeConfig:(0,b.buildMessageHistoryTheme)({coloring:t})},m.default.createElement(d.default,{fileAttachments:a,historyConfig:h.MessageHistoryConfig,messages:r,portalId:n,senders:i}),o&&m.default.createElement(E.default,null)))}}]);return t}(m.Component);_.propTypes={coloring:(0,c.default)("ColoringRecord").isRequired,fileAttachments:g.default.instanceOf(p.Map).isRequired,messagesList:g.default.instanceOf(p.List),portalId:g.default.number.isRequired,senders:g.default.instanceOf(p.Map).isRequired,shouldRenderNewThreadPrompt:g.default.bool.isRequired};_.displayName="ThreadHistory";var T=_;t.default=T;e.exports=t.default},"5CUq":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("OCxt")),i=a("Lm+l"),o=a("st6n"),s=n.default.div.withConfig({displayName:"VizExTooltipBody",componentId:"qy3p0o-0"})(["border-radius:3px;font-size:13px;max-width:232px;display:block;position:absolute;visibility:visible;box-shadow:0 3px 8px rgba(0,0,0,0.1);line-height:1.5;padding:10px 16px;text-decoration:none;word-wrap:break-word;",";white-space:nowrap;background-color:",";color:",";pointer-events:",";"],i.getBodySpacing,function(e){var t=e.theme;return(0,o.getTooltipBackgroundColor)(t)},function(e){var t=e.theme;return(0,o.getTooltipTextColor)(t)},function(e){return e.open?"all":"none"});t.default=s;e.exports=t.default},"5Dxy":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachmentFromThread=void 0;var r=a("bBwc"),n=a("nncj"),i=a("rkDb"),o=a("oEjG"),s=function(e){var t=e.attachment,a=e.thread;return function(e){var s=(0,i.getThreadId)(a),l=(0,r.getLocalId)(t);e((0,o.removeAttachment)({localId:l,threadId:s}));e((0,n.trackInteraction)("remove-staged-attachment",{action:"remove staged attachment"}))}};t.removeAttachmentFromThread=s},"5EC7":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessagesList=void 0;var r=a("fD9S"),n=a("ib5I"),i=a("u70c"),o=a("42Z2"),s=!1,l=(0,n.createSelector)([o.getFilteredMessages],function(e){return(0,r.insertDatesIntoMessageList)(e,i.MessageHistoryConfig,s)});t.getMessagesList=l},"5EvN":function(e,t){function a(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}e.exports=a},"5QyL":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getNanoProgressColor=void 0;var r=a("t0JC").getPrimaryColor;t.getNanoProgressColor=r},"5eQY":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS=t.SENDER_TYPE=t.LAST_NAME=t.ID=t.FIRST_NAME=t.EMAIL=t.DATA=t.AVATAR=void 0;var r=["avatar"];t.AVATAR=r;var n=["data"];t.DATA=n;var i=["email"];t.EMAIL=i;var o=["firstName"];t.FIRST_NAME=o;var s=["id"];t.ID=s;var l=["lastName"];t.LAST_NAME=l;var u=["senderType"];t.SENDER_TYPE=u;var d=["status"];t.STATUS=d},"6FJ5":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.TIMESTAMP=t.ID=void 0;var r=["id"];t.ID=r;var n=["timestamp"];t.TIMESTAMP=n},"6M6+":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getPubSubMessage=void 0;var r=a("tnbG"),n=function(e){return(0,r.getMessage)(e)||e};t.getPubSubMessage=n},"6Nof":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SIZE_OPTIONS=t.USE_INDICATOR_COLORS=t.USE_COLORS=t.USES=t.ICON_SIZE_MAP=t.ICON_COLOR_MAP=void 0;var r=a("BQpW"),n=a("Wqcg"),i={danger:r.ALERT_DANGER,primary:r.LORAX,secondary:r.LORAX,"secondary-ghost":r.OLAF,tertiary:r.HEFFALUMP,success:r.OZ,link:r.CALYPSO,"on-dark":r.OLAF};t.ICON_COLOR_MAP=i;var o={xs:10,sm:16,md:24};t.ICON_SIZE_MAP=o;var s=["danger","primary","primary-white","secondary","secondary-ghost","tertiary","success","tertiary-light","link","on-dark"];t.USES=s;var l={danger:r.CANDY_APPLE_MEDIUM,primary:r.LORAX_MEDIUM,"primary-white":r.FLINT,secondary:r.LORAX_MEDIUM,tertiary:r.FLINT,"tertiary-light":r.FLINT,success:r.OZ_MEDIUM,link:r.CALYPSO_MEDIUM,ghost:"transparent","on-dark":(0,n.rgba)(r.OLAF,.5)};t.USE_COLORS=l;var u={danger:r.ALERT_DANGER,primary:r.LORAX,"primary-white":r.HEFFALUMP,secondary:r.LORAX,"secondary-ghost":r.OLAF,tertiary:r.HEFFALUMP,"tertiary-light":r.HEFFALUMP,success:r.OZ,link:r.CALYPSO,ghost:r.OLAF,"on-dark":r.OLAF};t.USE_INDICATOR_COLORS=u;var d={xs:"20px",sm:"28px",md:"40px"};t.SIZE_OPTIONS=d},"6iFh":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.iconFontsLoaded=t.iconFontsLoadedPromise=t.fontsLoaded=t.fontsLoadedPromise=t.createMeasureEl=t.forceSkipFontMeasurement=void 0;var r=a("7Cb9"),n=a("F0v2"),i=!1,o=!1,s=!1,l=function(){i=!0};t.forceSkipFontMeasurement=l;var u=function(e,t,a){var r=document.createElement("div");r.setAttribute("aria-hidden","true");r.textContent=e;r.style.position="absolute";r.style.top="-999px";r.style.fontFamily=t;r.style.fontWeight=a;document.body.appendChild(r);return r};t.createMeasureEl=u;var d=function(e,t){for(var a=0;a<e.length;a++){if(e[a].offsetWidth!==t[a].offsetWidth){document.body.removeChild(e[a]);document.body.removeChild(t[a]);e.splice(a,1);t.splice(a,1)}}},c=new Promise(function(e){(0,n.domReady)(function(){if(i)e();else{var t="BESbswy",a='"'+r.WEB_FONT_REGULAR+'", '+r.FALLBACK_FONT_STACK,n=[],s=[];[r.WEB_FONT_REGULAR_WEIGHT,r.WEB_FONT_MEDIUM_WEIGHT,r.WEB_FONT_DEMI_BOLD_WEIGHT,r.WEB_FONT_BOLD_WEIGHT].forEach(function(e){n.push(u(t,a,e));s.push(u(t,r.FALLBACK_FONT_STACK,e))});(function t(){d(n,s);if(0===n.length){o=!0;e()}else setTimeout(t,50)})()}})});t.fontsLoadedPromise=c;var f=function(){return o};t.fontsLoaded=f;var p=new Promise(function(e){(0,n.domReady)(function(){if(i)e();else{var t="add",a='"'+r.ICON_FONT_FAMILY+'", '+r.FALLBACK_FONT_STACK,n=[],o=[];["normal","bold"].forEach(function(e){n.push(u(t,a,e));o.push(u(t,r.FALLBACK_FONT_STACK,e))});(function t(){d(n,o);if(0===n.length){s=!0;e()}else setTimeout(t,50)})()}})});t.iconFontsLoadedPromise=p;var g=function(){return s};t.iconFontsLoaded=g},"6mnT":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildSanitizer=void 0;var n=r(a("JuOs")),i=function(e){return new n.default(e)};t.buildSanitizer=i},"6uLn":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryData=void 0;var r=a("Cy/A"),n=a("ib5I"),i=a("pnsR"),o=a("V/zO"),s=a("9VMc"),l=a("sjvu"),u=(0,n.createSelector)([o.getCurrentThreadId,i.getCurrentThreadHistoryEntry,s.getStagedThreadHistory],function(e,t,a){return e===l.STUBBED_THREAD_ID?a:(0,r.getData)(t)||null});t.getCurrentThreadHistoryData=u},"6uUH":function(e,t){function a(e,t){return e===t||e!=e&&t!=t}e.exports=a},"6yZo":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getTypingMessages=void 0;var n=r(a("l4i0")),i=a("KRhM"),o=a("mqNm"),s=r(a("up3s")),l=a("ZZP5"),u=a("ib5I"),d=a("jLXz"),c=a("V/zO"),f=a("6+o1"),p=a("xS4Z"),g=r(a("JvLM")),m=a("KK3O"),v=a("w6HA"),h=(0,u.createSelector)([d.getTypingResponderFromCurrentThread,c.getCurrentThreadId,p.isUngatedForNonPersistedMessages],function(e,t,a){if(!e||!t)return(0,f.List)();if(a){var r=(0,i.agentTypeToCMFSenderType)((0,l.getAgentType)(e),!0),u=(0,v.getSenderKeyFromType)(r);return(0,f.List)([new g.default({id:(0,m.generateUuid)(),typingState:null,sender:(0,n.default)({"@type":r},u,(0,l.getUserId)(e))})])}return(0,f.List)([(0,o.buildUnpublishedMessage)({descriptor:{},metadata:(0,s.default)(),senderId:(0,l.getUserId)(e),senderType:(0,i.agentTypeToSenderType)((0,l.getAgentType)(e),!0),threadId:t})])});t.getTypingMessages=h},"7+AW":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.trackSendMessage=void 0;var r=a("nncj"),n=function(e){var t=e.threadId;return function(e){var a={};"number"==typeof t&&(a.threadId=t);e((0,r.trackInteraction)("send-message",a))}};t.trackSendMessage=n},"74Vr":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH")),o=r(a("ZQ2w")),s=n(a("y4Zp")),l=r(a("OCxt")),u=a("04Ic"),d=a("4rU/"),c=n(a("9+BE")),f=a("pyrh"),p=a("Vj5D"),g=function(e){return""===e.trim()||"<br />"===e.trim()||"<br>"===e.trim()||"<br/>"===e.trim()},m=function(){return(0,l.css)(["outline:none;"])},v=function(e){var t=e.use,a=e.theme;switch(t){case f.UNSTYLED:return(0,l.css)(["border:none;background-color:transparent;"]);case f.DEFAULT:default:return(0,l.css)(["border:2px solid;border-color:",";background-color:",";"],(0,d.getExpandingInputBorderColor)(a),(0,d.getExpandingInputBackgroundColor)(a))}},h=function(e){var t=e.theme;return(0,l.css)(["cursor:not-allowed;background-color:",";color:",";&[contenteditable][placeholder]:empty::after{color:",";cursor:not-allowed;}"],(0,d.getExpandingInputDisabledBackgroundColor)(t),(0,d.getExpandingInputDisabledTextColor)(t),(0,d.getExpandingInputDisabledTextColor)(t))},y=function(e){var t=e.theme;return(0,l.css)(["border:2px solid;border-color:",";"],(0,d.getExpandingInputErrorBorderColor)(t))},b=l.default.div.withConfig({displayName:"VizExExpandingInput__StyledInput",componentId:"wyv292-0"})(["border-radius:3px;font-size:16px;line-height:22px;min-height:40px;max-height:",";overflow-x:hidden;overflow-y:auto;padding:8px;position:relative;width:100%;flex-basis:100%;word-break:break-word;cursor:text;",";",";@supports (-webkit-touch-callout:none){cursor:pointer;}&[contenteditable][placeholder]:empty{overflow-y:hidden;}&[contenteditable][placeholder]:empty::after{display:block;content:attr(placeholder);position:relative;color:",";background-color:transparent;cursor:text;user-select:none;font-size:16px;line-height:22px;height:22px;}@media all and (-ms-high-contrast:none){&[contenteditable][placeholder]:empty::after{position:absolute;top:50%;transform:translateY(-50%);}}:focus{",";}",";",";"],function(e){var t=e.maxHeight;return"number"==typeof t?t+"px":t||"150px"},function(e){return e.focus&&m()},v,function(e){var t=e.theme;return(0,d.getExpandingInputPlaceholderColor)(t)},m,function(e){return e.disabled&&h(e)},function(e){return e.error&&y(e)}),E=o.default.forwardRef(function(e,t){var a=t||(0,o.useRef)(),r=e.onInput,n=e.placeholder,s=e.onChange,l=e.value,d=e.maxHeight,c=e.disabled,f=(0,i.default)(e,["onInput","placeholder","onChange","value","maxHeight","disabled"]),m=function(e){e.persist();a.current.innerHTML&&g(a.current.innerHTML)&&(a.current.innerHTML="");e.target.value=e.target.innerText;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u.callIfValid.apply(void 0,[s,e].concat(n));u.callIfValid.apply(void 0,[r,e].concat(n))},v=function(e){e.preventDefault();var t;try{t=e.clipboardData.getData("text/plain")}catch(a){t=(0,p.stripHTML)(e.clipboardData.getData("text"))}document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,t):document.execCommand("paste",!1,t)};(0,o.useLayoutEffect)(function(){null!==l&&void 0!==l&&l!==a.current.innerText&&(a.current.innerText=l)},[a,l]);return o.default.createElement(b,Object.assign({},f,{ref:a,placeholder:n,onKeyUp:m,onPaste:v,contentEditable:!c,maxHeight:d,disabled:c,"aria-disabled":c}))});E.displayName="VizExExpandingInput";E.propTypes={disabled:s.default.bool,error:s.default.bool,maxHeight:s.default.number,onChange:s.default.func,onInput:s.default.func,placeholder:s.default.string,theme:c.default,use:s.default.oneOf([f.UNSTYLED,f.DEFAULT]),value:s.default.string};var _=E;t.default=_;e.exports=t.default},"7MQe":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH")),o=n(a("xbdm")),s=a("BQpW"),l=a("E1wN"),u=n(a("E7sj")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("KvPM")),p=r(a("OCxt")),g=n(a("RwLO")),m=a("D1Ly"),v=n(a("jBYh")),h=n(a("Sg5Y")),y=n(a("6cSt")),b=a("ur7i"),E=a("6Nof"),_=function(e){return E.SIZE_OPTIONS[e]||E.SIZE_OPTIONS.sm},T=(0,p.keyframes)(["100%{transform:rotate(360deg)}"]),C=(0,p.keyframes)(["0%{stroke-dasharray:1,150;stroke-dashoffset:0;}50%{stroke-dasharray:90,150;stroke-dashoffset:-50;}100%{stroke-dasharray:90,150;stroke-dashoffset:-140;}"]),I=p.default.div.withConfig({displayName:"UILoadingSpinner__SpinnerOuter",componentId:"sc-17cuir7-0"})(["position:relative;align-items:center;color:",";display:flex;flex-direction:",";justify-content:",";",";"],function(e){return"on-dark"===e.use?s.OLAF:"currentColor"},function(e){return"centered"===e.layout&&"column"},function(e){return"centered"===e.layout&&"center"},function(e){return e.grow?"width: 100%; height: 100%;":"margin: 8px"}),S=p.default.div.withConfig({displayName:"UILoadingSpinner__SpinnerInner",componentId:"sc-17cuir7-1"})(["align-items:center;display:flex;height:",";justify-content:center;width:",";"],function(e){return _(e.size)},function(e){return _(e.size)}),x=p.default.span.withConfig({displayName:"UILoadingSpinner__SpinnerLabel",componentId:"sc-17cuir7-2"})(["margin-top:",";&:not(:empty){margin-left:",";margin-right:",";}"],function(e){return"centered"===e.layout&&l.BASE_ICON_SPACING_X},l.BASE_ICON_SPACING_X,l.BASE_ICON_SPACING_X),M=p.default.div.withConfig({displayName:"UILoadingSpinner__ResultSpinner",componentId:"sc-17cuir7-3"})(["align-items:center;display:flex;justify-content:center;opacity:0;position:absolute;transform:scale(0.7);transition:opacity 0.2s cubic-bezier(0.42,0,0.58,1) 0.1s,transform 0.3s cubic-bezier(0.2,0.9,0.3,2) 0.1s;",""],function(e){return e.showResult&&"opacity: 1;\n    position: relative;\n    transform: scale(1);\n  "}),A=p.default.div.withConfig({displayName:"UILoadingSpinner__SpinnerWrapper",componentId:"sc-17cuir7-4"})(["opacity:1;transition:opacity 0.2s cubic-bezier(0.42,0,0.58,1),transform 0.2s cubic-bezier(0.89,0.03,0.68,0.22);"," ",""],(0,m.isIE11)()&&(0,p.css)(["animation:"," 2s linear infinite;"],T),function(e){return e.showResult&&"margin-left: -1px;\n    opacity: 0;\n    transform: scale(.7);\n    width: 1px;\n  "}),O=p.default.svg.withConfig({displayName:"UILoadingSpinner__Ring",componentId:"sc-17cuir7-5"})(["display:block;max-width:100%;"]),P=p.default.circle.withConfig({displayName:"UILoadingSpinner__RingPath",componentId:"sc-17cuir7-6"})(["animation:"," 2s cubic-bezier(0.42,0,0.58,1) infinite,"," 2s linear infinite;stroke-dasharray:none;stroke-dashoffset:0;stroke-linecap:round;transform-origin:center;",""],C,T,(0,m.isIE11)()&&"stroke-dasharray: 50, 150;"),R=function(e,t,a){if(a){var r=Object.assign({},e,{minHeight:a});t||(r.height="1rem");return r}return e},k={lineHeight:"inherit",verticalAlign:"middle"},N=(0,h.default)("UILoadingSpinner",function(e){var t=e["data-loading"],a=e.className,r=e.failed,n=e.grow,s=e.label,l=e.labelCompletedText,u=e.layout,d=e.minHeight,f=e.onResultDisplayFinish,p=e.resultAnimationDuration,m=e.resultIcon,h=e.showLabel,y=e.showResult,T=e.size,C=e.style,N=e.use,w=(0,i.default)(e,["data-loading","className","failed","grow","label","labelCompletedText","layout","minHeight","onResultDisplayFinish","resultAnimationDuration","resultIcon","showLabel","showResult","size","style","use"]),L=(0,c.useRef)(null);(0,c.useEffect)(function(){if(y){L.current=setTimeout(f,p);return function(){clearTimeout(L.current)}}},[f,p,y]);var D=u||(n?"centered":"inline"),F=y&&!r?(0,v.default)(l):(0,v.default)(s),U=h?x:"span",j={children:F};h?j.layout=D:j.className="sr-only";var B=(0,b.toShorthandSize)(T),Z=parseInt(_(B),10);return c.default.createElement(I,Object.assign({},w,{className:(0,o.default)("private-spinner",a),style:R(C,n,d),"data-loading":void 0!==t?t:!y,layout:D,grow:n,use:N}),c.default.createElement(S,{size:B},c.default.createElement(A,{showResult:y},c.default.createElement(O,{height:Z,width:Z,viewBox:"0 0 50 50",stroke:E.USE_COLORS[N]},c.default.createElement("circle",{cx:"25",cy:"25",r:"22.5",fill:"none",strokeWidth:"5"}),c.default.createElement(P,{cx:"25",cy:"25",r:"22.5",fill:"none",stroke:E.USE_INDICATOR_COLORS[N],strokeWidth:"5"}))),m&&!r&&c.default.createElement(M,{showResult:y},c.default.createElement(g.default,{innerStyles:k,name:m,color:E.ICON_COLOR_MAP[N],size:E.ICON_SIZE_MAP[B]||E.ICON_SIZE_MAP.sm}))),c.default.createElement(U,j))});N.propTypes={"data-loading":d.default.bool,failed:d.default.bool,showResult:d.default.bool,label:(0,y.default)(d.default.node).isRequired,labelCompletedText:(0,y.default)(d.default.node).isRequired,layout:d.default.oneOf(["inline","centered"]),minHeight:d.default.oneOfType([d.default.number,d.default.string]),grow:d.default.bool,resultAnimationDuration:d.default.number.isRequired,resultIcon:d.default.string,use:d.default.oneOf(E.USES),showLabel:d.default.bool.isRequired,size:(0,b.propTypeForSizes)(["xs","sm","md"]),onResultDisplayFinish:d.default.func};N.defaultProps={failed:!1,grow:!1,label:function(){return u.default.text("ui.UILoadingSpinner.busyText")},labelCompletedText:function(){return u.default.text("ui.UILoadingSpinner.completedText")},showResult:!1,resultAnimationDuration:1500,resultIcon:"success",role:"status",onResultDisplayFinish:f.default,showLabel:!1,size:"sm",use:"link"};var w=N;t.default=w;e.exports=t.default},"7RMX":function(e,t,a){var r=a("fwVr"),n=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}e.exports=i},"826o":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.isSupportedMessageType=void 0;var n=r(a("x5EW")),i=r(a("k4Pn")),o=a("tnbG"),s=a("NFcK"),l=a("u70c"),u=a("xw1J"),d=a("xANw"),c=function(e){if(e instanceof n.default||e instanceof i.default){e=(0,o.getMessage)(e);if((0,u.getSenderType)(e)!==d.VISITOR)return!1}if((0,s.isVisitorTypingMessage)(e))return!1;var t=(0,u.getType)(e);return Object.keys(l.MessageHistoryConfig).some(function(e){return e===t})};t.isSupportedMessageType=c},"880y":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH")),o=n(a("ZQ2w")),s=r(a("OCxt")),l=a("3MK9"),u=n(a("y4Zp")),d=n(a("9+BE")),c=function(e){var t=e.theme;return(0,s.css)(["color:",";background-color:",";"],(0,l.getFileAttachmentProcessingTextColor)(t),(0,l.getFileAttachmentProcessingBackgroundColor)(t))},f=s.default.div.withConfig({displayName:"VizExFileAttachment__AttachmentWrapper",componentId:"sc-1rgal40-0"})(["display:inline-flex;font-size:12px;padding:12px;padding-right:32px;border-radius:3px;position:relative;max-width:100%;flex-direction:row;background-color:",";border:1px solid ",";color:",";",";"],function(e){var t=e.theme;return(0,l.getFileAttachmentBackgroundColor)(t)},function(e){var t=e.theme;return(0,l.getFileAttachmentBorderColor)(t)},function(e){var t=e.theme;return(0,l.getFileAttachmentTextColor)(t)},function(e){return e.processing&&c(e)}),p=s.default.div.withConfig({displayName:"VizExFileAttachment__PreviewWrapper",componentId:"sc-1rgal40-1"})(["overflow-y:hidden;overflow-x:hidden;align-items:center;display:flex;flex-basis:auto;flex-shrink:0;font-size:32px;max-height:32px;width:32px;"]),g=s.default.div.withConfig({displayName:"VizExFileAttachment__FileInfoWrapper",componentId:"sc-1rgal40-2"})(["flex-grow:1;flex-shrink:0;margin-left:12px;"]),m=s.default.b.withConfig({displayName:"VizExFileAttachment__FileName",componentId:"sc-1rgal40-3"})(["font-weight:600;font-size:12px;line-height:12px;flex-basis:100%;"]),v=s.default.div.withConfig({displayName:"VizExFileAttachment__FileInfo",componentId:"sc-1rgal40-4"})(["font-size:12px;line-height:12px;flex-basis:100%;"]),h=function(e){var t=e.processing,a=e.preview,r=e.fileName,n=e.fileInfo,s=e.children,l=e.theme,u=(0,i.default)(e,["processing","preview","fileName","fileInfo","children","theme"]);return o.default.createElement(f,Object.assign({},u,{theme:l,processing:t}),s,o.default.createElement(p,null,a),o.default.createElement(g,null,o.default.createElement(m,null,r),o.default.createElement(v,null,n)))};h.propTypes={children:u.default.node,fileInfo:u.default.node,fileName:u.default.node,preview:u.default.node,processing:u.default.bool,theme:d.default};h.displayName="VizExFileAttachment";var y=h;t.default=y;e.exports=t.default},"8Ry/":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getLastDOMNodeMessageId=void 0;var r=a("eRbN"),n=function(){var e=document.querySelector("["+r.MESSAGE_ID_ATTR+"]:last-child");return e&&e.getAttribute?e.getAttribute(r.MESSAGE_ID_ATTR):null};t.getLastDOMNodeMessageId=n},"8UmL":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("929M")),i=r(a("ZQ2w")),o=function(){return i.default.createElement("i",null,i.default.createElement(n.default,{message:"conversations-message-history.noContent"}))};o.displayName="NoContentLabel";var s=o;t.default=s;e.exports=t.default},"8Vht":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=r(a("OCxt")),o=r(a("heXl")),s=a("Npak"),l=a("RNjb"),u=(0,i.default)(o.default).withConfig({displayName:"SkeletonCircle",componentId:"sc-1a3tugc-0"})(["border-radius:50%;width:",";height:",";min-width:",";"],function(e){var t=e.size;return(0,l.getSize)(t)},function(e){var t=e.size;return(0,l.getSize)(t)},function(e){var t=e.size;return(0,l.getSize)(t)});u.defaultProps={size:s.CIRCLE_BASE_SIZE};u.propTypes={size:n.default.number};var d=u;t.default=d;e.exports=t.default},"8Z7s":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a("6+o1"),n=a("BQpW"),i=(0,r.Record)({width:"auto",minHeight:36,borderColor:n.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:n.FLINT},"QuickReplyTheme");t.default=i;e.exports=t.default},"8cQJ":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.shouldShowMeetingsLink=void 0;var n=a("ib5I"),i=r(a("btIm")),o=a("sdvt"),s=(0,n.createSelector)([o.getAssignedResponderInWidget],function(e){return Boolean(e&&(0,i.default)(e))});t.shouldShowMeetingsLink=s},"8dPH":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("EXsY"),i=r(a("MqpG")),o=a("BQpW"),s=r(a("ZQ2w")),l=r(a("OCxt")).default.div.withConfig({displayName:"DateLabel__StyleWrapper",componentId:"sc-1sxp25a-0"})(["","{border-color:",";}"],n.StyledBorder,o.CIRRUS),u=function(e){return s.default.createElement(l,null,s.default.createElement(i.default,Object.assign({},e,{labelPadding:"m-y-3"})))};u.displayName="DateLabel";u.propTypes=i.default.propTypes;var d=u;t.default=d;e.exports=t.default},"8fPJ":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getResponderKeyAsSenderLocator=void 0;var r=a("S3IA"),n=a("MscV"),i=function(e){return(0,r.buildSenderLocator)((0,n.getType)(e),(0,n.getId)(e))};t.getResponderKeyAsSenderLocator=i},"8g3q":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.LINK_USES=t.USE_CLASSES=t.SIZE_CLASSES=void 0;var r={default:"private-button--default",sm:"private-button--sm",xs:"private-button--xs",md:"private-button--default"};t.SIZE_CLASSES=r;var n={danger:"private-button--destructive",link:"private-button__link","link-danger":"private-button__link private-button__link--danger","link-on-dark":"private-button__link private-button__link--on-dark","link-on-bright":"private-button__link private-button__link--on-bright",primary:"private-button--primary","primary-white":"private-button--primary--white",secondary:"private-button--secondary","secondary-ghost":"private-button--secondary--ghost",tertiary:"private-button--tertiary","tertiary-light":"private-button--tertiary-light","tertiary-extra-light":"private-button--tertiary-extra-light",transparent:"private-button--transparent",unstyled:"private-button--unstyled",form:"private-button--form private-form__control","form-on-dark":"private-button--form private-form__control private-button--form--on-dark"};t.USE_CLASSES=n;var i=["link","link-danger","link-on-dark"];t.LINK_USES=i},"8mUY":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.OPPOSITE_DIRECTIONS=t.PLACEMENTS=t.PLACEMENTS_SIDES=t.PLACEMENTS_VERT=t.PLACEMENTS_HORIZ=void 0;var r=["left","right"];t.PLACEMENTS_HORIZ=r;var n=["top","bottom"];t.PLACEMENTS_VERT=n;var i=r.concat(n);t.PLACEMENTS_SIDES=i;var o=i.concat(["left top","left bottom","right top","right bottom","top left","top right","bottom left","bottom right","top center","bottom center","left middle","right middle"]);t.PLACEMENTS=o;var s={top:"bottom",bottom:"top",left:"right",right:"left",middle:"middle",center:"center"};t.OPPOSITE_DIRECTIONS=s},"94Bk":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeStyles=t.BLACKLISTED_STYLES=void 0;var r=["position","top","bottom","left","right","z-index","clear","float","background-image","white-space"];t.BLACKLISTED_STYLES=r;var n=function(e){var t=e.node;if(t&&t.style&&t.style.length>0&&t.style.removeProperty){r.forEach(function(e){return t.style.removeProperty(e)});return{node:t}}return null};t.removeStyles=n},"94fv":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MOBILE=t.UNKNOWN=t.API=t.WEB=void 0;var r="WEB";t.WEB=r;var n="API";t.API=n;var i="UNKNOWN";t.UNKNOWN=i;var o="MOBILE";t.MOBILE=o},"9F43":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a("6+o1").Record)({avatar:null,email:null,firstName:null,id:null,lastName:null,senderType:null},"Sender");t.default=r;e.exports=t.default},"9H+j":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateSessionId=void 0;var r=a("CRij"),n=a("lPFy"),i=(0,r.createAction)(n.UPDATE_SESSION_ID,function(e){return{sessionId:e}});t.updateSessionId=i},"9J2q":function(e,t,a){var r=a("wzyz")(a("QN3r"),"Map");e.exports=r},"9O5s":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=a("ib5I"),i=r(a("BjQQ")),o=a("8XG9"),s=(0,n.createSelector)(o.getWelcomeMessage,(0,i.default)("id"));t.getMessageId=s},A2Dt:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("xbdm"));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("private-media__item private-media__item--left",t)}))}l.displayName="UIMediaLeft";l.propTypes={children:i.default.node};e.exports=t.default},AB8y:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("xbdm"));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("media-body private-media__body",t)}))}l.displayName="UIMediaBody";l.propTypes={children:i.default.node};e.exports=t.default},AIeD:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.OTHER=t.AUDIO=t.DOCUMENT=t.MOVIE=t.IMG=void 0;var r="IMG";t.IMG=r;var n="MOVIE";t.MOVIE=n;var i="DOCUMENT";t.DOCUMENT=i;var o="AUDIO";t.AUDIO=o;var s="OTHER";t.OTHER=s},AXPb:function(e,t,a){"use strict";var r=a("6+o1"),n="<<anonymous>>",i={listOf:c,mapOf:p,orderedMapOf:g,setOf:m,orderedSetOf:v,stackOf:h,iterableOf:y,recordOf:b,shape:_,contains:_,mapContains:T,list:l("List",r.List.isList),map:l("Map",r.Map.isMap),orderedMap:l("OrderedMap",r.OrderedMap.isOrderedMap),set:l("Set",r.Set.isSet),orderedSet:l("OrderedSet",r.OrderedSet.isOrderedSet),stack:l("Stack",r.Stack.isStack),seq:l("Seq",r.Seq.isSeq),record:l("Record",function(e){return e instanceof r.Record}),iterable:l("Iterable",r.Iterable.isIterable)};function o(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function s(e){function t(t,a,r,i,o,s){for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];s=s||r;i=i||n;return null!=a[r]?e.apply(void 0,[a,r,i,o,s].concat(u)):t?new Error("Required "+o+" `"+s+"` was not specified in `"+i+"`."):void 0}var a=t.bind(null,!1);a.isRequired=t.bind(null,!0);return a}function l(e,t){function a(a,r,n,i,s){var l=a[r];if(!t(l)){var u=o(l);return new Error("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `"+e+"`.")}return null}return s(a)}function u(e,t,a){function r(r,n,i,s,l){for(var u=arguments.length,d=Array(u>5?u-5:0),c=5;c<u;c++)d[c-5]=arguments[c];var f=r[n];if(!a(f)){var p=s,g=o(f);return new Error("Invalid "+p+" `"+l+"` of type `"+g+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+l+"`, expected a function.");for(var m=f.toArray(),v=0,h=m.length;v<h;v++){var y=e.apply(void 0,[m,v,i,s,l+"["+v+"]"].concat(d));if(y instanceof Error)return y}}return s(r)}function d(e){function t(t,a,r,n,i){for(var o=arguments.length,s=Array(o>5?o-5:0),l=5;l<o;l++)s[l-5]=arguments[l];var u=t[a];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` for propType `"+i+"`, expected a function.");for(var d=u.keySeq().toArray(),c=0,f=d.length;c<f;c++){var p=e.apply(void 0,[d,c,r,n,i+" -> key("+d[c]+")"].concat(s));if(p instanceof Error)return p}}return s(t)}function c(e){return u(e,"List",r.List.isList)}function f(e,t,a,r){function n(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return u(e,a,r).apply(void 0,i)||t&&d(t).apply(void 0,i)}return s(n)}function p(e,t){return f(e,t,"Map",r.Map.isMap)}function g(e,t){return f(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)}function m(e){return u(e,"Set",r.Set.isSet)}function v(e){return u(e,"OrderedSet",r.OrderedSet.isOrderedSet)}function h(e){return u(e,"Stack",r.Stack.isStack)}function y(e){return u(e,"Iterable",r.Iterable.isIterable)}function b(e){function t(t,a,n,i,s){for(var l=arguments.length,u=Array(l>5?l-5:0),d=5;d<l;d++)u[d-5]=arguments[d];var c=t[a];if(!(c instanceof r.Record)){var f=o(c);return new Error("Invalid "+i+" `"+s+"` of type `"+f+"` supplied to `"+n+"`, expected an Immutable.js Record.")}for(var p in e){var g=e[p];if(g){var m=c.toObject(),v=g.apply(void 0,[m,p,n,i,s+"."+p].concat(u));if(v)return v}}}return s(t)}function E(e){var t=void 0===arguments[1]?"Iterable":arguments[1],a=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];function n(r,n,i,s,l){for(var u=arguments.length,d=Array(u>5?u-5:0),c=5;c<u;c++)d[c-5]=arguments[c];var f=r[n];if(!a(f)){var p=o(f);return new Error("Invalid "+s+" `"+l+"` of type `"+p+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var g=f.toObject();for(var m in e){var v=e[m];if(v){var h=v.apply(void 0,[g,m,i,s,l+"."+m].concat(d));if(h)return h}}}return s(n)}function _(e){return E(e)}function T(e){return E(e,"Map",r.Map.isMap)}e.exports=i},AYv8:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("LEoB")),i=r(a("HSGs")),o=(0,n.default)({name:"EmailAddress",validator:function(e){return i.default.test(e)}});t.default=o;e.exports=t.default},Acer:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("tKZ1")),c=n(a("+Wel")),f=n(a("4JpU")),p=n(a("y4Zp")),g=r(a("ZQ2w")),m=n(a("OCxt")),v=n(a("O1/d")),h=n(a("fDD7")),y=a("ZBtC"),b=n(a("rlJy")),E=a("U+Tu"),_=a("kgGd"),T=a("RhWw"),C=a("Hbdb"),I=a("P3bs"),S="8px",x=m.default.div.withConfig({displayName:"PrimaryMessage__PrimaryMessageWrapper",componentId:"sc-1oc9g5v-0"})(["display:flex;flex-direction:column;align-items:",";padding-left:",";","{","{width:",";margin-left:-",";margin-right:",";}>:first-child{&","{margin-left:",";}}}","{margin-left:",";}","{margin-left:",";}"],function(e){return e.alignment||"flex-start"},S,C.PrimaryMessageHeaderWrapper,E.PrimaryMessageAvatarWrapper,function(e){return e.avatarWidth},S,S,I.PrimaryMessageHeaderContentWrapper,function(e){return e.avatarWidth},_.PrimaryMessageContentWrapper,function(e){return e.avatarWidth},T.PrimaryMessageFooterWrapper,function(e){return e.avatarWidth}),M=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.className,n=t.positionDescriptors,i=t.use;return a?g.default.createElement(b.default,{themeConfig:this.context,use:i},g.default.createElement(d.default,{positionDescriptors:n,className:r},g.default.createElement(h.default.Consumer,null,function(t){return g.default.createElement(x,{"data-test-id":e.props["data-test-id"],"data-test-use":i,alignment:(0,y.getAlignment)(t),avatarWidth:(0,y.getAvatarWidth)(t)},a)}))):null}}]);return t}(g.PureComponent);t.default=M;M.contextType=v.default;M.displayName="PrimaryMessage";M.propTypes={children:p.default.node,className:p.default.string,"data-test-id":p.default.string,positionDescriptors:f.default,use:c.default};e.exports=t.default},Al5z:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SIZE_OPTIONS=t.PADDING_OPTIONS=t.ALIGNMENT_CLASSES=void 0;var r={start:"",baseline:"private-checkbox--align-baseline",center:"private-checkbox--align-center",end:"private-checkbox--align-end"};t.ALIGNMENT_CLASSES=r;var n={default:"",none:"private-checkbox--flush"};t.PADDING_OPTIONS=n;var i={default:"",sm:"private-checkbox--small"};t.SIZE_OPTIONS=i},B948:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildVisitorCommonMessage=void 0;var n=r(a("l4i0")),i=a("xANw"),o=r(a("7Z2c")),s=a("w6HA"),l=a("s40G"),u=a("jn74"),d=a("KK3O"),c=a("D0+0"),f=a("jwfw"),p=a("rkDb"),g=function(e){var t,a=e.clientType,r=e.fileAttachment,g=e.quickReply,m=e.richText,v=e.senderId,h=e.text,y=e.thread,b=(0,p.getSource)(y),E=(0,l.toCmfSender)(i.VISITOR),_=(0,s.getSenderKeyFromType)(E),T=[];r&&T.push(r);g&&T.push(new o.default(g));return(0,f.buildCommonMessage)({status:{source:b,messageStatus:c.SENT},clientType:a,attachments:T,text:h,richText:m,id:(0,d.generateUuid)(),sender:(t={},(0,n.default)(t,u.MESSAGE_TYPE_ID,E),(0,n.default)(t,_,v),t)})};t.buildVisitorCommonMessage=g},BBNf:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("84Y+"),i=a("5Dxy"),o=a("Qu2R"),s=a("Ta4D"),l=a("Gbx4"),u=a("3R6H"),d=a("/own"),c=a("cep6"),f=a("zC+/"),p=a("L6i2"),g=a("RPTv"),m=a("GAhl"),v=a("rXC1"),h=r(a("ilp/")),y=a("999m"),b=a("/bxT"),E=a("E53m"),_=a("KMxH"),T=a("MS0j"),C=a("HmhQ"),I=a("Pett"),S=a("aR6q"),x=a("nIKk"),M=a("1vHS"),A=a("E+Od"),O=a("Qq8X"),P=a("+Tc3"),R=a("e1jc"),k=function(e){var t=(0,c.getSelectedThread)(e),a=!(0,E.getAllowUserInput)(e,{thread:t})&&(0,m.hasUnansweredQuickReplyMessage)(e,{thread:t}),r=(0,_.getIsBot)(e)&&(0,R.getIsWidgetInAwayMode)(e)&&!(0,P.isPersistedThread)(t);return{coloring:(0,f.getColoring)(e),currentConversation:t,disablePublish:!(0,u.canPublish)(e),disableTextInput:a||r,showQuickReplyPlaceholder:a,isOnFocus:(0,I.getInputFocus)(e),stagedMessage:(0,x.getMessageEditorText)(e),messagesPageUri:(0,p.getMessagesPageUri)(e),networkOffline:(0,d.pubsubConnectionFailed)(e),showingHsBranding:(0,g.getShowingHsBranding)(e),showInitialMessageBubble:(0,b.getShowInitialMessageBubble)(e),stagedAttachments:(0,s.getFileUploadListForCurrentThreadId)(e),mobile:(0,T.getIsMobile)(e),shouldDisableAttachment:(0,S.getShouldDisableAttachment)(e),shouldSendInputStagingEvent:(0,O.getIsPortal53)()}},N={closeInitialMessageBubble:y.closeInitialMessageBubble,inputStagingEvent:A.inputStagingEvent,onRemoveAttachment:i.removeAttachmentFromThread,onSelectAttachmentFile:o.selectAttachmentFile,publishMessage:l.publishVisitorMessage,publishTypingMessage:v.publishTypingMessage,toggleOnAndOffInputFocus:C.toggleOnAndOffInputFocus,setMessageEditorStagingText:M.setMessageEditorStagingText,removeMessageEditorStagingText:M.removeMessageEditorStagingText},w=(0,n.connect)(k,N)(h.default);t.default=w;e.exports=t.default},BM9f:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("M0MQ")),s=r(a("ZQ2w")),l=r(a("E7sj")),u=(0,o.default)({displayName:"FormattedSize",propTypes:{value:i.default.number.isRequired},render:function(){var e=this.props,t=e.value,a=(0,n.default)(e,["value"]);return s.default.createElement("span",null,l.default.formatSize(t,a))}});t.default=u;e.exports=t.default},BOd2:function(e,t,a){var r=a("QWT7");function n(e){return r(this,e).get(e)}e.exports=n},BVv3:function(e,t,a){"use strict";"use es6";var r=a("Z7VI"),n=a("nhTm");Object.defineProperty(t,"__esModule",{value:!0});t.withScrollTo=t.getSnapshotFields=t.getCurrent=void 0;var i=n(a("ZQ2w")),o=a("DV2K"),s=r(a("sJB7")),l=a("Hk0n"),u=r(a("BjQQ")),d=a("0k72"),c=a("2Qkk"),f=(0,u.default)("current");t.getCurrent=f;var p=function(e){var t=f(e);return{lastMessageId:t.lastMessageId,lastMessageOffsetTop:t.lastMessageOffsetTop,prevScrollTop:t.prevScrollTop}};t.getSnapshotFields=p;var g=function(e){(0,l.componentFunctionInvariant)(e,["getScrollDistanceFromTop","getScrollDistanceFromBottom","setScrollTop","scrollToBottom"]);var a=(0,i.forwardRef)(function(e,a){var r=(0,i.useRef)(),n=(0,i.useRef)();a.current={scrollToMessage:(0,c.scrollToMessageFactory)(),scrollToBottom:(0,c.scrollToBottomFactory)({scrollWrapperRef:r}),scrollToBottomIfInThreshold:(0,c.scrollToBottomIfInThresholdFactory)({scrollWrapperRef:r})};var l=(0,i.useRef)(!0);(0,i.useLayoutEffect)(function(){var e=t.getCurrent(r);if(l.current){n.current=(0,d.getMessageHistoryScrollingSnapshot)(e);l.current=!1}else if(n.current){var a=t.getSnapshotFields(n),i=a.lastMessageId,s=a.lastMessageOffsetTop,u=a.prevScrollTop;n.current=(0,d.getMessageHistoryScrollingSnapshot)(e);if(e.getScrollDistanceFromTop()===u){var c=(0,o.getDOMNodeByMessageId)(i);if(c&&c.offsetTop){var f=c.offsetTop-s;f&&e.setScrollTop(e.getScrollDistanceFromTop()+f)}}}});return i.default.createElement(s.default,Object.assign({ref:r},e))});a.displayName="WithScrollTo";return a};t.withScrollTo=g},BWYj:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFormControlErrorTextColor=void 0;var r=a("t0JC").getErrorTextColor;t.getFormControlErrorTextColor=r},BaOL:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadProgress=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_PROGRESS);t.attachmentUploadProgress=i},BvZg:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.THUMBNAIL_METADATA=t.FILE_METADATA=t.FILE_ID=void 0;var r=["fileId"];t.FILE_ID=r;var n=["fileMetadata"];t.FILE_METADATA=n;var i=["thumbnailMetadata"];t.THUMBNAIL_METADATA=i},Bwv2:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=s;var n=r(a("7iZm")),i=a("ZQ2w"),o=function(e){var t=e.key;return"Enter"===t||" "===t};function s(e){var t=e.active,a=e.onMouseDown,r=e.onKeyDown,s=e.onKeyUp,l=e.onBlur,u=(0,i.useState)(!1),d=(0,n.default)(u,2),c=d[0],f=d[1],p=(0,i.useCallback)(function(e){a&&a(e);f(!0)},[a]),g=(0,i.useCallback)(function(e){r&&r(e);o(e)&&f(!0)},[r]),m=(0,i.useCallback)(function(e){s&&s(e);o(e)&&f(!1)},[s]),v=(0,i.useCallback)(function(e){l&&l(e);f(!1)},[l]);(0,i.useEffect)(function(){if(c){var e=function(){f(!1)};addEventListener("mouseup",e);return function(){removeEventListener("mouseup",e)}}},[c]);return{active:null!=t?t:c,onMouseDown:c?a:p,onKeyDown:c?r:g,onKeyUp:c?m:s,onBlur:c?v:l}}e.exports=t.default},CUjz:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH"));a("ZqU6");var o=n(a("E7sj")),s=n(a("y4Zp")),l=r(a("ZQ2w")),u=r(a("OCxt")),d=n(a("xbdm")),c=(n(a("A8Hs")),n(a("Sg5Y"))),f=n(a("QPLO")),p=a("4DKt"),g=a("ah5j"),m=a("rvN4"),v=a("nf+H"),h=n(a("5wHW")),y=n(a("UQE4")),b=n(a("3LKE")),E=(0,u.css)([".private-table tr:not(:hover) .private-link:not(:focus) &{visibility:hidden;}"]),_=(0,u.default)(function(e){e.truncated;var t=(0,i.default)(e,["truncated"]);return l.default.createElement(h.default,t)}).withConfig({displayName:"UILink__DefaultExternalIcon",componentId:"u098z8-0"})(["",""],function(e){return e.truncated&&E}),T=(0,c.default)("UILink",function(e){var t=e.children,a=e.className,r=e.disabled,n=e.external,s=e.ExternalIcon,u=e.href,c=e.iconProps,f=e.linkRef,h=e.onClick,b=e.onKeyDown,E=e.rel,_=e.role,T=e.tabIndex,C=e.target,I=(e.to,e.truncate),S=e.truncateStringProps,x=e.underline,M=e.use,A=(0,i.default)(e,["children","className","disabled","external","ExternalIcon","href","iconProps","linkRef","onClick","onKeyDown","rel","role","tabIndex","target","to","truncate","truncateStringProps","underline","use"]);0;var O=(0,l.useRef)(null),P=(0,g.getTarget)(n,C),R=(0,g.getRel)(E,P),k=u?void 0:_||"button",N=n?l.default.createElement(s,Object.assign({"aria-label":o.default.text("salesUI.UILink.externalTitle"),name:"externalLink"},c,{className:(0,d.default)("private-link--external__icon",c&&c.className),truncated:I})):null;0;var w=I?l.default.createElement(y.default,Object.assign({useFlex:!0,fixedChildren:N},S),t):t,L=l.default.createElement("a",Object.assign({},A,{className:(0,d.default)("private-link",v.UNDERLINE_CLASSES[x],v.USE_CLASSES[M],a,r&&"private-link--disabled"),onClick:function(e){if(r){e.preventDefault();e.stopPropagation()}else h&&h(e)},onKeyDown:function(e){var t=e.key;b&&b(e);if(h&&e.target===(f||O).current&&" "===t){if(r){e.preventDefault();e.stopPropagation();return}h(e);e.preventDefault()}},href:r?void 0:(0,p.getSafeUrl)(u),ref:f||O,rel:R,role:k,tabIndex:(0,m.getTabIndex)(r,T),target:P,"aria-disabled":r}),w,I?null:N);return(0,g.renderSecurityTaggedLink)(u,L)});T.propTypes={children:s.default.node,disabled:s.default.bool,external:s.default.bool.isRequired,ExternalIcon:s.default.elementType.isRequired,href:f.default,iconProps:s.default.object,linkRef:b.default,onKeyDown:s.default.func,rel:s.default.string,target:s.default.string,truncate:s.default.bool.isRequired,truncateStringProps:s.default.object,underline:s.default.bool.isRequired,use:s.default.oneOf(Object.keys(v.USE_CLASSES)).isRequired};T.defaultProps={external:!1,ExternalIcon:_,truncate:!1,underline:!1,use:"dark"};var C=T;t.default=C;e.exports=t.default},D2kf:function(e,t,a){"use strict";"use es6";var r=a("Z7VI"),n=a("nhTm");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.spinnerUse=t.buttonUse=t.SECONDARY=t.PRIMARY=void 0;var i,o,s=r(a("l4i0")),l=n(a("HLKB")),u=n(a("wUIW")),d="primary";t.PRIMARY=d;var c="secondary";t.SECONDARY=c;var f={PRIMARY:d,SECONDARY:c},p=(i={},(0,s.default)(i,d,l.PRIMARY),(0,s.default)(i,c,l.SECONDARY),i),g=function(e){return p[e]};t.buttonUse=g;var m=(o={},(0,s.default)(o,d,u.SECONDARY),(0,s.default)(o,c,u.PRIMARY),o),v=function(e){return m[e]};t.spinnerUse=v;var h=f;t.default=h},DHw3:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToProcess=y;t.consentToProcessFailed=t.consentToProcessSucceeded=t.clickedConsentToProcess=void 0;var r=a("CRij"),n=a("4scq"),i=a("Dho5"),o=a("xOvp"),s=a("9O5s"),l=a("xqCo"),u=a("Jtvd"),d=a("gmfO"),c=a("9H+j"),f=a("/A3W"),p=a("nncj"),g=a("qeXV"),m=(0,r.createAction)(i.CONSENT_TO_PROCESS);t.clickedConsentToProcess=m;var v=(0,r.createAction)(i.CONSENT_TO_PROCESS_SUCCEEDED);t.consentToProcessSucceeded=v;var h=(0,r.createAction)(i.CONSENT_TO_PROCESS_FAILED);t.consentToProcessFailed=h;function y(){return function(e,t){var a=(0,o.getSessionId)(t()),r=(0,s.getMessageId)(t()),i=(0,f.getHubspotUtk)(t()),y=(0,g.getLatestWidgetData)(t());e(m());(0,l.sendConsentToProcess)({sessionId:a,hubspotUtk:i,welcomeMessageId:r,widgetData:y}).then(function(a){var r=a.sessionId;(0,d.gdprCookieConsentOnExitIntentEnabled)(t(),y)||e((0,u.handleStoreMessagesCookie)((0,n.getMessagesUtk)(t())));e((0,c.updateSessionId)(r));e(v());e((0,p.trackInteraction)("widget-interaction",{action:"clicked consent to process button"}))},function(t){return e(h({error:t}))}).done()}}},DV2K:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getDOMNodeByMessageId=void 0;var r=a("eRbN"),n=function(e){return document.querySelector("["+r.MESSAGE_ID_ATTR+'="'+e+'"]')};t.getDOMNodeByMessageId=n},DZ7b:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("E7sj")),d=r(a("929M")),c=r(a("y4Zp")),f=r(a("ZQ2w")),p=r(a("nU4D")),g=r(a("OCxt")),m=r(a("3ROU")),v=r(a("4q8T")),h=r(a("+NYN")),y=r(a("U6qJ")),b=g.default.input.withConfig({displayName:"AttachmentPickerButton__HiddenInput",componentId:"mj74yt-0"})(["display:none;"]),E=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).inputRefCallback=function(e){a.inputRef=e};a.findInputNode=function(){return a.inputRef?p.default.findDOMNode(a.inputRef):null};a.clearInputNode=function(){var e=a.findInputNode();e&&(e.value="")};a.handlePickerClick=function(e){var t=a.findInputNode();t&&t.click();a.props.onClick(e)};a.onInputChange=function(e){var t=e.target.files;a.props.onSelectFiles({files:t});a.clearInputNode()};a.renderMaxFileSizeTooltip=function(){if(!a.props.mobile)return f.default.createElement(d.default,{message:"conversations-visitor-ui.fileSizeLimit",options:{size:u.default.formatSize(a.props.maxAttachmentFileSize)}})};a.inputRef=null;return a}(0,i.default)(t,[{key:"render",value:function(){var e=this.props.disabled;return f.default.createElement(f.default.Fragment,null,f.default.createElement(v.default,{content:this.renderMaxFileSizeTooltip(),placement:"top center"},f.default.createElement(m.default,{disabled:e,onClick:this.handlePickerClick,use:"transparent-on-background","aria-label":u.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.attachment"),shape:"circle"},f.default.createElement(h.default,{icon:f.default.createElement(y.default,null)}))),f.default.createElement(b,{accept:this.props.accept.join(","),"data-selenium-test":"visitor-attachment-file-input",disabled:this.props.disabled,ref:this.inputRefCallback,type:"file",multiple:this.props.allowMultiple,onChange:this.onInputChange}))}}]);return t}(f.default.PureComponent);E.displayName="AttachmentPickerButton";E.propTypes={accept:c.default.arrayOf(c.default.string).isRequired,allowMultiple:c.default.bool.isRequired,disabled:c.default.bool,maxAttachmentFileSize:c.default.number.isRequired,mobile:c.default.bool,onClick:c.default.func,onSelectFiles:c.default.func.isRequired};E.defaultProps={accept:[],allowMultiple:!1,onClick:function(){}};var _=E;t.default=_;e.exports=t.default},Dayo:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH")),o=n(a("xbdm")),s=(n(a("y4Zp")),r(a("ZQ2w"))),l=a("D1Ly"),u=a("hg2e"),d=a("ur7i"),c=a("Al5z"),f=(0,s.forwardRef)(function(e,t){var a=e.alignment,r=e.checked,n=e.children,f=e.childWrapperId,p=e.className,g=e.description,m=e.descriptionId,v=e.descriptionLayout,h=e.disabled,y=e.indicator,b=e.inline,E=e.input,_=e.labelClassName,T=e.onChange,C=e.readOnly,I=e.size,S=(0,i.default)(e,["alignment","checked","children","childWrapperId","className","description","descriptionId","descriptionLayout","disabled","indicator","inline","input","labelClassName","onChange","readOnly","size"]),x=(0,d.toShorthandSize)(I);return s.default.createElement("div",Object.assign({},S,{className:(0,o.default)(p,c.ALIGNMENT_CLASSES[a],c.SIZE_OPTIONS[x],h&&"private-checkbox--disabled",C&&"private-checkbox--readonly",b&&"private-checkbox--inline",g&&"vertical"===v&&"private-checkbox--stack-contents"),ref:t}),s.default.createElement("label",{className:(0,o.default)("private-checkbox__label",_),onClick:function(e){(0,l.isFirefox)()&&(0,u.isModifierPressed)(e)&&T(Object.assign({},e,{type:"change",target:{checked:!r}}))}},s.default.createElement("span",{className:"private-checkbox__inner"},E,y,n&&s.default.createElement("span",{className:"private-checkbox__text"+("sm"===x?" private-checkbox__text--small":""),id:f},n))),g&&s.default.createElement("span",{className:"private-checkbox__desc",id:m},g))});f.displayName="ToggleInputWrapper";0;var p=f;t.default=p;e.exports=t.default},Dg0F:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getGlobalCookieOptOut=void 0;var n=(0,r(a("BjQQ")).default)("globalCookieOptOut");t.getGlobalCookieOptOut=n},DuB0:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("y4Zp")),d=r(a("ZQ2w")),c=r(a("dln+")),f=a("1WM8"),p=r(a("fDD7")),g=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.disabled,r=e.onClick,n=this.context;return d.default.createElement(c.default,{key:"send-button",use:"primary",theme:(0,f.getQuickReplyTheme)(n),disabled:a,onClick:r},t)}}]);return t}(d.default.Component);g.contextType=p.default;g.defaultProps={multiSelect:!1,hasSentReply:!1};g.displayName="QuickReplySendButton";g.propTypes={children:u.default.node.isRequired,disabled:u.default.bool.isRequired,onClick:u.default.func.isRequired};var m=g;t.default=m;e.exports=t.default},DyWv:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=a("84Y+"),c=n(a("y4Zp")),f=n(a("E7sj")),p=r(a("ZQ2w")),g=n(a("pL8I")),m=n(a("KEa2")),v=a("nncj"),h=a("lEuo"),y=a("48X+"),b=a("zC+/"),E=n(a("1WnS")),_=a("gmfO"),T=a("qeXV"),C=a("O4fT"),I=a("Yuqq"),S=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to cookies"})}},{key:"render",value:function(){var e=this;return p.default.createElement(C.ChatWidgetLocaleContextConsumer,null,function(t){return e.props.isExitIntentPrompt?p.default.createElement(g.default,{headerMessage:"conversations-visitor-ui.gdpr.consentToCookies.promptHeader",message:f.default.text("conversations-visitor-ui.gdpr.consentToCookies.exitIntentCookieConsent",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring}):p.default.createElement(m.default,{message:f.default.text("conversations-visitor-ui.gdpr.consentToCookies.pageLoadCookieConsent",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring,showButton:!0})})}}]);return t}(p.Component);S.displayName="CookieConsentPrompt";S.propTypes={coloring:(0,E.default)("ColoringRecord"),consentToCookies:c.default.func.isRequired,declineCookies:c.default.func.isRequired,isExitIntentPrompt:c.default.bool.isRequired,trackInteraction:c.default.func.isRequired};var x={consentToCookies:h.consentToCookies,declineCookies:y.declineCookies,trackInteraction:v.trackInteraction},M=function(e){return{coloring:(0,b.getColoring)(e),widgetData:(0,T.getLatestWidgetData)(e),isExitIntentPrompt:(0,_.gdprCookieConsentOnExitIntentEnabled)(e)&&!(0,I.getAPIEnableWidgetCookieBanner)(e)}},A=(0,d.connect)(M,x)(S);t.default=A;e.exports=t.default},"E+Od":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.inputStagingEvent=void 0;var r=a("wjj1"),n=a("Wjp6"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){a((0,r.postExternalApiEvent)({eventType:n.INPUT_STAGING,payload:{visitorMessageData:e,isEmptyInput:t}}))}};t.inputStagingEvent=i},E0l7:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledFileAttachmentTile=t.AttachmentsFooterWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("PRLE")),c=a("WSPb"),f=a("6+o1"),p=n(a("y4Zp")),g=r(a("ZQ2w")),m=n(a("OCxt")),v=n(a("fDD7")),h=a("ZBtC"),y=a("VSAg"),b=m.default.div.withConfig({displayName:"AttachmentsFooter__AttachmentsFooterWrapper",componentId:"sc-1c1lxw6-0"})(["cursor:pointer;box-sizing:border-box;display:block;background-color:",";"],function(e){return e.backgroundColor});t.AttachmentsFooterWrapper=b;var E=(0,m.default)(d.default).withConfig({displayName:"AttachmentsFooter__StyledFileAttachmentTile",componentId:"sc-1c1lxw6-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"});t.StyledFileAttachmentTile=E;var _=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return g.default.createElement(b,{backgroundColor:(0,h.getBackgroundColor)(this.context)},t.map(function(t,a){return g.default.createElement(E,{key:a,fileMetadata:(0,c.getFileMetadata)(t),backgroundColor:(0,y.getTileBackgroundColor)((0,h.getFileAttachmentTheme)(e.context))})}))}}]);return t}(g.PureComponent);_.contextType=v.default;_.displayName="AttachmentsFooter";_.propTypes={fileAttachments:p.default.instanceOf(f.List).isRequired};var T=_;t.default=T},E53m:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getAllowUserInput=void 0;var r=a("ib5I"),n=a("KGLF"),i=a("MNH3"),o=a("Iw1V"),s=a("3rpF"),l=a("okVP"),u=(0,r.createSelector)([n.historyDataForThread],function(e){if(!e||!(0,l.hasMessages)(e))return!0;var t=(0,o.getMessages)(e).filter(function(e){return(0,i.isChatMessage)(e)||(0,i.isInitialMessage)(e)}).last();return(0,s.getQuickReplyAllowUserInput)(t)});t.getAllowUserInput=u},E6iF:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getFileName=void 0;var n=r(a("BjQQ")),i=a("bBwc"),o=function(e){var t=(0,i.getFile)(e);return(0,n.default)("name",t)||""};t.getFileName=o},E6l7:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("y+AS")),f=a("bBwc"),p=a("2n6i"),g=n(a("1WnS")),m=a("gwgA"),v=n(a("E7sj")),h=a("6+o1"),y=n(a("y4Zp")),b=r(a("ZQ2w")),E=n(a("nU4D")),_=n(a("OCxt")),T=a("ZfMY"),C=n(a("bodK")),I=n(a("TlSS")),S=n(a("Zpnd")),x=a("D5+Q"),M=n(a("DZ7b")),A=a("LTXT"),O=a("LRZ7"),P=n(a("3ROU")),R=n(a("oGKh")),k=n(a("+NYN")),N=a("CCAD"),w=_.default.div.withConfig({displayName:"MessageEditor__FileUploadWrapper",componentId:"sc-8t1ye7-0"})(["display:flex;overflow:auto;& > *:not(:last-child){margin-right:8px;}"]),L=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={messageText:e.stagedMessageEditorText||""};a.handleChange=a.handleChange.bind((0,u.default)(a));a.handlePublish=a.handlePublish.bind((0,u.default)(a));a.handleKeyDown=a.handleKeyDown.bind((0,u.default)(a));a.setEditorRef=a.setEditorRef.bind((0,u.default)(a));a.focusEditor=a.focusEditor.bind((0,u.default)(a));a.renderTextInput=a.renderTextInput.bind((0,u.default)(a));a.renderFileUploads=a.renderFileUploads.bind((0,u.default)(a));a.handleSelectAttachmentFiles=a.handleSelectAttachmentFiles.bind((0,u.default)(a));a.editorRef=null;a.onInputFocus=a.onInputFocus.bind((0,u.default)(a));a.onInputBlur=a.onInputBlur.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){this.focusEditor()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.disabled&&this.props.disabled&&this.focusEditor()}},{key:"focusEditor",value:function(){var e=this.editorRef;e&&setTimeout(function(){e.focus()})}},{key:"getMessageText",value:function(){return this.state.messageText}},{key:"messageTextIsWithinLimit",value:function(){return this.getMessageText().length<m.DEFAULT_MAX_MESSAGE_LENGTH}},{key:"hasAttachments",value:function(){return this.props.stagedAttachments&&this.props.stagedAttachments.size}},{key:"attachmentsAreValid",value:function(){return!this.props.stagedAttachments||this.props.stagedAttachments.every(p.isUploadCompleted)}},{key:"canUploadAttachment",value:function(){return!this.props.hasUnansweredQuickReplyMessage&&(!this.props.stagedAttachments||!this.props.stagedAttachments.size)}},{key:"messageContentsAreValid",value:function(){var e=this.getMessageText()&&""!==this.getMessageText().trim();return this.messageTextIsWithinLimit()&&this.attachmentsAreValid()&&(e||this.hasAttachments())}},{key:"canPublish",value:function(){var e=this.props,t=e.disabled,a=e.networkOffline,r=e.disablePublish;return this.messageContentsAreValid()&&!a&&!t&&!r}},{key:"handleChange",value:function(e){var t=this.props,a=t.chatInputChanged,r=t.shouldSendInputStagingEvent,n=t.inputStaging,i=e.target.value;this.setState({messageText:i});r&&!i&&n(i,!0);""!==i&&a(i)}},{key:"handleKeyDown",value:function(e){if(e.keyCode===T.ENTER&&!1===e.shiftKey){this.handlePublish();e.preventDefault();e.stopPropagation();return!1}return!0}},{key:"handlePublish",value:function(){var e=this.props.inputStaging;if(this.canPublish()){var t=this.getMessageText();this.props.publishMessage({text:t,richText:"<div>"+c.default.link((0,N.escape)(t),{stripPrefix:!1})+"</div>"});this.setState({messageText:""});e("",!0);var a=this.props,r=a.mobile,n=a.isOnFocus;if(r&&(0,x.isIOSDevice)()&&!n)return;this.focusEditor()}}},{key:"getValidationMessage",value:function(){return this.messageTextIsWithinLimit()?"":v.default.text("conversations-visitor-ui.chatTextArea.validationMessage")}},{key:"setEditorRef",value:function(e){var t=E.default.findDOMNode(e);this.editorRef=t}},{key:"handleSelectAttachmentFiles",value:function(e){var t=e.files;this.props.onSelectAttachmentFiles({files:t});this.focusEditor()}},{key:"onInputFocus",value:function(){(0,this.props.toggleOnAndOffInputFocus)(!0)}},{key:"onInputBlur",value:function(){(0,this.props.toggleOnAndOffInputFocus)(!1)}},{key:"renderTextInput",value:function(){return b.default.createElement(S.default,{disabled:this.props.disabled||this.props.networkOffline,error:!this.messageTextIsWithinLimit(),messageText:this.state.messageText,onChange:this.handleChange,onKeyDown:this.handleKeyDown,showQuickReplyPlaceholder:this.props.showQuickReplyPlaceholder,setEditorRef:this.setEditorRef,showingHsBranding:this.props.showingHsBranding,validationMessage:this.getValidationMessage(),onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur})}},{key:"renderFileUploads",value:function(){var e=this;return this.props.stagedAttachments&&this.props.stagedAttachments.size?b.default.createElement(w,{className:"m-bottom-2"+(this.props.showingHsBranding?" m-top-2":"")},this.props.stagedAttachments.map(function(t){return b.default.createElement(I.default,{key:(0,f.getLocalId)(t),attachment:t,onRemove:function(){e.props.onRemoveAttachment({attachment:t})}})})):null}},{key:"render",value:function(){var e=(0,A.getUseDefaultColor)(this.props.coloring)?null:(0,A.getAccentColor)(this.props.coloring),t=!this.canPublish();return b.default.createElement(C.default,{inputToRender:this.renderTextInput,fileUploads:this.renderFileUploads,showingHsBranding:this.props.showingHsBranding},b.default.createElement(b.default.Fragment,null,this.props.supportsAttachments&&!this.props.shouldDisableAttachment?b.default.createElement("div",{className:this.props.mobile?"m-right-3":""},b.default.createElement(M.default,{accept:this.props.fileTypes,color:e,disabled:!this.canUploadAttachment(),mobile:this.props.mobile,onClick:this.props.onAttachmentButtonClick,onSelectFiles:this.handleSelectAttachmentFiles,maxAttachmentFileSize:this.props.maxAttachmentFileSize})):null,b.default.createElement(P.default,{className:"chat-send-button","data-test-id":"chat-send-button",disabled:t,shape:"circle",onClick:this.handlePublish,use:"transparent-on-background","aria-label":v.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.send")},b.default.createElement(k.default,{icon:b.default.createElement(R.default,null)}))))}}]);return t}(b.Component);L.propTypes={chatInputChanged:y.default.func.isRequired,coloring:(0,g.default)("ColoringRecord"),disablePublish:y.default.bool.isRequired,disabled:y.default.bool.isRequired,fileTypes:y.default.arrayOf(y.default.string).isRequired,hasUnansweredQuickReplyMessage:y.default.bool.isRequired,inputStaging:y.default.func.isRequired,isOnFocus:y.default.bool,maxAttachmentFileSize:y.default.number.isRequired,mobile:y.default.bool,networkOffline:y.default.bool.isRequired,onAttachmentButtonClick:y.default.func,onRemoveAttachment:y.default.func.isRequired,onSelectAttachmentFiles:y.default.func.isRequired,publishMessage:y.default.func.isRequired,shouldDisableAttachment:y.default.bool,shouldSendInputStagingEvent:y.default.bool.isRequired,showQuickReplyPlaceholder:y.default.bool.isRequired,showingHsBranding:y.default.bool,stagedAttachments:y.default.instanceOf(h.List),stagedMessageEditorText:y.default.string,supportsAttachments:y.default.bool.isRequired,toggleOnAndOffInputFocus:y.default.func};L.displayName="MessageEditor";L.defaultProps={hasUnansweredQuickReplyMessage:!1,isThreadStarted:!0,disablePublish:!1,onRemoveAttachment:function(){},onSelectAttachmentFiles:function(){},createNewThread:function(){},supportsAttachments:!1,fileTypes:O.ALLOWED_FILE_TYPES};var D=L;t.default=D;e.exports=t.default},EI0t:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getStagingTextByThreadId=void 0;var n=r(a("xq+X")),i=a("7RmY"),o=function(e,t){return(0,n.default)([e,i.STAGING_TEXT],t)};t.getStagingTextByThreadId=o},"EK/3":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("OCxt")),l=a("5QyL"),u=r(a("9+BE")),d=s.default.div.withConfig({displayName:"VizExNanoProgress__Bar",componentId:"vrf6zp-0"})(["transition:width 0.2s ease-in-out;left:0;position:absolute;top:0;opacity:",";width:",";height:3px;z-index:",";background-color:",";"],function(e){return 0===e.value?0:1},function(e){return e.value+"%"},function(e){return e.zIndex},function(e){var t=e.theme;return(0,l.getNanoProgressColor)(t)}),c=function(e){var t=e.zIndex,a=e.value,r=e.theme,i=(0,n.default)(e,["zIndex","value","theme"]);return o.default.createElement(d,Object.assign({},i,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,role:"progressbar",zIndex:t,value:a,theme:r}))};c.propTypes={theme:u.default,value:i.default.number,zIndex:i.default.number};c.defaultProps={zIndex:10,value:0};c.displayName="VizExNanoProgress";var f=c;t.default=f;e.exports=t.default},EXsY:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledBorder=void 0;var n,i=r(a("l4i0")),o=r(a("y4Zp")),s=r(a("ZQ2w")),l=r(a("819h")),u=r(a("xbdm")),d=r(a("OCxt")),c=a("BQpW"),f=d.default.div.withConfig({displayName:"DashedLabel__StyledBorder",componentId:"sc-1r4x2u8-0"})(["display:flex;flex-grow:1;border:solid 1px ",";"],c.GREAT_WHITE);t.StyledBorder=f;function p(e){var t=e.children,a=e.transparent,r=e["data-test-id"],n=e.labelPadding;return s.default.createElement("div",{className:(0,u.default)("display-flex align-end",n,a&&"justify-center",!n&&"m-y-6"),"data-test-id":r||"dashed-label"},!a&&s.default.createElement(f,{className:"m-bottom-3"}),s.default.createElement("div",{className:"max-100 p-x-4"},s.default.createElement(l.default,{use:"help",className:"m-bottom-1 align-center text-center word-break-break-word flex-column"},t)),!a&&s.default.createElement(f,{className:"m-bottom-3"}))}p.displayName="DashedLabel";p.propTypes=(n={children:o.default.node.isRequired},(0,i.default)(n,"data-test-id",o.default.string),(0,i.default)(n,"transparent",o.default.bool),n);var g=p;t.default=g},Ewkv:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("7iZm")),o=n(a("q6GH")),s=n(a("y4Zp")),l=r(a("ZQ2w")),u=a("37x8"),d=function(){},c=function(e){var t=l.default.forwardRef(function(t,a){var r=t.onBlur,n=t.onFocus,s=(0,o.default)(t,["onBlur","onFocus"]),d=a||(0,l.useRef)(),c=(0,l.useState)(null),f=(0,i.default)(c,2),p=f[0],g=f[1],m=function(e){if(p&&e.target!==p){d.current&&d.current.blur();g(null);return!1}return Boolean(p)};(0,u.useTouchListener)(m);var v=function(e){g(null);r(e)},h=function(e){e.target&&g(e.target);n(e)};return l.default.createElement(e,Object.assign({},s,{ref:d,onFocus:h,onBlur:v}))});t.propTypes={onBlur:s.default.func,onFocus:s.default.func};t.defaultProps={onBlur:d,onFocus:d};t.displayName="Component";return t};c.propTypes={innerRef:s.default.func.isRequired,onBlur:s.default.func.isRequired,onFocus:s.default.func.isRequired};var f=c;t.default=f;e.exports=t.default},EwvR:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("q6GH")),i=r(a("0aYW")),o=r(a("f5oG")),s=r(a("dd8U")),l=r(a("fi52")),u=r(a("7u3i")),d=r(a("y4Zp")),c=r(a("ZQ2w")),f=r(a("OCxt")),p=r(a("heXl")),g=a("RNjb"),m=f.default.div.withConfig({displayName:"SkeletonText__SkeletonTextWrapper",componentId:"l81tz-0"})(["position:relative;width:",";"],function(e){var t=e.width;return(0,g.getSize)(t)}),v=(0,f.default)(p.default).withConfig({displayName:"SkeletonText__SkeletonTextInner",componentId:"l81tz-1"})(["height:0.75em;left:0;position:absolute;top:50%;transform:translateY(-50%);width:100%;"]),h=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=(0,n.default)(e,["width"]);return c.default.createElement(m,{width:t}," ",c.default.createElement(v,a))}}]);return t}(c.default.PureComponent);h.defaultProps={width:"100%"};h.propTypes={width:d.default.oneOfType([d.default.number,d.default.string])};var y=h;t.default=y;e.exports=t.default},F7XE:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ts1O")),i=a("84Y+"),o={onRepublish:a("AnBI").republishMessage},s=(0,i.connect)(null,o)(n.default);t.default=s;e.exports=t.default},FHmc:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("XIHe")),i=r(a("TaNU")),o=["de","ja"],s=function(e,t){var a=e.givenName,r=e.familyName,s=e.email,l=t&&t.locale||(0,n.default)();return o.indexOf(l)>=0||!a?(0,i.default)({firstName:a,lastName:r,email:s},t):a};t.default=s;e.exports=t.default},FSCz:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=i;var n=r(a("kMAx"));function i(e){var t=e.threadId,a=e.email,r=e.sessionId,i=e.hubspotUtk;return n.default.post("livechat-public/v1/visitor/public",{query:{threadId:t,email:a,sessionId:r,hubspotUtk:i}})}},"Fx/V":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MEDIA_SPACING=t.MEDIA_ALIGNMENT_TYPES=void 0;var r={start:"private-media--align-start",baseline:"private-media--align-baseline",center:"private-media--align-middle",end:"private-media--align-bottom",stretch:"private-media--align-stretch"};t.MEDIA_ALIGNMENT_TYPES=r;var n={none:"private-media--collapsed","extra-small":"private-media--spaced-xs",small:"",medium:"private-media--spaced-md",large:"private-media--spaced-lg","extra-large":"private-media--spaced-xl"};t.MEDIA_SPACING=n},G37y:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.throwErrorAsync=void 0;var r=function(e){setTimeout(function(){throw e},0)};t.throwErrorAsync=r},GAhl:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasUnansweredQuickReplyMessage=void 0;var r=a("ib5I"),n=a("3rpF"),i=a("MNH3"),o=a("KGLF"),s=a("okVP"),l=a("Iw1V"),u=(0,r.createSelector)(o.historyDataForThread,function(e){if(!e||!(0,s.hasMessages)(e))return!1;var t=(0,l.getMessages)(e).filter(function(e){return(0,i.isChatMessage)(e)||(0,i.isInitialMessage)(e)}).last();return Boolean((0,n.getQuickReply)(t))});t.hasUnansweredQuickReplyMessage=u},GSHy:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH"));a("ZqU6");var o=n(a("xbdm")),s=n(a("y4Zp")),l=r(a("ZQ2w")),u=(n(a("A8Hs")),n(a("USpq"))),d=n(a("JqlA")),c=a("7DQU"),f=n(a("sqdi")),p=n(a("vBAi")),g=a("ur7i"),m=a("rvN4"),v=a("Al5z"),h=n(a("Dayo")),y=(0,d.default)(function(){return l.default.createElement(p.default,{className:"private-checkbox__icon__inner"})}),b=(0,d.default)(function(){return l.default.createElement("svg",{role:"presentation",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{className:"private-checkbox__icon__inner",d:"M 2 6 L12 6 L12 9 L2 9 L2 6 z"}))}),E=(0,d.default)(function(e){return l.default.createElement("span",{className:"private-checkbox__indicator","data-indicator":!0,style:{color:e}},l.default.createElement("span",{className:"private-checkbox__icon private-checkbox__check"},y()),l.default.createElement("span",{className:"private-checkbox__icon private-checkbox__dash"},b()))}),_=(0,l.forwardRef)(function(e,t){var a=e["aria-label"],r=e["aria-labelledby"],n=e.checked,s=e.children,d=e.className,f=e.color,p=e.description,g=e.disabled,y=e.id,b=e.indeterminate,_=e.innerPadding,T=e.name,C=e.onChange,I=e.readOnly,S=e.size,x=e.tabIndex,M=e.value,A=(0,i.default)(e,["aria-label","aria-labelledby","checked","children","className","color","description","disabled","id","indeterminate","innerPadding","name","onChange","readOnly","size","tabIndex","value"]),O=(0,l.useContext)(c.FieldsetContext),P=O.size,R=O.disabled;0;var k=(0,u.default)("checkbox-"),N=(0,u.default)("checkbox-content-"),w=g||R,L=S||P,D=(0,o.default)(r,s&&N);return l.default.createElement(h.default,Object.assign({},A,{checked:n,childWrapperId:N,className:(0,o.default)(d,"private-checkbox",v.PADDING_OPTIONS[_],null==s&&"private-checkbox--unlabeled"),description:p,descriptionId:k,disabled:w,input:l.default.createElement("input",{"aria-describedby":p?k:null,"aria-label":a,"aria-labelledby":D,checked:n,className:"private-checkbox__input sr-only"+(b?" indeterminate":""),disabled:w,id:y,name:T,onChange:function(e){g||I?e.preventDefault():C(e)},readOnly:I,tabIndex:(0,m.getTabIndex)(I||g,x),type:"checkbox",value:M}),indicator:E(f),onChange:C,readOnly:I,ref:t,size:L}),s)});_.propTypes={alignment:s.default.oneOf(Object.keys(v.ALIGNMENT_CLASSES)),"aria-label":s.default.string,"aria-labelledby":s.default.string,checked:s.default.bool,children:s.default.node,color:s.default.string,description:s.default.node,descriptionLayout:s.default.oneOf(["horizontal","vertical"]),disabled:s.default.bool,indeterminate:s.default.bool,inline:s.default.bool,innerPadding:s.default.oneOf(Object.keys(v.PADDING_OPTIONS)).isRequired,labelClassName:s.default.string,name:s.default.string,onChange:s.default.func,readOnly:s.default.bool,size:s.default.oneOfType([(0,g.propTypeForSizes)(["sm"]),s.default.oneOf(["default"])]),value:s.default.any};_.defaultProps={alignment:"start",checked:!1,descriptionLayout:"vertical",innerPadding:"default"};_.displayName="UICheckbox";var T=(0,f.default)(_);t.default=T;e.exports=t.default},Gbx4:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.publishVisitorMessage=C;var n=a("rkDb"),i=a("94fv"),o=r(a("AYv8")),s=a("QWZm"),l=a("ivel"),u=a("tkdj"),d=a("+Tc3"),c=a("4scq"),f=a("Z0PP"),p=a("cep6"),g=a("7+AW"),m=a("B948"),v=a("tLtU"),h=a("TUZh"),y=a("L6i2"),b=a("2NeP"),E=a("WQ6g"),_=a("O3Qn"),T=a("08NH");function C(e){var t=e.text,a=e.richText,r=e.quickReply,C=e.fileAttachment;return function(e,I){var S=(0,p.getSelectedThread)(I()),x=(0,d.isPersistedThread)(S),M=(0,n.getChannelName)(S),A=(0,n.getThreadId)(S),O=(0,c.getMessagesUtk)(I()),P=(0,y.getMessagesPageUri)(I()),R=(0,m.buildVisitorCommonMessage)({clientType:i.WEB,fileAttachment:C,quickReply:r,richText:a,senderId:O,text:t,thread:S});e((0,f.clearAttachments)(A));e((0,g.trackSendMessage)({threadId:A}));if(!x){e((0,v.stageMessageOnStubbedThread)(R));return e((0,s.createNewThread)())}if((0,b.shouldRecordUrlContextUpdate)(I(),{threadId:A})){e((0,u.publishMessage)({channel:M,message:(0,h.buildUrlContextUpdateMessage)(P),threadId:A})).done();e((0,E.updateThreadCurrentUrl)({threadId:A,currentUrl:P}))}(0,T.getMostRecentMessageIsEmailPrompt)(I())&&o.default.test(t)&&e((0,_.sendVisitorEmailAddress)({email:t,consentToCommunicate:!1,threadId:A}));return e((0,u.publishMessage)({channel:M,message:R,threadId:A})).then(function(){return e((0,l.applyGdprConsent)())})}}},Gcf9:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getResolvedAttachments=void 0;var n=(0,r(a("BjQQ")).default)("resolvedAttachments");t.getResolvedAttachments=n},HHf9:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("xbdm"));function l(e){var t=e.children,a=e.className,r=e.hyphenate,i=(0,n.default)(e,["children","className","hyphenate"]);return o.default.createElement("span",Object.assign({},i,{className:(0,s.default)("private-break-string",a,r?"private-break-string--hyphenate":"private-break-string--no-hyphenate")}),t)}l.propTypes={children:i.default.node.isRequired,hyphenate:i.default.bool};l.defaultProps={hyphenate:!0};l.displayName="UIBreakString";e.exports=t.default},HLKB:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SECONDARY=t.PRIMARY=void 0;var r="primary";t.PRIMARY=r;var n="secondary";t.SECONDARY=n},HSGs:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("NJOw")),i=new RegExp("^(?:.+)@"+n.default.domain+"$");t.default=i;e.exports=t.default},HUtv:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.propType=t.render=void 0;var i=n(a("y4Zp")),o=r(a("ZQ2w")),s=a("TG85"),l=(n(a("lEHQ")),{passive:function(e,t){return Object.assign({},t,{},e)},aggressive:function(e,t){return t},none:function(){return{}}}),u={mergeType:"passive"},d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},u,{},a).mergeType;0;return o.default.isValidElement(e)?(0,o.cloneElement)(e,l[r](e.props,t)):(0,s.isValidElementType)(e)?o.default.createElement(e,t):e};t.render=d;var c=i.default.oneOfType([i.default.elementType,i.default.node]);t.propType=c},Hbdb:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageHeaderWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")).default.div.withConfig({displayName:"PrimaryMessageHeader__PrimaryMessageHeaderWrapper",componentId:"sc-1eprct-0"})(["display:flex;height:16px;align-items:center;margin-top:4px;margin-bottom:4px;width:100%;"]);t.PrimaryMessageHeaderWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageHeader";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},Hk0n:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.componentFunctionInvariant=void 0;var n=r(a("lEHQ")),i=function(e,t){var a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;(0,n.default)(!!e.prototype[l],"Component missing required function %s",l)}}catch(e){r=!0;i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}};t.componentFunctionInvariant=i},HmhQ:function(e,t,a){"use strict";"use es6";var r=a("nhTm");Object.defineProperty(t,"__esModule",{value:!0});t.toggleOnAndOffInputFocus=s;t.onInputFocusAction=void 0;var n=a("CRij"),i=r(a("2n97")),o=(0,n.createAction)(i.USER_INPUT_ON_FOCUS,function(e){return{widgetInputIsOnFocus:e}});t.onInputFocusAction=o;function s(e){return function(t){t(o(e))}}},HopT:function(e,t,a){var r=a("d9q4"),n=a("UI7R"),i=a("y3MR"),o=a("cXje"),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,c=u.toString,f=d.hasOwnProperty,p=RegExp("^"+c.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(e){return!(!i(e)||n(e))&&(r(e)?p:l).test(o(e))}e.exports=g},I04N:function(e,t,a){var r=a("6uUH");function n(e,t){for(var a=e.length;a--;)if(r(e[a][0],t))return a;return-1}e.exports=n},I23m:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=(0,r(a("BjQQ")).default)("tileBackgroundColor");t.getTileBackgroundColor=n},IPBc:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.isSenderLoading=void 0;var n=r(a("SRO8")),i=a("Vfk2"),o=a("heuD"),s=(0,n.default)(function(e){return!(0,i.getData)(e)&&(0,i.getStatus)(e)===o.STARTED});t.isSenderLoading=s},IYzb:function(e,t,a){"use strict";"use es6";var r=a("Z7VI"),n=a("nhTm");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledUIIcon=void 0;var i,o=r(a("0aYW")),s=r(a("f5oG")),l=r(a("dd8U")),u=r(a("fi52")),d=r(a("7u3i")),c=r(a("l4i0")),f=r(a("1WnS")),p=a("5CMC"),g=a("jn74"),m=a("xANw"),v=r(a("EwvR")),h=a("BQpW"),y=r(a("y4Zp")),b=n(a("ZQ2w")),E=r(a("OCxt")),_=r(a("819h")),T=r(a("5wHW")),C=r(a("vbtF")),I=r(a("rsBT")),S=a("Vfk2"),x=a("KWwi"),M=(i={},(0,c.default)(i,g.CHAT_MESSAGE,"messages"),(0,c.default)(i,p.EMAIL,"email"),(0,c.default)(i,p.LIVE_CHAT,"messages"),i),A=(0,E.default)(T.default).withConfig({displayName:"SenderHeaderContent__StyledUIIcon",componentId:"sc-1u4ofoj-0"})(["margin:0 6px;color:",";"],h.EERIE);t.StyledUIIcon=A;var O=function(e){(0,d.default)(t,e);function t(){(0,o.default)(this,t);return(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}(0,s.default)(t,[{key:"renderMetadata",value:function(){var e=this.props,t=e.statusSource,a=e.timestamp,r=e.sender,n=t!==g.TYPING&&(0,x.getHistoryFormattedTimestamp)(a);if(!n)return null;var i=(0,S.getSenderType)(r)===m.VISITOR?M[t]:null;return b.default.createElement("span",null,i?b.default.createElement(A,{name:i}):b.default.createElement(C.default,null),n)}},{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,a=e.sender;return t?b.default.createElement(v.default,{width:150}):b.default.createElement(_.default,{use:"help"},b.default.createElement("strong",null,b.default.createElement(I.default,{sender:a})),this.renderMetadata())}}]);return t}(b.PureComponent);O.displayName="SenderHeaderContent";O.propTypes={isSenderLoading:y.default.bool,sender:(0,f.default)("Sender"),statusSource:y.default.string,timestamp:y.default.number};var P=O;t.default=P},InPC:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.dismissConsentToProcessError=o;t.clickedDismissConsentToProcessError=void 0;var r=a("CRij"),n=a("Dho5"),i=(0,r.createAction)(n.DISMISS_CONSENT_TO_COMMUNICATE_ERROR);t.clickedDismissConsentToProcessError=i;function o(){return function(e){e(i())}}},IpvR:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("a4p2"),i=r(a("PQge")),o=a("84Y+"),s=a("Gbx4"),l=a("GAhl"),u=a("cep6"),d=a("yybq"),c=a("MS0j"),f=function(e){var t=(0,u.getSelectedThread)(e);return{hasUnansweredQuickReplyMessage:(0,l.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,n.isStarted)(t),mobile:(0,c.getIsMobile)(e)}},p={publishMessage:s.publishVisitorMessage,toggleOpen:d.toggleOpen},g=(0,o.connect)(f,p)(i.default);t.default=g;e.exports=t.default},Isf6:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("EXsY")),c=n(a("E7sj")),f=a("dNbY"),p=n(a("byqf")),g=n(a("1WnS")),m=a("xw1J"),v=a("xgjO"),h=r(a("ZQ2w")),y=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.message;return(0,f.hasTextContent)(e)?(0,v.isDuringOfficeHours)(e)?null:h.default.createElement(d.default,{transparent:!0,labelPadding:"m-y-1"},h.default.createElement(p.default,{"aria-label":c.default.text("conversations-visitor-message-history.systemMessage"),contentText:(0,m.getRichText)(e)||(0,m.getPlainText)(e)})):null}}]);return t}(h.PureComponent);y.displayName="AvailabilityMessage";y.propTypes={message:(0,g.default)("PubNubMessageRecord").isRequired};var b=y;t.default=b;e.exports=t.default},Iz2n:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildError=void 0;var r=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Object.assign.apply(Object,[new Error].concat(a,[{message:e}]))};t.buildError=r},"JK+2":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRenderDate=void 0;var r=a("xw1J"),n=a("XXHS"),i=function(e,t,a){return!(!t&&!a)&&Boolean((0,r.getTimestamp)(e)&&(!t||(0,n.areDifferentDays)(t,e)))};t.shouldRenderDate=i},JREd:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getPositionDescriptors=void 0;var n=r(a("l4i0")),i=a("6+o1"),o=a("Mx+g"),s=a("eo+F"),l=function(e,t,a,r,l){var u,d=!t,c=!(0,s.areMessagesGrouped)(e,t),f=!r&&!(0,s.areMessagesGrouped)(e,a),p=!a,g=(u={},(0,n.default)(u,o.FIRST,d),(0,n.default)(u,o.FIRST_IN_GROUP,c),(0,n.default)(u,o.LAST_IN_GROUP,f),(0,n.default)(u,o.LAST,p),(0,n.default)(u,o.FIRST_OF_OWN_TYPE,l),u);return Object.keys(g).reduce(function(e,t){return g[t]?e.add(t):e},(0,i.Set)())};t.getPositionDescriptors=l},JxiE:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.gdprConsentToCommunicateEnabled=void 0;var n=r(a("iRI7")),i=a("6ltl"),o=a("ZEN6"),s=(0,n.default)(i.getMessage,o.getGdprConsentToCommunicateEnabled);t.gdprConsentToCommunicateEnabled=s},"K/ju":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TypingDotsWrapper=t.Dot=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=a("afAF"),c=r(a("ZQ2w")),f=r(a("OCxt")),p=a("dPCK"),g=a("ZBtC"),m=n(a("fDD7")),v=(0,f.keyframes)(["25%{background-color:",";}75%{background-color:",";}"],d.LOADING_INACTIVE_COLOR,d.LOADING_INACTIVE_COLOR),h=(0,f.keyframes)(["0%,100%{transform:translateY(0);}25%{transform:translateY(.25em);}50%{transform:translateY(0);}75%{transform:translateY(-.25em);}"]);(0,p.isIE11)()&&(h=(0,f.keyframes)(["0%,100%{top:0;}25%{top:.25em;}50%{top:0}75%{top:-.25em;}"]));var y=f.default.div.withConfig({displayName:"TypingDots__Dot",componentId:"i7c3ap-0"})(["position:relative;background-color:currentColor;color:",";border-radius:50%;height:1em;width:1em;animation:",",",";animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;&:not(:last-child){margin-right:0.75em;}&:nth-child(2){animation-delay:-0.66s;}&:nth-child(3){animation-delay:-0.33s;}"],function(e){return e.color?e.color:d.LOADING_DEFAULT_COLOR},h,v);t.Dot=y;var b=f.default.div.withConfig({displayName:"TypingDots__TypingDotsWrapper",componentId:"i7c3ap-1"})(["display:flex;align-items:center;justify-content:center;height:24px;font-size:8px;width:4.5em;"]);t.TypingDotsWrapper=b;var E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=(0,g.getWidgetAccent)(this.context);return c.default.createElement(b,null,c.default.createElement(y,{color:e,className:"dot-1"}),c.default.createElement(y,{color:e,className:"dot-2"}),c.default.createElement(y,{color:e,className:"dot-3"}))}}]);return t}(c.Component);E.contextType=m.default;E.displayName="TypingDots";var _=E;t.default=_},KA0c:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("dd8U")),o=r(a("fi52")),s=r(a("7u3i")),l=a("6+o1"),u=a("0Uw4"),d=function(e){(0,s.default)(t,e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t);return(0,i.default)(this,(0,o.default)(t).call(this,Object.assign({},e,{localId:(0,u.generateIdForFile)({file:e.file,timestamp:Date.now()})})))}return t}((0,l.Record)({file:null,localId:"",fileId:-1,uploadProgress:0},"FileUploadRecord"));t.default=d;e.exports=t.default},KCF3:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.VISITOR=t.DEFAULT=t.AGENT=void 0;var r="agent";t.AGENT=r;var n="default";t.DEFAULT=n;var i="visitor";t.VISITOR=i},KEa2:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=r(a("ZQ2w")),o=r(a("OCxt")),s=r(a("Vkbq")),l=r(a("819h")),u=r(a("929M")),d=a("BQpW"),c=a("7un1"),f=a("O4fT"),p=o.default.div.withConfig({displayName:"ConsentPrompt__Container",componentId:"sc-1k31i1d-0"})(["border-top:2px solid ",";display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 24px;"],d.CIRRUS),g=(0,o.default)(l.default).withConfig({displayName:"ConsentPrompt__SmallNoParagraphPadding",componentId:"sc-1k31i1d-1"})(["display:block;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;color:",";p{margin-bottom:0;}"],d.FLINT),m=(0,o.default)(s.default).withConfig({displayName:"ConsentPrompt__FullWidthButton",componentId:"sc-1k31i1d-2"})(["flex:0 1 100%;"]),v=o.default.div.withConfig({displayName:"ConsentPrompt__FlexWrapper",componentId:"sc-1k31i1d-3"})(["display:flex;flex-direction:row;width:100%;margin:12px 0 8px 0;"]),h=o.default.h6.withConfig({displayName:"ConsentPrompt__Header",componentId:"sc-1k31i1d-4"})(["text-transform:none;"]),y=function(e){var t=e.headerMessage,a=e.message,r=e.onClick,n=e.showButton;return i.default.createElement(p,{"data-test-id":"gdpr-consent-prompt"},t&&i.default.createElement(h,null,i.default.createElement(u.default,{message:t})),i.default.createElement(g,{"data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:(0,c.formatHtml)(a)}}),i.default.createElement(v,null,n&&i.default.createElement(m,{onClick:r,"data-test-id":"gdpr-consent-agree-button"},i.default.createElement(f.ChatWidgetLocaleContextConsumer,null,function(e){return i.default.createElement(u.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})}))))};y.propTypes={headerMessage:n.default.string,message:n.default.string.isRequired,onClick:n.default.func.isRequired,showButton:n.default.bool.isRequired};y.displayName="ConsentPrompt";var b=y;t.default=b;e.exports=t.default},KOwh:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getSendersMap=void 0;var n=r(a("l4i0")),i=r(a("z1+1")),o=a("ToXU"),s=a("Cy/A"),l=a("r+Hr"),u=a("6+o1"),d=a("ib5I"),c=r(a("6C5m")),f=a("VT1R"),p=a("2a3n"),g=a("8fPJ"),m=(0,d.createSelector)([f.getResponders],function(e){return(0,l.getEntries)(e).reduce(function(e,t,a){var r,l=(0,s.getData)(t);return(0,c.default)([(0,g.getResponderKeyAsSenderLocator)(a)],(0,i.default)((r={},(0,n.default)(r,o.DATA,l?(0,p.getResponderAsSender)(l):null),(0,n.default)(r,o.STATUS,(0,s.getStatus)(t)),r)),e)},(0,u.Map)())});t.getSendersMap=m},KWwi:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getHistoryFormattedTimestamp=void 0;var n=r(a("E7sj")),i=function(e){return e?n.default.moment.userTz(e).format("LT"):null};t.getHistoryFormattedTimestamp=i},Kdpc:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.INPUT_STAGING_EVENT_DEBOUNCE_MS=void 0;var r=1e3;t.INPUT_STAGING_EVENT_DEBOUNCE_MS=r},L9iu:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=r(a("xq+X")),i=function(e){return(0,n.default)(["id"],e)||(0,n.default)(["message","id"],e)||-1};t.getMessageId=i},LES4:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=r(a("OCxt")),o=a("BQpW"),s=a("Wqcg"),l=function(e){return"top"===e||"bottom"===e},u=i.default.div.withConfig({displayName:"UIOverhang",componentId:"sc-1p1lbb5-0"})(["background-image:",";background-size:",";height:",";width:",";opacity:",";pointer-events:none;position:absolute;top:",";bottom:",";left:",";right:",";"],function(e){var t=e.gradientColor;return"linear-gradient(to "+e.side+", "+(0,s.rgba)(t,0)+", "+t+")"},function(e){var t=e.side,a=e.size;return l(t)?"100% "+a+"px}":a+"px 100%"},function(e){var t=e.side,a=e.size;return l(t)&&a+"px"},function(e){var t=e.side,a=e.size;return!l(t)&&a+"px"},function(e){return e.opacity},function(e){return"bottom"!==e.side&&0},function(e){return"top"!==e.side&&0},function(e){return"right"!==e.side&&0},function(e){return"left"!==e.side&&0});u.propTypes={gradientColor:n.default.string.isRequired,opacity:n.default.number.isRequired,side:n.default.oneOf(["top","bottom","left","right"]).isRequired,size:n.default.number.isRequired};u.defaultProps={gradientColor:o.KOALA,opacity:1,size:14};var d=u;t.default=d;e.exports=t.default},LFvj:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("q6GH")),i=r(a("0aYW")),o=r(a("f5oG")),s=r(a("dd8U")),l=r(a("fi52")),u=r(a("7u3i")),d=r(a("y4Zp")),c=r(a("ZQ2w")),f=r(a("xbdm")),p=r(a("KvPM")),g=r(a("QT5F")),m=r(a("7MQe")),v=a("stQz"),h=a("8g3q"),y=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).UNSAFE_componentWillReceiveProps=function(e){var t=a.props.loading,r=e.failed,n=e.loading,i=null!=e.resultIcon&&!r&&t&&!n;n!==t&&a.setState({isLoading:n,displayResult:i})};a.UNSAFE_componentWillUpdate=function(e,t){var r=e.duration,n=a.state.isLoading,i=t.isLoading;if(r&&(!n&&i)){clearTimeout(a.loadingTimeout);a.loadingTimeout=setTimeout(a.handleLoadingFinish,r)}};a.handleLoadingFinish=function(){var e=a.props,t=e.failed,r=null!=e.resultIcon&&!t;a.setState({isLoading:!1,displayResult:r});r||a.setDisplayResult()};a.setDisplayResult=function(){var e=a.props,t=e.onLoadingFinish,r=e.keepResultAfterFinish;a.setState({displayResult:r});t()};a.handleClick=function(e){var t=a.props,r=t.duration,n=t.onClick,i=t.preventClicksOnLoading,o=a.state,s=o.displayResult,l=o.isLoading;if(i&&(l||s))e.preventDefault();else{(0,v.callIfPossible)(n,e);e.defaultPrevented||!l&&r&&a.setState({isLoading:!0})}};var r=e.loading;a.state={displayResult:!1,isLoading:r||!1};return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.duration,t=this.state.isLoading;e&&t&&(this.loadingTimeout=setTimeout(this.handleLoadingFinish,e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loadingTimeout)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,r=e.disabled,i=(e.duration,e.failed),o=(e.loading,e.onClick,e.onLoadingFinish,e.preventClicksOnLoading,e.keepResultAfterFinish,e.resultIcon),s=e.size,l=e.spinnerProps,u=e.truncateTooltip,d=e.use,p=(0,n.default)(e,["children","className","disabled","duration","failed","loading","onClick","onLoadingFinish","preventClicksOnLoading","keepResultAfterFinish","resultIcon","size","spinnerProps","truncateTooltip","use"]),v=this.state,y=v.isLoading,b=v.displayResult,E=r&&!y&&!b,_="idle";y&&(_="loading");b&&(_="success");return c.default.createElement(g.default,Object.assign({},p,{size:s,use:d,"data-loading":y,"data-loading-state":_,disabled:E,className:(0,f.default)("private-loading-button",a,h.USE_CLASSES[d],(y||b)&&"loading private-loading-button--loading"),onClick:this.handleClick,truncateTooltip:u||t}),c.default.createElement("span",{className:"private-loading-button__content private-button--internal-spacing"},t),c.default.createElement(m.default,Object.assign({},l,{className:"private-loading-button__spinner","data-loading":null,failed:i,use:d,size:s,resultIcon:o,showResult:b,onResultDisplayFinish:this.setDisplayResult,hidden:!(y||b)})))}}]);return t}(c.default.Component);t.default=y;y.propTypes=Object.assign({},g.default.propTypes,{failed:m.default.propTypes.failed,size:m.default.propTypes.size,use:m.default.propTypes.use,duration:d.default.number,loading:d.default.bool,resultIcon:m.default.propTypes.resultIcon,onLoadingFinish:d.default.func,spinnerProps:d.default.object,preventClicksOnLoading:d.default.bool,keepResultAfterFinish:d.default.bool});y.defaultProps=Object.assign({},g.default.defaultProps,{failed:m.default.defaultProps.failed,onLoadingFinish:p.default,preventClicksOnLoading:!0,keepResultAfterFinish:!1,resultIcon:m.default.defaultProps.resultIcon,size:"medium",use:"secondary"});y.displayName="UILoadingButton";e.exports=t.default},LI65:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileExceedsSizeLimit=void 0;var r=a("ZyKU"),n=function(e){return e.size>r.MAX_FILE_SIZE};t.fileExceedsSizeLimit=n},LRZ7:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ALLOWED_FILE_TYPES=void 0;var r=["video/*","audio/*","application/json","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/msword","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","image/gif","image/jpeg","image/jpg","image/png","image/tiff","text/calendar","text/css","text/csv","text/plain"];t.ALLOWED_FILE_TYPES=r},"Lm+l":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBodySpacing=void 0;var r=a("0+Xj"),n=a("OCxt"),i=16,o=function(e){var t=e.placement;switch((0,r.getEdge)(t)){case"top":return(0,n.css)(["top:0;"]);case"bottom":return(0,n.css)(["bottom:0;"]);case"left":return(0,n.css)(["left:0;"]);case"right":return(0,n.css)(["right:0;"]);default:return""}},s=function(e){var t=e.placement;switch((0,r.getSide)(t)){case"top":return(0,n.css)(["transform:translateY(-100%);top:-","px;"],i-5);case"right":return(0,n.css)(["transform:translateX(100%);right:-","px;"],i-5);case"bottom":return(0,n.css)(["transform:translateY(100%);bottom:-","px;"],i-5);case"left":return(0,n.css)(["transform:translateX(-100%);left:-","px;"],i-5);default:return""}},l=function(e){switch(e.placement){case"top center":case"top middle":return(0,n.css)(["transform:translate(-50%,-100%);left:50%;"]);case"bottom middle":case"bottom center":return(0,n.css)(["transform:translate(-50%,100%);left:50%;"]);case"left center":case"left middle":return(0,n.css)(["transform:translate(-100%,-50%);top:50%;"]);case"right center":case"right middle":return(0,n.css)(["transform:translate(100%,-50%);top:50%;"]);default:return""}},u=function(e){var t=e.placement;return(0,n.css)(["",";",";",""],s({placement:t}),o({placement:t}),l({placement:t}))};t.getBodySpacing=u},Lrql:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getHeight=t.getWidth=t.getSize=t.getType=t.getExtension=t.getName=t.getUrl=t.getExpiresAt=void 0;var n=r(a("xq+X")),i=a("tcbK"),o=(0,n.default)(i.EXPIRES_AT);t.getExpiresAt=o;var s=(0,n.default)(i.URL);t.getUrl=s;var l=(0,n.default)(i.NAME);t.getName=l;var u=(0,n.default)(i.EXTENSION);t.getExtension=u;var d=(0,n.default)(i.TYPE);t.getType=d;var c=(0,n.default)(i.SIZE);t.getSize=c;var f=(0,n.default)(i.WIDTH);t.getWidth=f;var p=(0,n.default)(i.HEIGHT);t.getHeight=p},"M+r2":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.fetchAttachmentUploadUrlClient=void 0;var n=r(a("kMAx")),i="livechat-public/v1/attachment/upload-url",o=function(e){var t=e.sessionId,a=e.threadId;return n.default.get(i,{query:{sessionId:t,threadId:a}})};t.fetchAttachmentUploadUrlClient=o},MTtU:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.wrapFailedMessage=void 0;var n=a("D0+0"),i=a("xw1J"),o=a("f9PE"),s=r(a("k4Pn")),l=(0,r(a("D1/i")).default)(function(e,t){var a=e.threadId,r=e.channel,l=e.allowRetry,u=void 0===l||l;return(0,o.isCommonMessageFormat)(t)&&(0,i.getStatusForCmf)(t)===n.FAILED?(0,s.default)({message:t,threadId:a,channel:r,allowRetry:u}):t});t.wrapFailedMessage=l},MqpG:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("y4Zp")),o=r(a("ZQ2w")),s=n(a("EXsY")),l=a("u4mQ"),u=a("msZA"),d=n(a("1WnS")),c=(0,o.memo)(function(e){var t=e.message,a=e.labelPadding,r=(0,u.getTimestamp)(t);return o.default.createElement(s.default,{labelPadding:a},(0,l.getSimpleDateText)(r))});c.displayName="DateLabelMessage";c.propTypes={labelPadding:i.default.string,message:(0,d.default)("DateMessage").isRequired};var f=c;t.default=f;e.exports=t.default},"Mx+g":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.FIRST_OF_OWN_TYPE=t.LAST=t.LAST_IN_GROUP=t.FIRST_IN_GROUP=t.FIRST=void 0;var r="FIRST";t.FIRST=r;var n="FIRST_IN_GROUP";t.FIRST_IN_GROUP=n;var i="LAST_IN_GROUP";t.LAST_IN_GROUP=i;var o="LAST";t.LAST=o;var s="FIRST_OF_OWN_TYPE";t.FIRST_OF_OWN_TYPE=s},MzoX:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getArrowSpacing=void 0;var r=a("0+Xj"),n=a("OCxt"),i=16,o=8,s=function(e){var t=e.placement;switch((0,r.getSide)(t)){case"top":return(0,n.css)(["transform:rotate(45deg);top:-","px;"],i+5);case"right":return(0,n.css)(["transform:rotate(135deg);right:-","px;"],i+5);case"bottom":return(0,n.css)(["transform:rotate(-135deg);bottom:-","px;"],i+5);case"left":return(0,n.css)(["transform:rotate(-45deg);left:-","px;"],i+5);default:return""}},l=function(e){var t=e.placement;switch((0,r.getEdge)(t)){case"top":return(0,n.css)(["top:","px;"],o);case"middle":return(0,n.css)(["top:calc(50% - ","px);"],i/2);case"bottom":return(0,n.css)(["bottom:","px;"],o);case"left":return(0,n.css)(["left:","px;"],o);case"center":return(0,n.css)(["left:calc(50% - ","px);"],i/2);case"right":return(0,n.css)(["right:","px;"],o);default:return""}},u=function(e){var t=e.placement;return(0,n.css)(["",";",";"],s({placement:t}),l({placement:t}))};t.getArrowSpacing=u},N59q:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fixImages=void 0;var r=function(e){var t=e.node,a=e.node_name;if(t&&"img"===a&&t.attributes){t.attributes["data-original-height"]&&t.setAttribute("height",t.attributes["data-original-height"].value);t.attributes["data-original-width"]&&t.setAttribute("width",t.attributes["data-original-width"].value);t.attributes["data-full-size-src"]&&t.setAttribute("src",t.attributes["data-full-size-src"].value);return{node:t}}return null};t.fixImages=r},NCm5:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("q6GH")),i=r(a("ZQ2w")),o=r(a("y4Zp")),s=a("QkLn"),l=r(a("OCxt")).default.img.withConfig({displayName:"VizExImage__StyledImg",componentId:"sc-1owz4lv-0"})(["display:block;height:auto;max-width:100%;"]),u=function(e){var t=e.src,a=(0,n.default)(e,["src"]),r=(0,s.isUnsafeUrl)(t);r&&console.warn("VizExImage was given an unsafe src, defaulting to empty.");return i.default.createElement(l,Object.assign({},a,{src:r?null:t}))};u.propTypes={src:o.default.string.isRequired};u.displayName="VizExImage";var d=u;t.default=d;e.exports=t.default},NFcK:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isVisitorTypingMessage=void 0;var r=a("DeC8"),n=a("MNH3"),i=function(e){return(0,n.isTypingMessage)(e)&&(0,r.isFromVisitor)(e)};t.isVisitorTypingMessage=i},NJOw:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r="\\.",n='\\s\\?\\#\\/\\(\\)\\=\\:\\;\\@\\\\"'+r,i="(?:www"+r+")",o="(?:[%a-zA-Z0-9_-]+)",s="(?:(?:\\.[%a-zA-Z0-9-]+)[^\\.\\s])",l="\\s\\?\\#\\&",u={www:i,domain:i+"?(?:(?:[^"+n+"]+)"+r+")+(?:[^"+n+"]+)",protocol:"(?:(?:https?:)?\\/\\/)",protocolRequired:"(?:https?:\\/\\/)",path:"(?:(?:\\/[^\\s\\/\\#\\&\\?]*)+\\/?)",wildcardPath:"(?:(/(?:[%a-zA-Z0-9_-])*?)*(?:/[\\*]))",file:""+o+s,fileName:o,fileExtension:s,search:"(?:([\\?&#][^"+l+"]*?=?([^"+l+"]*))+)",ungroupedSearch:"(?:(?:[\\?&#][^"+l+"]*?=?(?:[^"+l+"]*))+)"};t.default=u;e.exports=t.default},NJsA:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("IYzb")),c=n(a("1WnS")),f=a("xw1J"),p=a("vn5n"),g=n(a("y4Zp")),m=r(a("ZQ2w")),v=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,a=e.message,r=e.sender,n=(0,f.getTimestamp)(a),i=(0,f.getStatusSource)(a)||(0,p.getType)(a);return m.default.createElement(d.default,{timestamp:n,sender:r,isSenderLoading:t,statusSource:i})}}]);return t}(m.PureComponent);t.default=v;v.displayName="TypingHeaderContent";v.propTypes={isSenderLoading:g.default.bool,message:g.default.oneOfType([(0,c.default)("PubNubMessageRecord"),(0,c.default)("CommonMessage"),(0,c.default)("TypingIndicatorMessage")]).isRequired,sender:(0,c.default)("Sender")};e.exports=t.default},NdLk:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToCommunicateMessage=void 0;var r=a("ib5I"),n=a("6ltl"),i=a("qeXV"),o=(0,r.createSelector)(i.getLatestWidgetData,function(e){return(0,n.getConsentToCommunicateMessage)(e)});t.getConsentToCommunicateMessage=o},Npak:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.BOX_BASE_WIDTH=t.BOX_BASE_HEIGHT=t.CIRCLE_BASE_SIZE=void 0;var r=32;t.CIRCLE_BASE_SIZE=r;var n=15;t.BOX_BASE_HEIGHT=n;var i=40;t.BOX_BASE_WIDTH=i},NuDZ:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a("6+o1"),n=a("BQpW"),i=(0,r.Record)({width:"auto",minHeight:36,borderColor:n.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:n.FLINT},"QuickReplyTheme");t.default=i;e.exports=t.default},"O+PR":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprConsentToProcessEnabled=void 0;var r=a("ib5I"),n=a("N/cQ"),i=a("qeXV"),o=(0,r.createSelector)([i.getLatestWidgetData],function(e){return(0,n.gdprConsentToProcessEnabled)(e)});t.getGdprConsentToProcessEnabled=o},"O1/d":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.defaultThemeConfig=void 0;var n,i=r(a("l4i0")),o=a("BQpW"),s=a("ZQ2w"),l=a("KCF3"),u=r(a("uNz2")),d=(n={},(0,i.default)(n,l.DEFAULT,(0,u.default)()),(0,i.default)(n,l.AGENT,(0,u.default)()),(0,i.default)(n,l.VISITOR,(0,u.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM,alignment:"flex-end"})),n);t.defaultThemeConfig=d;var c=(0,s.createContext)(d);t.default=c},O3Qn:function(e,t,a){"use strict";"use es6";var r=a("Z7VI"),n=a("nhTm");Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=y;t.sendVisitorEmailAddressSucceeded=t.sendVisitorEmailAddressFailed=t.sendVisitorEmailAddressRequested=void 0;var i=a("CRij"),o=a("xOvp"),s=n(a("2n97")),l=r(a("fS1x")),u=n(a("FSCz")),d=a("Wgd9"),c=a("nncj"),f=a("kJ+w"),p=a("/A3W"),g=a("rkDb"),m=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS,function(e){return{email:e}});t.sendVisitorEmailAddressRequested=m;var v=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_FAILED,function(e){return{error:e}});t.sendVisitorEmailAddressFailed=v;var h=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED,function(e){return{email:e}});t.sendVisitorEmailAddressSucceeded=h;function y(e){var t=e.consentToCommunicate,a=void 0!==t&&t,r=e.email,n=e.threadId;return function(e,t){e(m(r));var i=(0,f.getThreadByThreadId)(t(),{threadId:n}),s=(0,g.getChannelName)(i),y=(0,o.getSessionId)(t()),b=(0,p.getHubspotUtk)(t()),E=function(){e(h(r));e((0,l.default)({channel:s,email:r,threadId:n}));a&&e((0,d.visitorConsentsToCommunicate)(a));e((0,c.trackInteraction)("widget-interaction",{action:"submit email"}));return{error:null}},_=function(t){e(v(t));return{error:t}};return u.sendVisitorEmailAddress({threadId:n,email:r,sessionId:y,hubspotUtk:b}).then(E,_)}}},O7fF:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PUBSUB_FAILED=t.SUBSCRIPTIONS_FAILED=t.CREATE_NEW_THREAD_FAILED=t.THREAD_HISTORY_FAILED=t.NETWORK_OFFLINE=void 0;var r="NETWORK_OFFLINE";t.NETWORK_OFFLINE=r;var n="THREAD_HISTORY_FAILED";t.THREAD_HISTORY_FAILED=n;var i="CREATE_NEW_THREAD_FAILED";t.CREATE_NEW_THREAD_FAILED=i;var o="SUBSCRIPTIONS_FAILED";t.SUBSCRIPTIONS_FAILED=o;var s="PUBSUB_FAILED";t.PUBSUB_FAILED=s},OJ8L:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=r(a("ZQ2w")),o=r(a("eCyM")),s=r(a("819h")),l=r(a("CUjz")),u=r(a("5wHW")),d=function(e){var t=e.message,a=e.onRepublish;return i.default.createElement(s.default,{use:"error"},i.default.createElement(u.default,{name:"warning",className:"m-right-1"}),i.default.createElement(l.default,{use:"danger",onClick:function(){return a(t)}},i.default.createElement(o.default,{message:"conversations-message-history.status.publishing.PUBLISH_FAILED"})))};d.displayName="FailedToPublishMessageText";d.propTypes={message:n.default.object.isRequired,onRepublish:n.default.func.isRequired};var c=d;t.default=c;e.exports=t.default},Og2a:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.END_OF_MESSAGE_DELAY_TIME=void 0;var r=1e3;t.END_OF_MESSAGE_DELAY_TIME=r},Oogt:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("84Y+"),i=a("57Fl"),o=a("nncj"),s=r(a("t/w8")),l=a("tRLC"),u=a("zF3W"),d=a("Qu2R"),c=a("eqno"),f=a("wGBH"),p=a("QWZm"),g=a("LlPi"),m=function(e,t){var a=t.thread;return{attachmentsError:(0,l.attachmentsErrorForThreadInProps)(e,{thread:a}),networkError:(0,c.getNetworkErrors)(e)}},v={createNewThread:p.createNewThread,dismissAttachmentsError:u.dismissAttachmentsError,fetchOlderThreadHistory:f.fetchOlderThreadHistory,selectAttachmentFile:d.selectAttachmentFile,trackInteraction:o.trackInteraction,startPubSub:g.startPubSub,resubscribe:i.resubscribe},h=(0,n.connect)(m,v)(s.default);t.default=h;e.exports=t.default},P3KS:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.createVisitorThread=o;var n=r(a("nDpY")),i=r(a("kMAx"));function o(e){var t=e.sessionId,a=e.messageId,r=e.hubspotUtk,o=e.messagesPageUri,s=e.visitorThreadInitialHistory;return i.default.post("livechat-public/v1/thread/visitor",{query:{sessionId:t,welcomeMessageId:a,hubspotUtk:r,portalId:n.default.get(),expectedResponseType:"WRAPPER_V2"},data:{visitorThreadInitialHistory:s},headers:{"X-HubSpot-Messages-Uri":o}})}},P3bs:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageHeaderContentWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")).default.div.withConfig({displayName:"PrimaryMessageHeaderContent__PrimaryMessageHeaderContentWrapper",componentId:"sc-1wx8wxm-0"})(["margin-left:1px;min-width:0;"]);t.PrimaryMessageHeaderContentWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageHeaderContent";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},PHMb:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.postConversationStartedEvent=void 0;var r=a("wjj1"),n=a("Wjp6"),i=a("7ecw"),o=function(e){var t=e.thread;return function(e){e((0,r.postExternalApiEvent)({eventType:n.CONVERSATION_STARTED,payload:{conversation:(0,i.serializeThreadForExternalEvent)(t)}}))}};t.postConversationStartedEvent=o},PI7G:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildCreatedThread=void 0;var n=r(a("0w3K")),i=a("5CMC"),o=a("PgUQ"),s=a("9A/W"),l=function(e){var t=e.channelDetails,a=e.messagesPageUri,r=e.threadHistory,l=e.threadId;return(0,s.buildThread)({channelDetails:t,currentUrl:a,source:i.LIVE_CHAT,status:n.default.STARTED,threadId:l}).set("latestMessage",(0,o.findLastConversationalMessage)(r))};t.buildCreatedThread=l},PQge:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=a("6+o1"),p=n(a("819h")),g=n(a("E7sj")),m=n(a("929M")),v=n(a("Yp2k")),h=a("Mx+g"),y=a("KCF3"),b=n(a("4JpU")),E=n(a("1ek5")),_=a("qwyC"),T=a("Vfk2"),C=a("IPBc"),I=n(a("9F43")),S=n(a("IYzb")),x=a("KWwi"),M=n(a("1WnS")),A=a("xw1J"),O=a("ul6U"),P=a("xANw"),R=a("3rpF"),k=n(a("Acer")),N=n(a("U+Tu")),w=n(a("RhWw")),L=n(a("Hbdb")),D=n(a("P3bs")),F=n(a("RjfD")),U=a("+asb"),j=n(a("DuB0")),B=a("ap9A"),Z=n(a("dAvu")),H=n(a("sieo")),V=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleQuickReplySend=function(){var e=a.props,t=e.message,r=e.publishMessage,n=a.state.selectedQuickReply;r({text:(0,O.getOptionLabel)(n),quickReply:(0,R.getQuickReply)(t).set("quickReplies",[n])})};a.handleQuickReplySelect=function(e){var t=e.target.value,r=a.props.message,n=(0,R.getQuickReplyReplies)(r).filter(function(e){return(0,O.getOptionValue)(e)===t}).first();a.setState({selectedQuickReply:n})};a.showQuickReplies=function(){var e=a.props,t=e.hasUnansweredQuickReplyMessage,r=e.message,n=e.positionDescriptors,i=t&&n.get(h.LAST);return(0,U.getHasQuickReplyOptions)(r)&&i};a.showQuickReplySelection=function(){var e=a.props.message,t=(0,R.getQuickReplyReplies)(e),r=(0,R.getQuickReplyAllowMultiSelect)(e);return a.showQuickReplies()&&t.count()>B.MAX_QUICK_REPLY_BUTTONS&&!r};a.renderQuickReplyGroup=function(){var e=a.props,t=e.isThreadStarted,r=e.message,n=e.publishMessage,i=e.requiresExplicitConsentToProcess,o=(0,R.getQuickReplyReplies)(r),s=(0,R.getQuickReplyAllowMultiSelect)(r);return c.default.createElement(w.default,null,c.default.createElement(F.default,{options:o,disabled:i||!t,message:r,multiSelect:s,publishMessage:n,onChange:a.handleQuickReplyUpdate}))};a.renderQuickReplySendButton=function(){var e=a.props.isThreadStarted,t=a.state.selectedQuickReply;return c.default.createElement(w.default,null,c.default.createElement(j.default,{disabled:!e||!(0,O.getOptionValue)(t),onClick:a.handleQuickReplySend},c.default.createElement(m.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};a.renderQuickReplySelect=function(){var e=a.props,t=e.message,r=e.isThreadStarted,n=e.requiresExplicitConsentToProcess,i=a.state.selectedQuickReply,o=(0,R.getQuickReplyReplies)(t);return c.default.createElement("div",{className:"m-bottom-3 m-x-3"},c.default.createElement(Z.default,{quickReplyOptions:o,disabled:n||!r,onChange:a.handleQuickReplySelect,value:(0,O.getOptionValue)(i),placeholder:g.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};a.state={selectedQuickReply:(0,f.Map)()};return a}(0,o.default)(t,[{key:"isSentFromVisitor",value:function(){return(0,A.getSenderType)(this.props.message)===P.VISITOR}},{key:"renderMessageHeader",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors,r=e.senders;if(!a.includes(h.FIRST_IN_GROUP)||this.isSentFromVisitor())return null;var n=(0,A.getSenderId)(t),i=(0,A.getSenderType)(t),o=(0,_.findSender)(n,i,r),s=(0,T.getData)(o);s||(s=(0,I.default)({senderType:i,firstName:(0,A.getFromName)(t),email:(0,A.getFromAddress)(t)||null}));var l=(0,C.isSenderLoading)(o);return c.default.createElement(L.default,null,c.default.createElement(N.default,null,c.default.createElement(v.default,{sender:s,isLoading:l})),c.default.createElement(D.default,null,c.default.createElement(S.default,{isSenderLoading:l,sender:s})))}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors.includes(h.LAST_IN_GROUP),r=(0,A.getTimestamp)(t);return a&&r?c.default.createElement(w.default,null,c.default.createElement(p.default,{use:"help"},(0,x.getHistoryFormattedTimestamp)(r))):null}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=(0,R.getQuickReplyReplies)(e),a=(0,R.getQuickReplyAllowMultiSelect)(e);return this.showQuickReplies()&&this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=B.MAX_QUICK_REPLY_BUTTONS||a)?this.renderQuickReplyGroup():this.renderTimeStamp()}},{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.positionDescriptors,n=e.toggleOpen,i=e.mobile,o=this.isSentFromVisitor()?y.VISITOR:y.AGENT;return c.default.createElement(k.default,{positionDescriptors:r,use:o},this.renderMessageHeader(),c.default.createElement(H.default,{fileAttachments:t,isLastMessage:r.includes(h.LAST),message:a,quickReplySelect:this.showQuickReplySelection()&&this.renderQuickReplySelect,mobile:i,toggleOpen:n}),this.renderMessageFooter())}}]);return t}(c.PureComponent);V.displayName="CommonMessage";V.propTypes={fileAttachments:d.default.instanceOf(f.List),hasUnansweredQuickReplyMessage:d.default.bool,isThreadStarted:d.default.bool.isRequired,message:d.default.oneOfType([(0,M.default)("PubNubMessageRecord"),(0,M.default)("CommonMessage")]).isRequired,mobile:d.default.bool,positionDescriptors:b.default.isRequired,publishMessage:d.default.func,requiresExplicitConsentToProcess:d.default.bool.isRequired,senders:E.default,toggleOpen:d.default.func};var W=V;t.default=W;e.exports=t.default},PRHD:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.typingResponder=void 0;var n=a("ib5I"),i=r(a("lK+m")),o=r(a("BjQQ")),s=a("ZZP5"),l=a("zFd5"),u=a("6uLX"),d=a("0v5j"),c=(0,n.createSelector)([d.typingTimeoutsForThreadInProps,u.getAllAgentResponders,l.getWidgetBotResponder],function(e,t,a){var r=(0,s.getUserId)(a);return(0,o.default)(r,e)?a:t&&t.find(function(t){var a=(0,s.getUserId)(t);return(0,i.default)(a,e)})});t.typingResponder=c},PRLE:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FileAttachmentTileWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("1WnS")),c=a("AIeD"),f=a("0OX+"),p=a("Lrql"),g=n(a("BM9f")),m=r(a("ZQ2w")),v=n(a("OCxt")),h=n(a("XL8o")),y=n(a("NCm5")),b=n(a("CUjz")),E=n(a("X/N/")),_=a("I23m"),T=a("1WM8"),C=v.default.div.withConfig({displayName:"FileAttachmentTile__FileAttachmentTileWrapper",componentId:"sc-1ur5onz-0"})(["max-width:300px;"]);t.FileAttachmentTileWrapper=C;var I=(0,v.default)(h.default).withConfig({displayName:"FileAttachmentTile__StyledFileAttachment",componentId:"sc-1ur5onz-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"}),S=v.default.div.withConfig({displayName:"FileAttachmentTile__TruncateString",componentId:"sc-1ur5onz-2"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),x=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.fileMetadata,t=(0,f.displayName)(e),a=(0,p.getUrl)(e),r=(0,p.getSize)(e),n=(0,p.getType)(e),i=(0,p.getExtension)(e),o=n===c.IMG&&"svg"!==i;return m.default.createElement(C,null,m.default.createElement(b.default,{href:a,target:"_blank",use:"unstyled"},m.default.createElement(I,{className:"m-x-3 m-y-2",backgroundColor:(0,_.getTileBackgroundColor)((0,T.getFileAttachmentTheme)(this.context)),fileName:m.default.createElement(S,null,t),fileInfo:m.default.createElement(g.default,{value:r}),size:"small",renderPreview:o?function(){return m.default.createElement(y.default,{alt:t,src:a})}:void 0})))}}]);return t}(m.PureComponent);x.contextType=E.default;x.displayName="FileAttachmentTile";x.propTypes={fileMetadata:(0,d.default)("FileMetadataRecord").isRequired};var M=x;t.default=M},PgUQ:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.findLastConversationalMessage=void 0;var n=r(a("7Ypx")),i=r(a("iRI7")),o=a("MNH3"),s=a("4haF"),l=a("K24x"),u=function(e){(0,s.threadHistoryInvariant)(e);return(0,i.default)(l.getMessages,(0,n.default)(o.isConversationalMessage),function(e){return e&&e.last()})(e)};t.findLastConversationalMessage=u},Q92L:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("BQpW"),i=a("6+o1"),o=r(a("QWjn")),s=r(a("8Z7s")),l=(0,i.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:n.KOALA,borderColor:n.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:n.OBSIDIAN,fileAttachmentTheme:(0,o.default)(),quickReplyTheme:(0,s.default)(),headerBackgroundColor:n.OLAF,headerTextColor:n.OBSIDIAN,avatarBackgroundColor:n.BATTLESHIP,avatarBorderColor:n.BATTLESHIP,avatarTextColor:n.OBSIDIAN},"Theme");t.default=l;e.exports=t.default},QC7k:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getOfficeHoursStartTime=void 0;var n=r(a("xq+X")),i=function(e){return(0,n.default)(["metadata","officeHoursStartTime"],e)};t.getOfficeHoursStartTime=i},QPLO:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZvVZ")),i=a("4DKt");function o(e,t,a){if(e[t]){var r=e[t];if("string"!=typeof r||"#"===r)return new Error(a+': Invalid href "'+r+'". If provided, the href prop must be a valid URL.');if((0,i.isUnsafeUrl)(r))return new Error(a+': href "'+r+'" could be an XSS attack and will be ignored. See https://git.hubteam.com/HubSpot/UIComponents/issues/2599')}return null}var s=(0,n.default)(o,"validHref");t.default=s;e.exports=t.default},QT5F:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH"));a("ZqU6");var o=n(a("xbdm")),s=n(a("E7sj")),l=n(a("y4Zp")),u=r(a("ZQ2w")),d=a("8g3q"),c=n(a("b2CI")),f=n(a("Bwv2")),p=n(a("5wHW")),g=a("3z/C"),m=n(a("UQE4")),v=a("ah5j"),h=a("WyV3"),y=n(a("3LKE")),b=a("ur7i"),E=n(a("QPLO")),_=a("rvN4"),T=a("4DKt"),C=n(a("WmPr"));(0,g.setupStyledComponents)();var I=function(e){return e&&d.USE_CLASSES[e]?e:"secondary"},S=function(e){var t="",a=0,r=u.Children.toArray(e);return u.Children.map(e,function(e){a+=1;if(null==e)return null;if("string"==typeof e){t+=e;if(r.length<a||"string"!=typeof r[a]){var n=u.default.createElement("span",null,t);t="";return n}return null}return e})},x=function(e,t){return e?u.default.createElement(p.default,Object.assign({},t,{"aria-label":s.default.text("salesUI.UILink.externalTitle"),className:t&&t.className||"private-link--external__icon",name:"externalLink"})):null},M=function(e,t,a,r,n){return e?u.default.createElement(m.default,Object.assign({innerClassName:"private-button__truncate-string",useFlex:!0,fixedChildren:n,tooltip:a||r},t),u.default.createElement("span",null,r)):r},A=function(e){var t=e._useNativeButton,a=e["aria-pressed"],r=(e.active,e.autoFocus),n=e.block,s=e.buttonRef,l=e.children,c=e.className,p=e.disabled,g=e.external,m=e.href,h=e.iconProps,y=e.onClick,E=e.rel,A=e.responsive,O=e.size,P=e.tabIndex,R=e.target,k=e.truncate,N=e.truncateStringProps,w=e.truncateTooltip,L=e.use,D=(0,i.default)(e,["_useNativeButton","aria-pressed","active","autoFocus","block","buttonRef","children","className","disabled","external","href","iconProps","onClick","rel","responsive","size","tabIndex","target","truncate","truncateStringProps","truncateTooltip","use"]),F=(0,f.default)(e),U=F.active,j=F.onMouseDown,B=F.onKeyDown,Z=F.onKeyUp,H=F.onBlur;(0,u.useEffect)(function(){r&&m&&s.current.focus()},[]);var V=function(e){if(p){e.preventDefault();e.stopPropagation()}else y&&y(e)},W=function(e){B&&B(e);if(e.target===s.current&&y&&m&&" "===e.key){e.preventDefault();p?e.stopPropagation():y(e)}},q=(0,b.toShorthandSize)(O),Q=(0,_.getTabIndex)(p,P),G=(0,v.getTarget)(g,R),z=I(L);0;var Y=S(l),K=x(g,h),X=M(k,N,w,Y,K),J="unstyled"===z?(0,o.default)(c,d.USE_CLASSES[z]):(0,o.default)("uiButton private-button",d.USE_CLASSES[z],d.SIZE_CLASSES[q]||d.SIZE_CLASSES.default,c,U&&"private-button--active",n&&"private-button--block",p&&"disabled private-button--disabled",!A&&"private-button--non-responsive",-1===d.LINK_USES.indexOf(z)&&"private-button--non-link"),$=Object.assign({},D,{"aria-disabled":p,className:J,"data-button-use":z,onBlur:H,onClick:V,onKeyDown:W,onKeyUp:Z,onMouseDown:j,ref:s,tabIndex:Q});if(m){var ee=(0,v.getRel)(E,G);return(0,v.renderSecurityTaggedLink)(m,u.default.createElement("a",Object.assign({},$,{href:(0,T.getSafeUrl)(m),rel:ee,target:G}),X,k||K))}var te=t?"button":C.default;if(!t){$.buttonRef=s;delete $.ref}return u.default.createElement(te,Object.assign({},$,{"aria-pressed":null!=a?a:U||void 0,autoFocus:r,disabled:t?void 0:p,onKeyDown:B}),X)};A.propTypes={_useNativeButton:l.default.bool,active:(0,h.hidden)(l.default.bool),autoFocus:l.default.bool,"aria-pressed":l.default.bool,block:l.default.bool,buttonRef:y.default,children:l.default.node,disabled:l.default.bool.isRequired,external:l.default.bool.isRequired,hovered:(0,h.hidden)(l.default.bool),href:E.default,iconProps:l.default.object,responsive:l.default.bool.isRequired,rel:l.default.string,size:(0,b.propTypeForSizes)(["xs","sm","md"],["default"]),target:l.default.string,truncate:l.default.bool.isRequired,truncateStringProps:l.default.object,truncateTooltip:l.default.node,type:l.default.oneOf(["button","reset","submit"]).isRequired,use:l.default.oneOf(Object.keys(d.USE_CLASSES)).isRequired};A.defaultProps={_useNativeButton:!0,disabled:!1,external:!1,responsive:!0,size:"md",truncate:!1,type:"button",use:"secondary"};A.displayName="UIButton";var O=(0,c.default)(A);t.default=O;e.exports=t.default},QWT7:function(e,t,a){var r=a("cbPM");function n(e,t){var a=e.__data__;return r(t)?a["string"==typeof t?"string":"hash"]:a.map}e.exports=n},QWZm:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.createNewThread=O;var n=r(a("riuf")),i=a("CRij"),o=a("6+o1"),s=r(a("BjQQ")),l=a("ED6b"),u=a("Jtvd"),d=a("ZjIF"),c=a("L6i2"),f=a("xOvp"),p=a("PI7G"),g=a("9VMc"),m=a("nncj"),v=a("/A3W"),h=a("4scq"),y=a("9H+j"),b=a("P3KS"),E=a("VfRw"),_=a("PHMb"),T=a("0UrN"),C=a("qeXV"),I=a("gmfO"),S=a("eBLR"),x=(0,i.createAction)(E.CREATE_NEW_THREAD.STARTED),M=(0,i.createAction)(E.CREATE_NEW_THREAD.SUCCEEDED),A=(0,i.createAction)(E.CREATE_NEW_THREAD.FAILED);function O(){return function(e,t){var a=(0,f.getSessionId)(t()),r=(0,d.getMessageId)(t()),i=(0,c.getMessagesPageUri)(t()),E=(0,v.getHubspotUtk)(t()),O=(0,C.getLatestWidgetData)(t());e(x());return(0,b.createVisitorThread)({sessionId:a,hubspotUtk:E,messageId:r,messagesPageUri:i,visitorThreadInitialHistory:(0,g.getVisitorInitialThreadHistory)(t()),widgetData:O}).then(function(a){var r=a.channelDetails,d=a.sessionId,c=a.id,f=a.history,g=new n.default(Object.assign({},f,{attachments:(0,o.Map)((0,s.default)("attachments",f))})),v=(0,p.buildCreatedThread)({channelDetails:r,messagesPageUri:i,threadId:c,threadHistory:g});e((0,y.updateSessionId)(d));e((0,m.trackInteraction)("start-conversation",{action:"new conversation started",threadId:c}));e(M({channel:(0,T.getChannelName)(r),threadId:c,conversation:v,threadHistory:g}));e((0,l.addAvailabilityMessage)({channel:(0,T.getChannelName)(r),threadId:c}));e((0,_.postConversationStartedEvent)({thread:v}));(0,I.gdprCookieConsentOnExitIntentEnabled)(t(),O)||(0,S.getIsPrivateLoad)(O)||e((0,u.handleStoreMessagesCookie)((0,h.getMessagesUtk)(t())))}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(A({status:t.status,message:t.message,error:t}))})}}},QWjn:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a("6+o1").Record)({tileBackgroundColor:"rgba(255, 255, 255, 1)"},"FileAttachmentTheme");t.default=r;e.exports=t.default},Qirt:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireExplicitCookieConsent=void 0;var r=a("ib5I"),n=a("qeXV"),i=a("30X/"),o=a("Uz3j"),s=a("Dg0F"),l=a("iPvT"),u=a("Yuqq"),d=a("gmfO"),c=(0,r.createSelector)([n.getLatestWidgetData,i.getVisitorIdentity,u.getAPIEnableWidgetCookieBanner,l.getCookieBannerOnExitVisible],function(e,t,a,r){var n=(0,s.getGlobalCookieOptOut)(t),i="yes"===n||"no"===n,l=(0,d.gdprCookieConsentOnWidgetLoadEnabled)(e);return!(!(a||l)&&!r)&&(0,o.getIsFirstVisitorSession)(t)&&!i});t.shouldRequireExplicitCookieConsent=c},QkLn:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUnsafeUrl=void 0;var r="javascript:void(0)",n=/^([^:]+):/,i=/[\s\x00-\x1f]/g,o=function(e){if(e&&"string"==typeof e){var t=e.match(n);if(!t||e===r)return!1;if("javascript:"===t[0].replace(i,"").toLowerCase())return!0}return!1};t.isUnsafeUrl=o},Qu2R:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.selectAttachmentFile=void 0;var n=r(a("KA0c")),i=a("nncj"),o=a("4N9v"),s=a("+rg3"),l=a("rkDb"),u=a("sToE"),d=a("rvWB"),c=function(e){var t=e.file,a=e.thread;return function(e){var r=(0,l.getThreadId)(a);return(0,u.validateAttachmentFile)(t).then(function(){var a=new n.default({file:t,progress:0});return e((0,d.uploadAttachment)({attachment:a,threadId:r}))}).catch(function(t){e((0,s.attachmentError)(t,r));e((0,i.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":(0,o.validationErrorToTrackingFailureType)(t)}))})}};t.selectAttachmentFile=c},QzTW:function(e,t,a){var r=a("QWT7");function n(e){var t=r(this,e).delete(e);this.size-=t?1:0;return t}e.exports=n},RLQf:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.replaceGmailDivs=void 0;var r=a("XpIp"),n=function(e){var t=e.node;if("div"===e.node_name&&t&&t.classList&&t.classList.contains("gmail_default")){var a=r.secureDocument.createElement("span");Object.keys(t.attributes).forEach(function(e){var r=t.attributes[e];a.setAttribute(r.nodeName,r.nodeValue)});a.innerHTML=t.innerHTML.trim();return{node:a}}return null};t.replaceGmailDivs=n},RNjb:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSize=void 0;var r=function(e){return"number"==typeof e},n=function(e){return r(e)?e+"px":e};t.getSize=n},RPTv:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getShowingHsBranding=void 0;var n=r(a("BjQQ")),i=a("ib5I"),o=a("qeXV"),s=(0,i.createSelector)(o.getLatestWidgetData,(0,n.default)("showingHsBranding"));t.getShowingHsBranding=s},"RSm/":function(e,t,a){var r=a("I04N");function n(e){var t=this.__data__,a=r(t,e);return a<0?void 0:t[a][1]}e.exports=n},RVth:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=r(a("BjQQ")),i=(0,n.default)("minHeight");t.getMinHeight=i;var o=(0,n.default)("width");t.getWidth=o;var s=(0,n.default)("whiteSpace");t.getWhiteSpace=s;var l=(0,n.default)("lineHeight");t.getLineHeight=l;var u=(0,n.default)("borderColor");t.getBorderColor=u;var d=(0,n.default)("color");t.getColor=d},RWBV:function(e,t){function a(){this.__data__=[];this.size=0}e.exports=a},RhWw:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageFooterWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")).default.div.withConfig({displayName:"PrimaryMessageFooter__PrimaryMessageFooterWrapper",componentId:"sc-174dsic-0"})(["display:flex;margin-top:4px;max-width:284px;"]);t.PrimaryMessageFooterWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageFooter";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},RjfD:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("mjgr")),i=r(a("0aYW")),o=r(a("f5oG")),s=r(a("dd8U")),l=r(a("fi52")),u=r(a("xN45")),d=r(a("7u3i")),c=r(a("1WnS")),f=a("3rpF"),p=a("ul6U"),g=a("6+o1"),m=r(a("y4Zp")),v=r(a("ZQ2w")),h=r(a("5wHW")),y=r(a("GSHy")),b=r(a("fDD7")),E=a("ZBtC"),_=a("RVth"),T=r(a("dln+")),C=r(a("DuB0")),I=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleSendMulti=a.handleSendMulti.bind((0,u.default)(a));a.handleQuickReplySend=a.handleQuickReplySend.bind((0,u.default)(a));a.handleSendIndividual=a.handleSendIndividual.bind((0,u.default)(a));a.handleSelect=a.handleSelect.bind((0,u.default)(a));a.state={selected:(0,g.Set)()};return a}(0,o.default)(t,[{key:"hasSelected",value:function(){return this.state.selected.size>0}},{key:"handleSelect",value:function(e){this.setState(function(t){var a=t.selected;return{selected:a.includes(e)?a.delete(e):a.add(e)}})}},{key:"handleSendMulti",value:function(){var e=this.props.multiSelect,t=this.state.selected;if(e&&this.hasSelected()){var a=t.map(p.getOptionLabel).join(", ");this.handleQuickReplySend(a,t)}}},{key:"handleSendIndividual",value:function(e){if(!this.props.multiSelect){var t=(0,g.List)([e]),a=(0,p.getOptionLabel)(e);this.handleQuickReplySend(a,t)}}},{key:"handleQuickReplySend",value:function(e,t){var a=this.props,r=a.message;(0,a.publishMessage)({text:e,quickReply:(0,f.getQuickReply)(r).set("quickReplies",t.toJS())})}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,a=e.multiSelect,r=e.disabled,n=this.state.selected,i=this.context,o=a?this.handleSelect:this.handleSendIndividual;return t.map(function(e){var t=function(){return o(e)},s=n.includes(e),l=(0,p.getOptionValue)(e),u=(0,p.getOptionLabel)(e);if(!l||!u)return null;var d=a&&v.default.createElement(y.default,{className:"m-right-2",style:{minHeight:10},size:"small",color:(0,_.getBorderColor)((0,E.getQuickReplyTheme)(i)),checked:s,onChange:t});return v.default.createElement(T.default,{key:"quickreply."+l,onClick:t,theme:(0,E.getQuickReplyTheme)(i),disabled:r},d,u)})}},{key:"renderSendButton",value:function(){var e=this.props,t=e.disabled;if(!e.multiSelect)return null;var a=!this.hasSelected()||t;return v.default.createElement(C.default,{disabled:a,onClick:this.handleSendMulti,key:"send-button"},v.default.createElement(h.default,{name:"success"}))}},{key:"render",value:function(){return v.default.createElement("div",{className:"align-center flex-wrap m-y-2"},[].concat((0,n.default)(this.renderOptions()),[this.renderSendButton()]))}}]);return t}(v.default.Component);I.contextType=b.default;I.defaultProps={multiSelect:!1,hasSentReply:!1};I.displayName="QuickReplyGroup";I.propTypes={disabled:m.default.bool.isRequired,message:m.default.oneOfType([(0,c.default)("CommonMessage"),(0,c.default)("PubNubMessageRecord"),(0,c.default)("InitialMessage")]).isRequired,multiSelect:m.default.bool.isRequired,options:m.default.instanceOf(g.Set).isRequired,publishMessage:m.default.func};var S=I;t.default=S;e.exports=t.default},S3IA:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildSenderLocator=void 0;var n=a("xANw"),i=r(a("hrbX")),o=[n.AGENT,n.BOT,n.SYSTEM,n.VISITOR],s=function(e,t){o.includes(e)||console.warn("buildSenderLocator recevied invalid sender type "+e+" expected one of: "+o);return e===n.VISITOR?(0,i.default)({senderType:n.VISITOR}):(0,i.default)({senderType:e,senderId:t?""+t:null})};t.buildSenderLocator=s},SWAX:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("a4p2"),i=a("84Y+"),o=a("O+PR"),s=a("Qirt"),l=a("3+Oy"),u=a("Zqdz"),d=a("cep6"),c=a("RPTv"),f=r(a("ZWy4")),p=a("8cQJ"),g=function(e){return{shouldShowMeetingsLink:(0,p.shouldShowMeetingsLink)(e),isThreadStarted:(0,n.isStarted)((0,d.getSelectedThread)(e)),requiresExplicitConsentToProcess:(0,u.getShowGdprConsentToProcess)(e),showingGdprProcess:(0,o.getGdprConsentToProcessEnabled)(e)&&!(0,l.getHasGivenConsentToProcess)(e),renderCookieConsentPrompt:(0,s.shouldRequireExplicitCookieConsent)(e),showingHsBranding:(0,c.getShowingHsBranding)(e)}},m={toggleOnAndOffInputFocus:a("HmhQ").toggleOnAndOffInputFocus},v=(0,i.connect)(g,m)(f.default);t.default=v;e.exports=t.default},SzPi:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBackground=void 0;var r=a("gi+h"),n=a("3EW+"),i=function(e){return r.COLOUR_MAPPINGS[e]},o=function(e){var t=e.use;return t===n.BLANK?r.BLANK_BACKGROUND:(0,r.makeGradientBackground)(i(t))};t.getBackground=o},T7hB:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.UPLOAD_ERROR=t.SIZE_LIMIT_EXCEEDED=void 0;var r="SIZE_LIMIT_EXCEEDED";t.SIZE_LIMIT_EXCEEDED=r;var n="UPLOAD_ERROR";t.UPLOAD_ERROR=n},TGEe:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireConsentToCommunicate=void 0;var r=a("ib5I"),n=a("JxiE"),i=a("qeXV"),o=(0,r.createSelector)([i.getLatestWidgetData],function(e){return(0,n.gdprConsentToCommunicateEnabled)(e)});t.shouldRequireConsentToCommunicate=o},TR2A:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areFromSameSender=void 0;var r=a("xw1J"),n=function(e,t){return(0,r.getSenderId)(e)===(0,r.getSenderId)(t)&&(0,r.getSenderType)(e)===(0,r.getSenderType)(t)};t.areFromSameSender=n},TUZh:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildUrlContextUpdateMessage=u;var n=r(a("l4i0")),i=r(a("z2Tb")),o=a("jn74"),s=a("gNWh"),l=a("KK3O");function u(e){var t;return new i.default({contexts:(0,n.default)({},s.ENTRY_URL,(t={},(0,n.default)(t,o.MESSAGE_TYPE_ID,s.ENTRY_URL),(0,n.default)(t,"url",e),t)),id:(0,l.generateUuid)(),timestamp:Date.now()})}},Ta4D:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadListForCurrentThreadId=void 0;var n=a("6+o1"),i=a("ib5I"),o=r(a("BjQQ")),s=a("V/zO"),l=a("lBOe"),u=(0,i.createSelector)([l.getFileUploads,s.getCurrentThreadId],function(e,t){var a=(0,o.default)(t,e);return a?a.toList():(0,n.List)()});t.getFileUploadListForCurrentThreadId=u},Tk67:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Small=void 0;var i=n(a("q6GH")),o=n(a("0aYW")),s=n(a("f5oG")),l=n(a("dd8U")),u=n(a("fi52")),d=n(a("7u3i")),c=n(a("y4Zp")),f=n(a("ZQ2w")),p=r(a("OCxt")),g=n(a("9+BE")),m=a("BWYj"),v=function(e){return(0,p.css)(["color:",";"],(0,m.getFormControlErrorTextColor)(e))},h=p.default.small.withConfig({displayName:"VizExFormControl__Small",componentId:"rcof41-0"})(["font-size:12px;line-height:18px;margin-top:9px;display:block;",""],function(e){var t=e.error,a=e.theme;return t?v(a):null});t.Small=h;var y=p.default.div.withConfig({displayName:"VizExFormControl__FormControlWrapper",componentId:"rcof41-1"})(["width:100%;flex-basis:100%;"]),b=function(e){(0,d.default)(t,e);function t(){var e,a;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(a=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(n)))).getChildProps=function(e){var t=e.ariaLabel,a=e.newError,r=e.newRequired,n=e.validationMessage,i=e.fallbackId,o={"aria-label":t,required:r,"aria-invalid":a,"aria-required":r,ref:e.ref};i&&(o.id=i);a&&(o.error=n);return o};return a}(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],a=e.error,r=e.validationMessage,n=e.required,o=e.theme,s=e.children,l=(0,i.default)(e,["aria-label","error","validationMessage","required","theme","children"]),u=s(Object.assign({},this.getChildProps({ariaLabel:t,newError:a,newRequired:n,validationMessage:r})));return f.default.createElement(y,l,u,r?f.default.createElement(h,{error:a,theme:o},r):null)}}]);return t}(f.default.Component);b.displayName="VizExFormControl";b.propTypes={"aria-label":c.default.string,children:c.default.func.isRequired,error:c.default.bool,required:c.default.bool.isRequired,theme:g.default,validationMessage:c.default.node};b.defaultProps={error:!1,required:!1};var E=b;t.default=E},TlSS:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("y4Zp")),d=r(a("ZQ2w")),c=r(a("E7sj")),f=r(a("929M")),p=r(a("BM9f")),g=a("bm8L"),m=a("bBwc"),v=a("VJKA"),h=a("E6iF"),y=a("u/HZ"),b=a("2n6i"),E=r(a("ppV1")),_=r(a("1WnS")),T=r(a("EK/3")),C=r(a("880y")),I=r(a("PFd2")),S=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"customFilePreview",value:function(){var e=this.props.attachment,t=(0,m.getFile)(e);if((0,g.fileIsImage)(t))return d.default.createElement(E.default,{imageFile:t})}},{key:"fileInfo",value:function(){return(0,b.isUploadCompleted)(this.props.attachment)?d.default.createElement(p.default,{value:(0,y.getFileSize)(this.props.attachment)}):d.default.createElement(f.default,{message:"conversations-visitor-ui.stagedAttachment.uploadProgress",options:{uploadedBytes:c.default.formatSize((0,v.uploadedBytes)(this.props.attachment),{precision:2,strip_insignificant_zeroes:!0}),totalBytes:c.default.formatSize((0,y.getFileSize)(this.props.attachment))}})}},{key:"renderProgress",value:function(){return(0,b.isUploadCompleted)(this.props.attachment)?null:d.default.createElement(T.default,{value:(0,m.getUploadProgress)(this.props.attachment)})}},{key:"render",value:function(){return d.default.createElement(C.default,{processing:!(0,b.isUploadCompleted)(this.props.attachment),fileName:(0,h.getFileName)(this.props.attachment),fileInfo:this.fileInfo(),preview:this.customFilePreview(),style:{minWidth:220}},d.default.createElement(I.default,{size:"xs",onClick:this.props.onRemove}),this.renderProgress())}}]);return t}(d.default.Component);S.displayName="FileUpload";S.propTypes={attachment:(0,_.default)("FileUploadRecord").isRequired,onRemove:u.default.func.isRequired};var x=S;t.default=x;e.exports=t.default},"U+Tu":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageAvatarWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")).default.div.withConfig({displayName:"PrimaryMessageAvatar__PrimaryMessageAvatarWrapper",componentId:"sc-1wukr1t-0"})(["align-items:center;display:flex;flex-shrink:0;justify-items:center;margin-top:35px;"]);t.PrimaryMessageAvatarWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageAvatar";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},UI7R:function(e,t,a){var r,n=a("YaGm"),i=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";function o(e){return!!i&&i in e}e.exports=o},"V/zO":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadId=void 0;var r=a("rkDb"),n=a("ib5I"),i=a("cep6"),o=(0,n.createSelector)([i.getSelectedThread],r.getThreadId);t.getCurrentThreadId=o},VJKA:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.uploadedBytes=void 0;var r=a("bBwc"),n=function(e){var t=(0,r.getFile)(e),a=(0,r.getUploadProgress)(e);return t&&a?a/100*t.size:0};t.uploadedBytes=n},VSAg:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=(0,r(a("BjQQ")).default)("tileBackgroundColor");t.getTileBackgroundColor=n},VXFU:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("1WnS")),o=n(a("y4Zp")),s=r(a("ZQ2w")),l=n(a("O1/d")),u=(0,s.memo)(function(e){var t=e.themeConfig,a=e.children;return s.default.createElement(l.default.Provider,{value:t},a)});u.displayName="ThemeConfigProvider";u.propTypes={children:o.default.node.isRequired,themeConfig:o.default.objectOf((0,i.default)("Theme"))};var d=u;t.default=d;e.exports=t.default},Vfk2:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getNonDefaultSource=t.getDisplayName=t.getStatus=t.getData=t.getSenderType=t.getLastName=t.getId=t.getFirstName=t.getEmail=t.getAvatar=void 0;var n=r(a("E7sj")),i=r(a("xq+X")),o=a("xANw"),s=a("5eQY"),l=(0,i.default)(s.AVATAR);t.getAvatar=l;var u=(0,i.default)(s.EMAIL);t.getEmail=u;var d=(0,i.default)(s.FIRST_NAME);t.getFirstName=d;var c=(0,i.default)(s.ID);t.getId=c;var f=(0,i.default)(s.LAST_NAME);t.getLastName=f;var p=(0,i.default)(s.SENDER_TYPE);t.getSenderType=p;var g=(0,i.default)(s.DATA);t.getData=g;var m=(0,i.default)(s.STATUS);t.getStatus=m;var v=function(e){var t=d(e),a=f(e),r=u(e),i=p(e);return t&&a?t+" "+a:t||(r||(i===o.VISITOR?n.default.text("conversations-message-history.responder.unknownVisitorAvatar"):null))};t.getDisplayName=v;var h=function(e){var t=l(e);return t&&!t.includes("default")?t:null};t.getNonDefaultSource=h},Vj5D:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.stripHTML=void 0;var r=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""};t.stripHTML=r},Vkbq:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("7iZm")),o=n(a("q6GH")),s=r(a("ZQ2w")),l=n(a("y4Zp")),u=n(a("OCxt")),d=n(a("wEU5")),c=n(a("Zcsh")),f=r(a("D2kf")),p=n(a("9+BE")),g=(0,u.default)(d.default).withConfig({displayName:"VizExLoadingButton__Button",componentId:"sc-1hsctrr-0"})(["position:relative;"]),m=(0,u.default)(c.default).withConfig({displayName:"VizExLoadingButton__Spinner",componentId:"sc-1hsctrr-1"})(["height:0;opacity:",";transition:opacity 0.2s;position:absolute;top:50%;right:0;"],function(e){return e.isSubmitting?1:0}),v=u.default.div.withConfig({displayName:"VizExLoadingButton__Children",componentId:"sc-1hsctrr-2"})(["opacity:",";"],function(e){return e.isSubmitting?0:1}),h=function(e){var t=e.children,a=e.isDone,r=e["data-test-id"],n=e.onClick,l=e.use,u=e.theme,d=(0,o.default)(e,["children","isDone","data-test-id","onClick","use","theme"]),c=(0,s.useState)(!1),p=(0,i.default)(c,2),h=p[0],y=p[1],b=function(){y(!0);n()};return s.default.createElement(g,Object.assign({},d,{theme:u,onClick:b,disabled:h||a,isSubmitting:h||a,"data-test-id":r,use:(0,f.buttonUse)(l)}),s.default.createElement(v,{isSubmitting:h||a},t),s.default.createElement(m,{isSubmitting:h||a,size:"xs",grow:!0,use:(0,f.spinnerUse)(l),theme:u,showResult:a},a))};h.propTypes={children:l.default.node,"data-test-id":l.default.string,isDone:l.default.bool,onClick:l.default.func.isRequired,theme:p.default,use:l.default.oneOf(Object.values(f.default))};h.defaultProps={"data-test-id":"loading-button",isDone:!1,use:f.default.PRIMARY};h.displayName="VizExLoadingButton";var y=h;t.default=y;e.exports=t.default},W3K0:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.createFormDataForAttachment=void 0;var r=function(e){var t=e.file,a=new FormData;a.append("file",t);return a};t.createFormDataForAttachment=r},WFyk:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH")),o=r(a("ZQ2w")),s=n(a("y4Zp")),l=a("04Ic"),u=n(a("OCxt")).default.input.withConfig({displayName:"VizExFileButton__FilePickerInput",componentId:"sc-1p4t8gi-0"})(["display:none;"]),d=function(e){var t=e.children,a=e.multiple,r=e.accept,n=e.onChange,s=e.onClick,d=(0,i.default)(e,["children","multiple","accept","onChange","onClick"]),c=(0,o.useRef)(),f=function(e){c.current.click();(0,l.callIfValid)(s,e)};return o.default.createElement(o.Fragment,null,t({onClick:f}),o.default.createElement(u,Object.assign({},d,{ref:c,type:"file",accept:r.join(","),multiple:a,onChange:n})))};d.displayName="VizExFileButton";d.defaultProps={accept:[]};d.propTypes={accept:s.default.arrayOf(s.default.string),children:s.default.func.isRequired,multiple:s.default.bool,onChange:s.default.func,onClick:s.default.func};var c=d;t.default=c;e.exports=t.default},WQ6g:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateThreadCurrentUrl=void 0;var r=a("CRij"),n=a("e+cU"),i=(0,r.createAction)(n.UPDATE_THREAD_CURRENT_URL,function(e){return{currentUrl:e.currentUrl,threadId:e.threadId}});t.updateThreadCurrentUrl=i},WSPb:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getThumbnailMetadata=t.getFileMetadata=t.getFileId=void 0;var n=r(a("xq+X")),i=a("BvZg"),o=(0,n.default)(i.FILE_ID);t.getFileId=o;var s=(0,n.default)(i.FILE_METADATA);t.getFileMetadata=s;var l=(0,n.default)(i.THUMBNAIL_METADATA);t.getThumbnailMetadata=l},Wgd9:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.visitorConsentsToCommunicate=p;t.consentToCommunicateFailed=t.consentToCommunicateSucceeded=t.clickedConsentToCommunicate=void 0;var r=a("CRij"),n=a("Dho5"),i=a("mluK"),o=a("9H+j"),s=a("xOvp"),l=a("bz7q"),u=a("/A3W"),d=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE);t.clickedConsentToCommunicate=d;var c=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE_SUCCEEDED);t.consentToCommunicateSucceeded=c;var f=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE_FAILED,function(e){return{error:e}});t.consentToCommunicateFailed=f;function p(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?function(e,t){var a=(0,s.getSessionId)(t()),r=(0,l.getSelectedThreadId)(t()),n=(0,u.getHubspotUtk)(t());e(d());var p=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sessionId;e((0,o.updateSessionId)(t));e(c())},g=function(t){e(f(t))};(0,i.sendConsentToCommunicate)({sessionId:a,hubspotUtk:n,threadId:r}).then(p,g).done()}:null}},WpxU:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("1WnS")),i=r(a("xE1a")),o=r(a("E7sj")),s=r(a("929M")),l=r(a("y4Zp")),u=r(a("ZQ2w")),d=r(a("nOdq")),c=a("T7hB"),f=a("ZyKU"),p=a("rkDb"),g=function(e){var t=e.attachmentsError,a=e.dismissAttachmentsError,r=e.selectAttachmentFile,n=e.thread,l=e.trackInteraction,g=function(){a({threadId:(0,p.getThreadId)(n)})},m=function(e){var t=e.target.files;if(t&&t.length){var a=t.item(0);r({file:a,thread:n})}},v=function(){l("retry-attachment-upload",{action:"retry attachment upload"})},h=function(){switch(t){case c.SIZE_LIMIT_EXCEEDED:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.fileSizeExceeded",options:{maxSize:o.default.formatSize(f.MAX_FILE_SIZE)}});case c.UPLOAD_ERROR:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.uploadError"});default:return null}}();return u.default.createElement(i.default,{title:h,onClose:g,link:u.default.createElement(d.default,{onChange:m,onClick:v},u.default.createElement(s.default,{message:"cvVisitorUIAttachments.tryAgain"}))})};g.displayName="AttachmentErrorAlerts";g.propTypes={attachmentsError:l.default.oneOf([c.SIZE_LIMIT_EXCEEDED,c.UPLOAD_ERROR]),dismissAttachmentsError:l.default.func.isRequired,selectAttachmentFile:l.default.func.isRequired,thread:(0,n.default)("Thread").isRequired,trackInteraction:l.default.func.isRequired};var m=g;t.default=m;e.exports=t.default},Wry5:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZQ2w")),i=function(e){return n.default.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e),n.default.createElement("defs",null,n.default.createElement("path",{d:"M17 16c-1.38 0-2.5-1.12-2.5-2.5S15.62 11 17 11s2.5 1.12 2.5 2.5S18.38 16 17 16m.906-8.43V4.832c.716-.338 1.218-1.061 1.218-1.9v-.064c0-1.158-.95-2.105-2.11-2.105h-.064c-1.161 0-2.111.947-2.111 2.105v.064c0 .839.503 1.562 1.219 1.9V7.57c-1.067.164-2.042.603-2.846 1.249L5.676 2.97c.05-.191.085-.387.085-.594C5.762 1.067 4.698.001 3.384 0 2.069-.001 1 1.06 1 2.372.998 3.683 2.063 4.748 3.378 4.75c.428 0 .825-.121 1.172-.318l7.413 5.753c-.63.95-1 2.087-1 3.311 0 1.282.406 2.467 1.093 3.443L9.8 19.188c-.178-.053-.363-.091-.56-.091-1.08 0-1.956.874-1.956 1.952 0 1.078.876 1.951 1.956 1.951 1.081 0 1.957-.873 1.957-1.95 0-.196-.038-.381-.091-.559l2.23-2.225c1.012.772 2.273 1.235 3.645 1.235 3.324 0 6.018-2.69 6.018-6.005 0-3.002-2.21-5.482-5.094-5.926",id:"sprocket__a"})),n.default.createElement("use",{xlinkHref:"#sprocket__a",fillRule:"evenodd"}))};i.displayName="SVGSprocket";var o=i;t.default=o;e.exports=t.default},Wvti:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZQ2w")),i=r(a("y4Zp")),o=r(a("OCxt")),s=r(a("E7sj")),l=r(a("GSHy")),u=r(a("819h")),d=a("BQpW"),c=a("7un1"),f=r(a("HHf9")),p=(0,o.default)(u.default).withConfig({displayName:"ConsentToCommunicate__SmallNoParagraphPadding",componentId:"fkytdg-0"})(["p{margin-bottom:0;}"]),g=function(e){var t=e.message,a=e.companyName,r=e.consentToCommunicate,i=e.onChange,o=(0,c.formatHtml)(t)||s.default.text("conversations-visitor-message-history.email-capture.consentToCommunicate",{accountName:a});return n.default.createElement(l.default,{size:"small",value:r,onChange:i},n.default.createElement(p,{tagName:"span",style:{color:d.FLINT}},n.default.createElement(f.default,null,n.default.createElement("span",{dangerouslySetInnerHTML:{__html:o}}))))};g.displayName="ConsentToCommunicate";g.propTypes={companyName:i.default.string,consentToCommunicate:i.default.bool.isRequired,message:i.default.string.isRequired,onChange:i.default.func.isRequired};var m=g;t.default=m;e.exports=t.default},"X/N/":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("ZQ2w"),i=r(a("Q92L")),o=(0,n.createContext)((0,i.default)());t.default=o;e.exports=t.default},X6pe:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageContentSectionWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("y4Zp")),f=r(a("ZQ2w")),p=n(a("OCxt")),g=n(a("g92w")),m=n(a("fDD7")),v=a("ZBtC"),h=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__PaddedArea",componentId:"sc-1mdac52-0"})(["padding:8px 16px;"]),y=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__BlockPointerEvents",componentId:"sc-1mdac52-1"})(["pointer-events:",";"],function(e){return e.block?"none":"all"}),b=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__PrimaryMessageContentSectionWrapper",componentId:"sc-1mdac52-2"})(["width:100%;button{width:auto;}"]);t.PrimaryMessageContentSectionWrapper=b;var E=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={expanded:!!e.isLastMessage};a.onCollapseButtonClick=a.onCollapseButtonClick.bind((0,u.default)(a));a.expandMessage=a.expandMessage.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"renderContent",value:function(){var e=this.props,t=e.canExpand,a=e.children,r=this.state.expanded;return t?f.default.createElement(g.default,{gradientColor:(0,v.getBackgroundColor)(this.context),onCollapseButtonClick:this.onCollapseButtonClick,expanded:r,maxHeight:240},f.default.createElement(h,null,f.default.createElement(y,{block:!r},a))):f.default.createElement(h,null,a)}},{key:"render",value:function(){var e=this.props,t=e.canExpand,a=e.children,r=e.className;return f.default.Children.count(a)>0?f.default.createElement(b,{className:r},f.default.createElement("div",{onClick:t?this.expandMessage:function(){},className:"width-100 padding-x-4 padding-y-2"},this.renderContent())):null}}]);return t}(f.PureComponent);t.default=E;E.contextType=m.default;E.displayName="PrimaryMessageContentSection";E.propTypes={canExpand:c.default.bool,children:c.default.node,className:c.default.string,isLastMessage:c.default.bool}},XL8o:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var i=n(a("q6GH")),o=a("BQpW"),s=a("7Cb9"),l=n(a("y4Zp")),u=n(a("ZQ2w")),d=n(a("A8Hs")),c=r(a("OCxt")),f=n(a("R7mk")),p=n(a("819h")),g=n(a("5wHW")),m=n(a("wYm8")),v=n(a("AB8y")),h=n(a("A2Dt")),y=n(a("UQE4")),b=r(a("HUtv")),E=a("ur7i"),_=a("A7Nz"),T={fontSize:"12px",sm:{iconFont:"16px",previewWidth:"16px"},lg:{iconFont:"32px",previewWidth:"32px"}},C=c.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment_Children",componentId:"dfkinh-0"})(["margin:0;bottom:0;left:0;position:absolute;right:0;top:0;"]),I=(0,c.default)(m.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Media",componentId:"dfkinh-1"})(["position:relative;max-width:100%;line-height:",";"],function(e){return"sm"===e.size&&T.fontSize}),S=(0,c.default)(h.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Preview",componentId:"dfkinh-2"})(["align-items:center;display:flex;flex-basis:auto;flex-shrink:0;",";"],function(e){var t=e.size;return(0,c.css)([""," max-height:",";width:",";> *{max-height:",";max-width:",";}"],(0,_.setFontSize)(T[t].iconFont),T[t].previewWidth,T[t].previewWidth,T[t].previewWidth,T[t].previewWidth)});S.displayName="StyledAttachment_Preview";var x=(0,c.default)(v.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Info",componentId:"dfkinh-3"})(["display:flex;flex-direction:column;justify-content:center;line-height:1rem;width:100%;&&{flex-basis:auto;margin-left:",";}",";"],function(e){return"sm"===e.size&&"8px"},function(e){var t=e.size;return"sm"===t?(0,c.css)(["align-items:center;flex-direction:row;white-space:nowrap;"]):"lg"===t?(0,c.css)(["min-height:2rem;"]):null}),M=(0,c.default)(function(e){var t=e.className,a=e.fileInfo,r=e.size;return a?u.default.createElement(p.default,{className:t,use:"help"},"sm"===r&&"(",a,"sm"===r&&")"):null}).withConfig({displayName:"UIFileAttachment__FileInfo",componentId:"dfkinh-4"})(["&&{font-weight:",";line-height:inherit;margin-left:",";}"],s.WEB_FONT_REGULAR_WEIGHT,function(e){return"sm"===e.size&&"1ch"}),A=(0,c.default)(function(e){e.attachmentSize;var t=(0,i.default)(e,["attachmentSize"]);return u.default.createElement(f.default,t)}).withConfig({displayName:"UIFileAttachment__StyledAttachment_Close",componentId:"dfkinh-5"})(["flex-shrink:0;color:",";right:10px;top:10px;vertical-align:text-top;",";"],o.EERIE,function(e){return"sm"===e.attachmentSize&&(0,c.css)(["align-self:center;margin-left:auto;margin-right:0;position:static;&::after{left:auto;margin-left:12px;}"])});A.displayName="StyledAttachment_Close";var O=c.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment",componentId:"dfkinh-6"})(["display:",";padding:",";",";",";background-color:",";border:1px solid ",";color:",";font-weight:",";max-width:100%;position:relative;padding-right:",";"],function(e){return"sm"===e.size?"flex":"inline-flex"},function(e){return"sm"===e.size?"8px 12px":"12px"},(0,_.setBorderRadius)(),(0,_.setFontSize)(T.fontSize),function(e){return"on-dark"===e.use?o.OLAF:o.GYPSUM},o.KOALA,function(e){return e.processing?o.EERIE:o.HEFFALUMP},s.WEB_FONT_DEMI_BOLD_WEIGHT,function(e){return"lg"===e.size&&"32px"}),P=function(e){var t=e.fileType;return u.default.createElement(g.default,{className:"align-self-end",name:"application/pdf"===t?"pdfFile":"file"})};P.propTypes={fileType:l.default.string};function R(e){var t=e.closeable,a=e.use,r=e.size,n=e.children,o=e.renderPreview,s=e.fileName,l=e.fileInfo,c=(e.fileType,e.onCloseClick),f=e.processing,p=(0,i.default)(e,["closeable","use","size","children","renderPreview","fileName","fileInfo","fileType","onCloseClick","processing"]),g=(0,E.toShorthandSize)(r),m=b.render(o,e,{mergeType:"none"}),v=u.default.createElement(M,{size:g,fileInfo:l});"processing"===a&&d.default.warn({message:'UIFileAttachment: `use="processing"` is deprecated. Set `processing={true}` instead.',key:"UIFileAttachment: processing",url:"https://git.hubteam.com/HubSpot/UIComponents/issues/7991#issuecomment-1176756"});return u.default.createElement(O,Object.assign({},p,{processing:f||"processing"===a,size:g,use:a}),n&&u.default.createElement(C,{size:g},n),u.default.createElement(I,{size:g},u.default.createElement(S,{size:g},m),u.default.createElement(x,{size:g},"sm"===g?u.default.createElement(y.default,{useFlex:!0,fixedChildren:v},s):u.default.createElement(y.default,{useFlex:!0},s),"sm"!==g&&v)),t&&u.default.createElement(A,{className:"private-attachment__close",onClick:c,size:"sm",attachmentSize:g}))}R.propTypes={children:l.default.node,closeable:l.default.bool.isRequired,onCloseClick:l.default.func,processing:l.default.bool.isRequired,use:l.default.oneOf(["default","on-dark"]),size:l.default.oneOfType([(0,E.propTypeForSizes)(["sm","lg"]),l.default.oneOf(["auto"])]).isRequired,fileName:l.default.node.isRequired,fileInfo:l.default.node,fileType:l.default.string,renderPreview:b.propType};R.defaultProps={closeable:!1,processing:!1,use:"default",size:"lg",renderPreview:P};R.displayName="UIFileAttachment";e.exports=t.default},XNZD:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyAsSender=void 0;var n=r(a("9F43")),i=a("xANw"),o=(0,r(a("SRO8")).default)(function(e){var t=e.companyLogo,a=e.customChatName;return new n.default({avatar:t,firstName:a,senderType:i.AGENT})});t.getCompanyAsSender=o},XXHS:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.areDifferentDays=void 0;var n=r(a("E7sj")),i=a("xw1J"),o=function(e,t){var a=n.default.moment((0,i.getTimestamp)(e)),r=n.default.moment((0,i.getTimestamp)(t));return!a.isSame(r,"day")};t.areDifferentDays=o},XpIp:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeConfig=t.secureDocument=void 0;var r=a("vXt0"),n=a("mO/+"),i=a("tpDU"),o=a("94Bk"),s=a("N59q"),l=a("RLQf"),u=document.implementation.createHTMLDocument("");t.secureDocument=u;var d={transformers:[r.removeOutlookLineBreaks,n.removeReply,i.removeSignature,o.removeStyles,l.replaceGmailDivs,s.fixImages],dom:u,elements:["b","blockquote","br","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span","a"],attributes:{__ALL__:["style","align","valign","width","height"],blockquote:["cite"],col:["span"],colgroup:["span"],figure:["style"],ol:["start","type"],q:["cite"],img:["title","alt","src"],table:["summary","bgcolor"],td:["abbr","axis","colspan","rowspan","bgcolor"],th:["abbr","axis","colspan","rowspan","scope","bgcolor"],ul:["type"],font:["size"],a:["href","title"],span:["data-at-mention","data-owner-id","contenteditable","data-email-reply"]},add_attributes:{a:{target:"_blank"}},remove_contents:["script"],protocols:{a:{href:["http","https"]}}};t.sanitizeConfig=d},XpSk:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.cleanEmail=void 0;var n=r(a("SRO8")),i=a("vXt0"),o=a("94Bk"),s=a("N59q"),l=a("RLQf"),u=a("09Wr"),d=(0,n.default)(function(e){var t=[i.removeOutlookLineBreaks,l.replaceGmailDivs,o.removeStyles,s.fixImages];return(0,u.sanitizeEmail)(e,t)});t.cleanEmail=d},XuUM:function(e,t,a){var r=a("igt9"),n=a("00xA"),i=a("9J2q");function o(){this.size=0;this.__data__={hash:new r,map:new(i||n),string:new r}}e.exports=o},YaGm:function(e,t,a){var r=a("QN3r")["__core-js_shared__"];e.exports=r},YdqC:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("PhfE")).default;t.default=n;e.exports=t.default},Yp2k:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("1WnS")),f=n(a("8Vht")),p=a("BQpW"),g=n(a("y4Zp")),m=r(a("ZQ2w")),v=n(a("OCxt")),h=n(a("5wHW")),y=n(a("w23/")),b=a("vn5n"),E=a("Vfk2"),_=a("v8Yw"),T=a("xANw"),C=function(){},I=32,S=(0,v.default)(h.default).withConfig({displayName:"SenderAvatar__StyledUIIcon",componentId:"gawthl-0"})(["width:","px;height:","px;font-size:24px !important;text-align:center;line-height:","px;border-radius:","px;background-color:",";color:",";"],I,I,I,I/2,p.EERIE,p.OLAF),x=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleClick=a.handleClick.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"handleClick",value:function(){var e=this.props;(0,e.onClick)(e.sender)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.sender,r=e.size;if(t)return m.default.createElement(f.default,{size:32});if(!a)return m.default.createElement(y.default,{size:r});switch((0,b.getSenderType)(a)){case T.BOT:return m.default.createElement(y.default,{size:r,src:(0,E.getAvatar)(a)||_.mrHubBot});case T.SYSTEM:return m.default.createElement(S,{name:"simpleBot"});default:return m.default.createElement("span",{onClick:this.handleClick},m.default.createElement(y.default,{size:r,src:(0,E.getAvatar)(a)}))}}}]);return t}(m.PureComponent);t.default=x;x.displayName="SenderAvatar";x.propTypes={isLoading:g.default.bool,onClick:g.default.func.isRequired,sender:(0,c.default)("Sender"),size:y.default.propTypes.size};x.defaultProps={onClick:C,size:"sm"};e.exports=t.default},Z0PP:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.clearAttachments=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.CLEAR_ATTACHMENTS,function(e){return{threadId:e}});t.clearAttachments=i},ZBtC:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getWidgetAccent=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=r(a("BjQQ")),i=(0,n.default)("alignItems");t.getAlignment=i;var o=(0,n.default)("avatarWidth");t.getAvatarWidth=o;var s=(0,n.default)("backgroundColor");t.getBackgroundColor=s;var l=(0,n.default)("borderColor");t.getBorderColor=l;var u=(0,n.default)("borderRadius");t.getBorderRadius=u;var d=(0,n.default)("borderWidth");t.getBorderWidth=d;var c=(0,n.default)("messageSpacing");t.getMessageSpacing=c;var f=(0,n.default)("textColor");t.getTextColor=f;var p=(0,n.default)("fileAttachmentTheme");t.getFileAttachmentTheme=p;var g=(0,n.default)("quickReplyTheme");t.getQuickReplyTheme=g;var m=(0,n.default)("widgetAccent");t.getWidgetAccent=m},ZWy4:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")),p=n(a("BBNf")),g=n(a("gXxc")),m=n(a("nlAL")),v=n(a("lwpr")),h=n(a("DyWv")),y=n(a("ucHY")),b=n(a("xE1a")),E=n(a("929M")),_=n(a("sNjR")),T=a("Og2a"),C=f.default.div.withConfig({displayName:"UnifiedThreadView__UnifiedThreadViewWrapper",componentId:"sc-7c4u6b-0"})(["display:flex;flex-direction:column;height:",";"],function(e){return e.shouldShowMeetingsLink?"calc(100% - 44px)":"100%"}),I=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={renderNewThreadPrompt:!e.isThreadStarted};return a}(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.isThreadStarted,n=a.toggleOnAndOffInputFocus,i=e.isThreadStarted;r||r===i||setTimeout(function(){t.setRenderNewThreadPromptTrue();n(!1)},T.END_OF_MESSAGE_DELAY_TIME);r&&this.state.renderNewThreadPrompt&&this.setRenderNewThreadPromptFalse()}},{key:"setRenderNewThreadPromptTrue",value:function(){this.setState({renderNewThreadPrompt:!0})}},{key:"setRenderNewThreadPromptFalse",value:function(){this.setState({renderNewThreadPrompt:!1})}},{key:"renderMessageEditor",value:function(){var e=this.props,t=e.requiresExplicitConsentToProcess,a=e.renderCookieConsentPrompt,r=this.state.renderNewThreadPrompt;return t||a||r?null:c.default.createElement(c.Fragment,null,c.default.createElement(m.default,null),c.default.createElement(p.default,null))}},{key:"renderError",value:function(){var e=c.default.createElement(E.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});return c.default.createElement(b.default,{title:e,onClose:function(){}})}},{key:"render",value:function(){var e=this.props,t=e.shouldShowMeetingsLink,a=e.showingGdprProcess,r=e.showingHsBranding,n=e.renderCookieConsentPrompt,i=this.state.renderNewThreadPrompt;return c.default.createElement(C,{shouldShowMeetingsLink:t},c.default.createElement(_.default,{renderError:this.renderError,errorLoggingTitle:"ConnectedThreadHistory"},c.default.createElement(g.default,{shouldRenderNewThreadPrompt:i})),n&&c.default.createElement(h.default,null),a&&!n&&c.default.createElement(v.default,null),this.renderMessageEditor(),r&&c.default.createElement(y.default,null))}}]);return t}(c.PureComponent);I.displayName="UnifiedThreadView";I.propTypes={isThreadStarted:d.default.bool.isRequired,renderCookieConsentPrompt:d.default.bool.isRequired,requiresExplicitConsentToProcess:d.default.bool.isRequired,shouldShowMeetingsLink:d.default.bool.isRequired,showingGdprProcess:d.default.bool.isRequired,showingHsBranding:d.default.bool.isRequired,toggleOnAndOffInputFocus:d.default.func.isRequired};var S=I;t.default=S;e.exports=t.default},ZfMY:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.KEYPAD_NUMBER_9=t.KEYPAD_NUMBER_8=t.KEYPAD_NUMBER_7=t.KEYPAD_NUMBER_6=t.KEYPAD_NUMBER_5=t.KEYPAD_NUMBER_4=t.KEYPAD_NUMBER_3=t.KEYPAD_NUMBER_2=t.KEYPAD_NUMBER_1=t.KEYPAD_NUMBER_0=t.NUMBER_9=t.NUMBER_8=t.NUMBER_7=t.NUMBER_6=t.NUMBER_5=t.NUMBER_4=t.NUMBER_3=t.NUMBER_2=t.NUMBER_1=t.NUMBER_0=t.Z=t.Y=t.UP=t.SPACE=t.RIGHT=t.NBSP=t.LEFT=t.ESC=t.TAB=t.ENTER=t.DOWN=t.BRACKET_RIGHT=t.BRACKET_LEFT=t.BACKSPACE=void 0;var r=8;t.BACKSPACE=r;var n=219;t.BRACKET_LEFT=n;var i=221;t.BRACKET_RIGHT=i;var o=40;t.DOWN=o;var s=13;t.ENTER=s;var l=9;t.TAB=l;var u=27;t.ESC=u;var d=37;t.LEFT=d;var c=160;t.NBSP=c;var f=39;t.RIGHT=f;var p=32;t.SPACE=p;var g=38;t.UP=g;var m=89;t.Y=m;var v=90;t.Z=v;var h=48;t.NUMBER_0=h;var y=49;t.NUMBER_1=y;var b=50;t.NUMBER_2=b;var E=51;t.NUMBER_3=E;var _=52;t.NUMBER_4=_;var T=53;t.NUMBER_5=T;var C=54;t.NUMBER_6=C;var I=55;t.NUMBER_7=I;var S=56;t.NUMBER_8=S;var x=57;t.NUMBER_9=x;var M=96;t.KEYPAD_NUMBER_0=M;var A=97;t.KEYPAD_NUMBER_1=A;var O=98;t.KEYPAD_NUMBER_2=O;var P=99;t.KEYPAD_NUMBER_3=P;var R=100;t.KEYPAD_NUMBER_4=R;var k=101;t.KEYPAD_NUMBER_5=k;var N=102;t.KEYPAD_NUMBER_6=N;var w=103;t.KEYPAD_NUMBER_7=w;var L=104;t.KEYPAD_NUMBER_8=L;var D=105;t.KEYPAD_NUMBER_9=D},ZjIF:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var r=a("ib5I"),n=a("qeXV"),i=(0,r.createSelector)([n.getLatestWidgetData],function(e){return e.message.id});t.getMessageId=i},Zpnd:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("E7sj")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=a("sFw5"),l=r(a("Ewkv")),u=r(a("Tk67")),d=r(a("74Vr")),c=(0,l.default)(d.default);function f(e){var t=e.disabled,a=e.error,r=e.messageText,i=e.onChange,l=e.onInputBlur,d=e.onInputFocus,f=e.onKeyDown,p=e.setEditorRef,g=e.validationMessage,m=e.showQuickReplyPlaceholder;return o.default.createElement(s.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(u.default,{"aria-label":n.default.text(m?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),validationMessage:g,error:a,required:!0},function(s){return o.default.createElement(c,Object.assign({},s,{use:"unstyled",error:a,className:"widget-textarea message-box","data-test-id":"widget-textarea",tabIndex:"0",innerRef:p,maxHeight:100,placeholder:n.default.text(m?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),disabled:t,onChange:i,onKeyDown:f,value:r,onFocus:d,onBlur:l}))})})}f.propTypes={disabled:i.default.bool.isRequired,error:i.default.bool.isRequired,messageText:i.default.string.isRequired,onChange:i.default.func.isRequired,onInputBlur:i.default.func,onInputFocus:i.default.func,onKeyDown:i.default.func.isRequired,setEditorRef:i.default.func.isRequired,showQuickReplyPlaceholder:i.default.bool.isRequired,validationMessage:i.default.string.isRequired};f.displayName="TextInput";var p=f;t.default=p;e.exports=t.default},Zqdz:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShowGdprConsentToProcess=void 0;var r=a("ib5I"),n=a("N/cQ"),i=a("tr1i"),o=a("qeXV"),s=a("3+Oy"),l=(0,r.createSelector)([o.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,n.gdprConsentToProcessEnabled)(e)&&!t&&(0,i.gdprExplicitConsentRequired)(e)});t.getShowGdprConsentToProcess=l},ZyKU:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_UPLOAD_PROGRESS_PERCENTAGE=t.MAX_FILE_SIZE=t.FILE_MANAGER_API_PREFIX=void 0;var r="filemanager/api";t.FILE_MANAGER_API_PREFIX=r;var n=10485760;t.MAX_FILE_SIZE=n;var i=95;t.MAX_UPLOAD_PROGRESS_PERCENTAGE=i},aR6q:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShouldDisableAttachment=void 0;var r=a("ib5I"),n=a("26zV"),i=a("TcSF"),o=(0,r.createSelector)([i.getWidgetUiState],function(e){return(0,n.getIsAttachmentDisabled)(e)});t.getShouldDisableAttachment=o},ah5j:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.renderSecurityTaggedLink=t.warnIfShouldBeExternal=t.getRel=t.getTarget=void 0;var n=r(a("ZQ2w")),i=r(a("A8Hs")),o=a("4DKt"),s=a("G37y"),l=function(e,t){return void 0!==t?t:e?"_blank":void 0};t.getTarget=l;var u=function(e,t){return void 0!==e?e:t&&"_self"!==t?"noopener noreferrer":void 0};t.getRel=u;var d=function(e,t,a){!e&&t&&"_self"!==t&&i.default.warn({message:a+": External links should include an icon. Use `external={true}`.",key:"Link: should be external"})};t.warnIfShouldBeExternal=d;var c=function(e,t){if((0,o.isUnsafeUrl)(e)){(0,s.throwErrorAsync)(new Error('Detected XSS attempt! href="'+e+'"'));return n.default.createElement(o.XSSTooltip,null,t)}return t};t.renderSecurityTaggedLink=c},ap9A:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_QUICK_REPLY_BUTTONS=void 0;var r=7;t.MAX_QUICK_REPLY_BUTTONS=r},bm8L:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileIsImage=void 0;var r=["PNG","GIF","JPEG","JPG"],n=function(e){var t=e.name.split("."),a=t[t.length-1]||"";return-1!==r.indexOf(a.toUpperCase())};t.fileIsImage=n},bodK:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")),p=n(a("mCss")),g=f.default.div.withConfig({displayName:"MessageComposer__FullWidth",componentId:"sc-1f9dab0-0"})(["width:100%;"]),m=f.default.div.withConfig({displayName:"MessageComposer__InputWrapper",componentId:"sc-1f9dab0-1"})(["display:flex;width:100%;align-items:center;justify-content:space-between;flex-wrap:nowrap;"]),v=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e="input-container m-bottom-2"+(this.props.showingHsBranding?"":" no-branding");return c.default.createElement("div",{className:e},c.default.createElement(p.default,{direction:"column",justify:"between",wrap:"nowrap"},this.props.fileUploads&&c.default.createElement(g,null,this.props.fileUploads()),c.default.createElement(m,null,this.props.inputToRender(),this.props.children&&c.default.createElement("div",{className:"display-flex flex-row m-left-1 no-shrink"},this.props.children))))}}]);return t}(c.Component);v.propTypes={children:d.default.node,fileUploads:d.default.func,inputToRender:d.default.func.isRequired,showingHsBranding:d.default.bool};v.defaultProps={fileUploads:null,showingHsBranding:!1};v.displayName="MessageComposer";var h=v;t.default=h;e.exports=t.default},btIm:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=(0,r(a("xq+X")).default)(["meetingsLinkUrl"]);t.default=n;e.exports=t.default},bvQD:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.defaultThemeConfig=void 0;var n,i=r(a("l4i0")),o=a("BQpW"),s=a("ZQ2w"),l=a("KCF3"),u=r(a("Q92L")),d=(n={},(0,i.default)(n,l.DEFAULT,(0,u.default)()),(0,i.default)(n,l.AGENT,(0,u.default)()),(0,i.default)(n,l.VISITOR,(0,u.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM})),n);t.defaultThemeConfig=d;var c=(0,s.createContext)(d);t.default=c},byqf:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ContentTextWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")),p=n(a("7un1")),g=f.default.div.withConfig({displayName:"ContentText__ContentTextWrapper",componentId:"mn7so3-0"})(["word-wrap:break-word;box-sizing:border-box;width:100%;white-space:pre-wrap;"]);t.ContentTextWrapper=g;var m=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],a=e.contentText,r=e.onClickAction;return c.default.createElement(g,null,c.default.createElement("div",{"aria-label":t,"data-test-id":"primary-message-content",dangerouslySetInnerHTML:{__html:p.default.formatHtml(a,{shouldPreserveNewlines:!0})},onClick:r}))}}]);return t}(c.PureComponent);t.default=m;m.displayName="ContentText";m.propTypes={"aria-label":d.default.string,contentText:d.default.string.isRequired,onClickAction:d.default.func};m.defaultProps={onClickAction:function(){}}},cXje:function(e,t){var a=Function.prototype.toString;function r(e){if(null!=e){try{return a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=r},cbPM:function(e,t){function a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=a},ce3V:function(e,t,a){var r=a("I04N");function n(e){return r(this.__data__,e)>-1}e.exports=n},d9q4:function(e,t,a){var r=a("XITf"),n=a("y3MR"),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!n(e))return!1;var t=r(e);return t==o||t==s||t==i||t==l}e.exports=u},dAvu:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=a("6+o1"),p=n(a("OCxt")),g=a("BQpW"),m=a("ul6U"),v="__PLACEHOLDER_VALUE__",h=p.default.select.withConfig({displayName:"QuickReplySelect__StyledSelect",componentId:"sc-1yvrxr4-0"})(["appearance:none;background:none;border-radius:3px;border:1px solid transparent;color:inherit;cursor:inherit;font-size:16px;margin:0;outline:none;padding:8px 32px 10px 10px;width:100%;height:40px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),y=p.default.div.withConfig({displayName:"QuickReplySelect__SelectContainer",componentId:"sc-1yvrxr4-1"})(["background-color:",";border-radius:3px;border:1px solid ",";color:",";cursor:pointer;display:block;font-size:16px;height:40px;line-height:22px;padding:0;position:relative;text-align:left;transition:all 0.15s ease-out;width:100%;&::after{border-color:transparent;border-style:solid;border-width:0.375em;display:inline-block;vertical-align:middle;border-top-color:",";margin-top:0.375em;margin-top:-3px;content:' ';position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;}"],g.GYPSUM,g.BATTLESHIP,g.OBSIDIAN,g.CALYPSO),b=function(e){(0,u.default)(t,e);function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(a=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(n)))).renderQuickReplySelectOptions=function(){return a.props.quickReplyOptions.map(function(e){var t=(0,m.getOptionValue)(e),a=(0,m.getOptionLabel)(e);return c.default.createElement("option",{value:t,key:t},a)})};return a}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.disabled,r=e.onChange,n=e.placeholder;return c.default.createElement(y,null,c.default.createElement(h,{disabled:a,defaultValue:v,value:t,onChange:r},n&&c.default.createElement("option",{disabled:!0,value:v},n),this.renderQuickReplySelectOptions()))}}]);return t}(c.Component);b.displayName="QuickReplySelect";b.propTypes={disabled:d.default.bool,onChange:d.default.func.isRequired,placeholder:d.default.string,quickReplyOptions:d.default.instanceOf(f.OrderedSet).isRequired,value:d.default.string};var E=b;t.default=E;e.exports=t.default},dFU8:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=n(a("Yp2k")),f=a("KCF3"),p=n(a("4JpU")),g=n(a("1ek5")),m=a("qwyC"),v=a("Vfk2"),h=a("IPBc"),y=n(a("K/ju")),b=n(a("1WnS")),E=a("xw1J"),_=a("xANw"),T=r(a("ZQ2w")),C=n(a("Acer")),I=n(a("U+Tu")),S=n(a("kgGd")),x=n(a("X6pe")),M=n(a("Hbdb")),A=n(a("P3bs")),O=n(a("NJsA")),P=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors,r=e.senders,n=(0,E.getSenderId)(t),i=(0,E.getSenderType)(t),o=(0,E.getSenderType)(t)===_.VISITOR,s=(0,m.findSender)(n,i,r),l=(0,v.getData)(s),u=(0,h.isSenderLoading)(s),d=o?f.VISITOR:f.AGENT;return T.default.createElement(C.default,{positionDescriptors:a,use:d},T.default.createElement(M.default,null,T.default.createElement(I.default,null,T.default.createElement(c.default,{sender:l,isLoading:u})),T.default.createElement(A.default,null,T.default.createElement(O.default,{message:t,sender:l,isSenderLoading:u}))),T.default.createElement(S.default,null,T.default.createElement(x.default,null,T.default.createElement(y.default,null))))}}]);return t}(T.PureComponent);P.displayName="TypingIndicatorMessage";P.propTypes={message:d.default.oneOfType([(0,b.default)("PubNubMessageRecord"),(0,b.default)("TypingIndicatorMessage")]).isRequired,positionDescriptors:p.default.isRequired,senders:g.default.isRequired};var R=P;t.default=R;e.exports=t.default},dIiL:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrl=void 0;var n=(0,r(a("BjQQ")).default)("currentUrl");t.getCurrentUrl=n},dNbY:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.hasTextContent=void 0;var n=a("qWiW"),i=r(a("lEHQ")),o=r(a("SRO8")),s=a("xw1J"),l=r(a("Vcb8")),u=r(a("z7Cl")),d=r(a("iqG4")),c=a("tuAR"),f=a("slIO"),p=[d.default,l.default,u.default],g=(0,o.default)(function(e){setTimeout(function(){(0,i.default)(p.some(function(t){return e instanceof t}),"hasTextContent: Unsupported message record type %s supplied",(0,n.getRecordName)(e))},0);var t=(0,f.getHasReplies)(e),a=(0,s.getRichText)(e)||(0,s.getPlainText)(e);return t||Boolean(a&&a.length&&(0,c.getEvaluatedTextContent)(a))});t.hasTextContent=g},dPCK:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isIE11=void 0;var r=window.navigator?navigator.userAgent.toLowerCase():"",n=function(){return r.includes("trident/")>=0};t.isIE11=n},dfzW:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("E7sj")),i={MY:"i18n.dateTime.monthAndYear",MD:"i18n.dateTime.monthAndDay",QY:"i18n.dateTime.quarterAndYear",WMDY:"i18n.dateTime.weekDayAndMonthAndDayAndYear"},o=function(e){var t=e.value,a=e.type,r=e.format,o=e.length,s=a?n.default.moment[a](t):t,l="",u="",d="";if("s"===o){var c=Object.keys(n.default.translations.en.i18n.dateTime.shortForm.months)[s.month()];l=n.default.text("i18n.dateTime.shortForm.months."+c,{locale:n.default.locale});u=s.format("ddd");d=s.format("ll")}else{l=s.format("MMMM");u=s.format("dddd");d=s.format("LL")}var f={monthName:l,locale:n.default.locale};switch(r){case"MD":f.dayNumber=s.date();break;case"QY":f.quarterNumber=s.quarter();f.yearNumber=s.year().toString();break;case"WMDY":f.weekDay=u;f.fullDate=d;break;default:f.yearNumber=s.year().toString()}return n.default.text(i[r],f)};t.default=o;e.exports=t.default},"dln+":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("xN45")),u=r(a("7u3i")),d=r(a("y4Zp")),c=r(a("ZQ2w")),f=r(a("QT5F")),p=a("gMO5"),g=r(a("1WnS")),m=a("lgOm"),v="secondary",h="primary";function y(e,t,a){var r=(0,p.getRGB)(t),n=r.r,i=r.g,o=r.b;return e===v?a?"rgba("+n+","+i+","+o+", 0.15)":"rgba(0,0,0,0)":a?"rgba("+n+","+i+","+o+", 0.85)":"rgba("+n+","+i+","+o+", 1)"}function b(e,t,a){var r=(0,m.getBorderColor)(t);return{width:(0,m.getWidth)(t),minHeight:(0,m.getMinHeight)(t),borderColor:r,whiteSpace:(0,m.getWhiteSpace)(t),lineHeight:(0,m.getLineHeight)(t),backgroundColor:y(e,r,a),color:e===h?(0,m.getColor)(t):r}}var E=function(e){(0,u.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={hovered:!1};a.handleMouseEnter=a.handleMouseEnter.bind((0,l.default)(a));a.handleMouseLeave=a.handleMouseLeave.bind((0,l.default)(a));return a}(0,i.default)(t,[{key:"handleMouseEnter",value:function(){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.children,r=e.disabled,n=e.use,i=b(n,e.theme,this.state.hovered);return c.default.createElement(f.default,{className:"quick-reply display-inline-flex m-top-0 m-bottom-2 m-right-2",style:i,size:"small",use:n,onClick:t,disabled:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a)}}]);return t}(c.default.Component);E.displayName="QuickReply";E.defaultProps={use:v,disabled:!1};E.propTypes={children:d.default.node.isRequired,disabled:d.default.bool.isRequired,onClick:d.default.func.isRequired,theme:(0,g.default)("QuickReplyTheme"),use:d.default.string.isRequired};var _=E;t.default=_;e.exports=t.default},eRbN:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_ID_ATTR=void 0;var r="data-cv-message-history-id";t.MESSAGE_ID_ATTR=r},eUtD:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,i=r(a("l4i0")),o=a("6+o1"),s=a("//9l"),l=(0,o.Record)((n={},(0,i.default)(n,s.MESSAGE_TYPE_ID,s.DATE_MESSAGE),(0,i.default)(n,"timestamp",null),(0,i.default)(n,"id",null),n),"DateMessage");t.default=l;e.exports=t.default},"eo+F":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areMessagesGrouped=void 0;var r=a("tnbG"),n=a("xw1J"),i=a("TR2A"),o=function(e,t){return(0,n.getType)(e)===(0,n.getType)(t)},s=6e4,l=(0,a("fuBj").areNMsApart)(s),u=function(e,t){e=(0,r.getMessage)(e)||e;t=(0,r.getMessage)(t)||t;return(0,i.areFromSameSender)(e,t)&&o(e,t)&&!l(e,t)};t.areMessagesGrouped=u},eqno:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getNetworkErrors=void 0;var n=a("ib5I"),i=r(a("BjQQ")),o=a("O7fF"),s=a("puR0"),l=a("Cy/A"),u=a("9VMc"),d=a("vZpZ"),c=a("pnsR"),f=function(e){return e.clientData.isPubNubClientConnected},p=(0,i.default)("subscriptions"),g=(0,n.createSelector)([c.getCurrentThreadHistoryEntry,u.getAsyncStagedThread,p,d.getAsyncPubSubClient,f],function(e,t,a,r,n){if((0,s.isFailed)(e))return o.THREAD_HISTORY_FAILED;if((0,s.isFailed)(t)){var i=(0,l.getError)(t),u=i&&418===i.status;if(!i||!u)return o.CREATE_NEW_THREAD_FAILED}return(0,s.isFailed)(a)?o.SUBSCRIPTIONS_FAILED:(0,s.isFailed)(r)?o.PUBSUB_FAILED:n?null:o.NETWORK_OFFLINE});t.getNetworkErrors=g},f6v6:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("l4i0")),o=a("6+o1"),s=n(a("y4Zp")),l=r(a("ZQ2w")),u=a("xw1J"),d=n(a("4JpU")),c=n(a("1ek5")),f=a("eRbN"),p=a("L9iu"),g=function(e,t){return!Object.keys(e).some(function(a){return"fileAttachments"===a||"positionDescriptors"===a||"senders"===a?!(0,o.is)(e[a],t[a]):e[a]!==t[a]})},m=(0,l.memo)(function(e){var t=e.fileAttachments,a=e.historyConfig,r=e.message,n=e.portalId,o=e.positionDescriptors,s=e.senders,d=e.visitorLastReadTimestamp,c=e.lastMessageId,g=(0,i.default)({},f.MESSAGE_ID_ATTR,(0,p.getMessageId)(r)),m=a[(0,u.getType)(r)];return m?l.default.createElement("div",g,l.default.createElement(m,{fileAttachments:t,message:r,portalId:n,positionDescriptors:o,senders:s,visitorLastReadTimestamp:d,lastMessageId:c})):null},g);m.displayName="MessageHistoryItem";m.propTypes={fileAttachments:s.default.instanceOf(o.List),historyConfig:s.default.object.isRequired,lastMessageId:s.default.string,message:s.default.instanceOf(o.Record).isRequired,portalId:s.default.number.isRequired,positionDescriptors:d.default.isRequired,senders:c.default,visitorLastReadTimestamp:s.default.number};m.defaultProps={innerRef:function(){},positionDescriptors:[]};var v=m;t.default=v;e.exports=t.default},fD9S:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.insertDatesIntoMessageList=void 0;var n=a("6+o1"),i=r(a("zRU2")),o=a("xw1J"),s=a("wn8R"),l=r(a("eUtD")),u=a("JK+2"),d=a("L9iu"),c=(0,i.default)(l.default,function(e){return e.id}),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.reduce(function(r,n,i){var l=i>0?e.get(i-1):void 0;(0,u.shouldRenderDate)(n,l,a)&&(0,s.isValidMessageHistoryType)(n,t)&&(r=r.push(c({id:(0,d.getMessageId)(n)+"-date",timestamp:(0,o.getTimestamp)(n)})));return r.push(n)},(0,n.List)())};t.insertDatesIntoMessageList=f},fDD7:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("ZQ2w"),i=r(a("uNz2")),o=(0,n.createContext)((0,i.default)());t.default=o;e.exports=t.default},fGqM:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ErrorMessage=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=a("KCF3"),f=n(a("E7sj")),p=n(a("byqf")),g=n(a("4JpU")),m=n(a("1WnS")),v=a("xw1J"),h=a("LTXT"),y=n(a("eCyM")),b=n(a("AYv8")),E=n(a("y4Zp")),_=r(a("ZQ2w")),T=n(a("OCxt")),C=n(a("Wvti")),I=n(a("kiMl")),S=a("BQpW"),x=n(a("Acer")),M=n(a("kgGd")),A=n(a("X6pe")),O=T.default.span.withConfig({displayName:"EmailCapturePromptMessage__ErrorMessage",componentId:"jv7jvp-0"})(["color:",";font-size:12px;line-height:18px;text-align:left;margin-top:9px;display:flex;"],S.CANDY_APPLE);t.ErrorMessage=O;var P=/\s|@.{0,}@/,R=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).onConsentChange=function(){a.setState({hasConsentedToCommunicate:!a.state.hasConsentedToCommunicate})};a.state={email:"",emailError:!1,hasConsentedToCommunicate:!1,submitting:!1,submitFailure:!1};a.handleChange=a.handleChange.bind((0,u.default)(a));a.handleKeyPress=a.handleKeyPress.bind((0,u.default)(a));a.handleSubmit=a.handleSubmit.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"handleChange",value:function(e){this.setState({email:e.target.value,emailError:!1,submitFailure:!1})}},{key:"handleKeyPress",value:function(e){var t=13;e.which===t&&this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this,t=this.props,a=t.sendVisitorEmailAddress,r=t.threadId,n=this.state,i=n.email,o=n.hasConsentedToCommunicate,s=i.trim();b.default.test(s)&&!s.match(P)?this.setState({submitting:!0},function(){a({email:s,consentToCommunicate:o,threadId:r}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;e.setState({submitting:!1,submitFailure:Boolean(t)})}).done()}):this.setState({emailError:!0})}},{key:"getValidationMessage",value:function(){switch(!0){case this.state.emailError:return _.default.createElement(y.default,{message:"conversations-visitor-message-history.email-capture.invalid"});case this.state.submitFailure:return _.default.createElement(y.default,{message:"conversations-visitor-message-history.email-capture.failed"});default:return null}}},{key:"renderConsentSection",value:function(){var e=this.props,t=e.companyName,a=e.consentToCommunicateMessage,r=e.hasVisitorEmail;return!e.requiresConsentToCommunicate||r?null:_.default.createElement(A.default,{key:"email-prompt-content-section"},_.default.createElement(C.default,{message:a,companyName:t,consentToCommunicate:this.state.hasConsentedToCommunicate,onChange:this.onConsentChange}))}},{key:"renderCaptureSection",value:function(){var e=this.props,t=e.coloring,a=e.message,r=this.state,n=r.email,i=r.submitting,o=this.getValidationMessage();return _.default.createElement(A.default,{key:"email-prompt-capture-section"},_.default.createElement(p.default,{"aria-label":f.default.text("conversations-visitor-message-history.agentMessage"),contentText:(0,v.getPlainText)(a)}),_.default.createElement(I.default,{disabled:!n,error:Boolean(o),submitting:i,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,buttonColor:(0,h.getAccentColor)(t),onSubmit:this.handleSubmit}),_.default.createElement(O,null,o))}},{key:"renderContent",value:function(){return this.props.hasVisitorEmail?_.default.createElement(A.default,null,_.default.createElement(y.default,{"data-test-id":"email-capture-success",message:"conversations-visitor-message-history.email-capture.thanks"})):[this.renderCaptureSection(),this.renderConsentSection()]}},{key:"render",value:function(){var e=this.props.positionDescriptors;return _.default.createElement(x.default,{positionDescriptors:e,use:c.AGENT},_.default.createElement(M.default,null,this.renderContent()))}}]);return t}(_.PureComponent);R.displayName="EmailCapturePromptMessage";R.propTypes={coloring:(0,m.default)("ColoringRecord").isRequired,companyName:E.default.string,consentToCommunicateMessage:E.default.string,hasVisitorEmail:E.default.bool.isRequired,message:(0,m.default)("PubNubMessageRecord").isRequired,positionDescriptors:g.default.isRequired,requiresConsentToCommunicate:E.default.bool,sendVisitorEmailAddress:E.default.func.isRequired,threadId:E.default.number.isRequired};var k=R;t.default=k},fKbY:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=r;function r(e){if("number"==typeof e&&e>=0)return e;throw new Error("expected `interval` to be a positive number but got `"+e+"`")}e.exports=t.default},"fPJ+":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getAttachmentsForMessage=void 0;var n=a("6M6+"),i=a("6+o1"),o=r(a("SRO8")),s=a("x5W/"),l=(0,o.default)(function(e,t){e=(0,n.getPubSubMessage)(e);return(0,s.fileAttachmentIdsInMessage)(e).reduce(function(e,a){return t.has(""+a)?e.push(t.get(""+a)):e},(0,i.List)())});t.getAttachmentsForMessage=l},fS1x:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.publishEmailCaptureResponseMessage=t.default=void 0;var n=a("xANw"),i=a("mqNm"),o=r(a("UpCN")),s=a("K+6c"),l=a("8JFU"),u=function(e){var t=e.channel,a=e.email,r=e.threadId;return function(e){var u=(0,i.buildUnpublishedMessage)({descriptor:{},metadata:new o.default({email:a}),senderId:s.SYSTEM_ID,senderType:n.SYSTEM,threadId:r});e((0,l.publishMessageToConversation)({channel:t,message:u,threadId:r}))}};t.publishEmailCaptureResponseMessage=t.default=u},fuBj:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areNMsApart=void 0;var r=a("xw1J"),n=function(e){return function(t,a){var n=(0,r.getTimestamp)(t),i=(0,r.getTimestamp)(a);return Math.abs(n-i)>=e}};t.areNMsApart=n},fwVr:function(e,t,a){var r=a("wzyz")(Object,"create");e.exports=r},"g+7s":function(e,t,a){var r=a("QWT7");function n(e){return r(this,e).has(e)}e.exports=n},g92w:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("E7sj")),d=r(a("OCxt")),c=r(a("y4Zp")),f=r(a("ZQ2w")),p=r(a("xbdm")),g=a("ZqU6"),m=a("q9We"),v=a("BQpW"),h=r(a("QT5F")),y=a("stQz"),b=r(a("BAg0")),E=r(a("Q4J3")),_=r(a("jBYh")),T=r(a("6cSt")),C=a("6iFh"),I=a("WyV3"),S=r(a("LES4")),x=r(a("5wHW")),M=r(a("N1JJ")),A=a("qdGq"),O=(0,d.default)(S.default).withConfig({displayName:"UIExpandableText__ExpandableTextOverhang",componentId:"sc-1y91zlz-0"})(["",";"],function(e){return e.scrollable&&"\n    /* Compensate for border on scroll container */\n    right: 1px;\n    bottom: 1px;\n    left: 1px;\n  "});O.propTypes=Object.assign({},S.default.propTypes,{scrollable:c.default.bool.isRequired});O.defaultProps=S.default.defaultProps;var P=function(e){return{maxHeight:e}},R=function(e,t){return null!=t?16*t:e},k=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).delayedFitToMaxLines=function(){(0,A.cancelSchedulerCallback)(a._timeout);a._timeout=(0,A.requestSchedulerCallback)(a.fitToMaxLines)};a.fitToMaxLines=function(){if(a._el){var e=a.props,t=e.maxHeight,r=e.maxHeightRems,n=a.state,i=n.collapsible,o=n.contentHeight,s=a._el.scrollHeight;o!==s&&a.setState({contentHeight:s});var l=s>R(t,r);i!==l&&a.setState({collapsible:l})}};a.handleExpandButtonClick=function(e){var t=a.props,r=t.onExpandButtonClick,n=t.onExpandedChange;(0,y.callIfPossible)(r,e);n((0,E.default)(!0))};a.handleCollapseButtonClick=function(e){var t=a.props,r=t.onCollapseButtonClick,n=t.onExpandedChange;(0,y.callIfPossible)(r,e);var i=a._el;i.style.maxHeight=i.scrollHeight+"px";n((0,E.default)(!1))};a.handleTextWrapperFocus=function(e){var t=a.props,r=t.expandOnFocus,n=t.onExpandedChange,i=t.toggleable;if(r&&i){if(!(0,g.isPageInKeyboardMode)()&&!/TEXTAREA|INPUT/.test(e.target.tagName))return;n((0,E.default)(!0))}};a.handleTextWrapperTransitionEnd=function(e){var t=a._el;if(e.target===t&&"max-height"===e.propertyName){var r=a.state,n=r.expanded,i=r.fullyExpanded;n&&!i&&a.setState({fullyExpanded:!0})}};a.textWrapperRefCallback=function(e){a._el=e};a.state={contentHeight:null,collapsible:!1,fullyExpanded:!1};a._getStyle=(0,M.default)(P);return a}(0,i.default)(t,[{key:"componentDidMount",value:function(){this.delayedFitToMaxLines();this.startMutationObserver();addEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.addEventListener("load",this.delayedFitToMaxLines,!0);(0,C.fontsLoaded)()||C.fontsLoadedPromise.then(this.delayedFitToMaxLines)}},{key:"UNSAFE_componentWillUpdate",value:function(){this.stopMutationObserver()}},{key:"componentDidUpdate",value:function(e,t){t.contentHeight===this.state.contentHeight&&t.collapsible===this.state.collapsible&&this.delayedFitToMaxLines();t.collapsible!==this.state.collapsible&&(0,y.callIfPossible)(this.props.onCollapsibleChange,this.state.collapsible);this.startMutationObserver()}},{key:"componentWillUnmount",value:function(){this.stopMutationObserver();(0,A.cancelSchedulerCallback)(this._timeout);removeEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.removeEventListener("load",this.delayedFitToMaxLines,!0)}},{key:"startMutationObserver",value:function(){if(this._el){this._observer=new MutationObserver(this.delayedFitToMaxLines);this._observer.observe(this._el,{attributes:!0,childList:!0,subtree:!0})}}},{key:"stopMutationObserver",value:function(){if(this._observer){this._observer.disconnect();this._observer=null}}},{key:"render",value:function(){var e=this.props,t=e.buttonAlign,a=e.children,r=e.className,n=e.collapseButtonText,i=e.expandButtonText,o=e.expanded,s=e.fadeOutHeight,l=e.fadeOutHeightRems,u=e.gradientColor,d=e.hideButtonCaret,c=e.maxHeight,g=e.maxHeightRems,m=e.onCollapseButtonClick,y=e.onExpandButtonClick,b=e.Overhang,E=e.scrollable,T=e.toggleable,C=e.use,I=this.state,S=I.collapsible,M=I.contentHeight,A=I.fullyExpanded,O=(0,p.default)(r,"private-expandable-text",E&&"private-expandable-text--scrollable"),P=(0,p.default)("private-expandable-text__toggle-button",E?"align-right":"left"===t&&"align-left"),k=o?M:R(c,g),N=T&&S?f.default.createElement(h.default,{"aria-hidden":o?!m:!y,className:P,onClick:o?this.handleCollapseButtonClick:this.handleExpandButtonClick,use:"link"},E||d?null:f.default.createElement(x.default,{color:v.CALYPSO,name:o?"up":"down"}),(0,_.default)(o?n:i)):null,w="on-dark"===C?v.GYPSUM:v.OLAF;return f.default.createElement("div",{className:"private-expandable-text__container","data-collapsible":S},E&&N,f.default.createElement("div",{className:"private-expandable-text__overhang-wrapper"},f.default.createElement("div",{className:O,onFocus:this.handleTextWrapperFocus,onTransitionEnd:this.handleTextWrapperTransitionEnd,ref:this.textWrapperRefCallback,style:A?null:this._getStyle(k)},a),S&&!o?f.default.createElement(b,{gradientColor:null!=u?u:w,scrollable:E,side:"bottom",size:R(s,l)}):null),!E&&N)}}]);return t}(f.default.Component);k.propTypes={buttonAlign:c.default.oneOf(["left","center"]).isRequired,children:c.default.node.isRequired,collapseButtonText:(0,T.default)(c.default.node).isRequired,expandButtonText:(0,T.default)(c.default.node).isRequired,expanded:c.default.bool,expandOnFocus:c.default.bool.isRequired,fadeOutHeight:c.default.number.isRequired,fadeOutHeightRems:(0,I.hidden)(c.default.number),gradientColor:c.default.string,hideButtonCaret:c.default.bool.isRequired,maxHeight:c.default.number.isRequired,maxHeightRems:(0,I.hidden)(c.default.number),onCollapsibleChange:(0,I.hidden)(c.default.func),onCollapseButtonClick:c.default.func,onExpandButtonClick:c.default.func,onExpandedChange:c.default.func,Overhang:(0,m.getPropType)(O),scrollable:c.default.bool,toggleable:c.default.bool,use:c.default.oneOf(["default","on-dark"])};k.defaultProps={buttonAlign:"center",collapseButtonText:function(){return u.default.text("salesUI.UIExpandableText.collapseButtonText")},expandButtonText:function(){return u.default.text("salesUI.UIExpandableText.expandButtonText")},expanded:!1,expandOnFocus:!0,fadeOutHeight:32,hideButtonCaret:!1,maxHeight:80,Overhang:O,scrollable:!1,toggleable:!0,use:"default"};k.displayName="UIExpandableText";var N=(0,b.default)(k,["expanded"]);t.default=N;e.exports=t.default},gMO5:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.darken=t.lighten=t.convertToHsl=t.getRGB=void 0;var r=/^rgb/i,n=function(e){var t,a,n;try{if(r.test(e)){var i=e.match(/(\d+)\D+(\d+)\D+(\d+)/);t=parseInt(i[1],10);a=parseInt(i[2],10);n=parseInt(i[3],10)}else{var o=e.toLowerCase().replace(/^#/,"");3===o.length&&(o=o.replace(/([0-9a-f])/g,"$1$1"));t=parseInt(o.substring(0,2),16);a=parseInt(o.substring(2,4),16);n=parseInt(o.substring(4,6),16)}if([t,a,n].some(isNaN))return{}}catch(e){return{}}return{r:t,g:a,b:n}};t.getRGB=n;var i=function(e){var t=n(e),a=t.r,r=t.g,i=t.b;if([a,r,i].some(isNaN))return{hue:0,saturation:0,lightness:0};var o,s=a/255,l=r/255,u=i/255,d=Math.max(s,l,u),c=Math.min(s,l,u),f=(d+c)/2,p=d-c;if(0===p)return{hue:0,saturation:0,lightness:f};var g=f>.5?p/(2-d-c):p/(d+c);switch(d){case s:o=(l-u)/p+(l<u?6:0);break;case l:o=(u-s)/p+2;break;default:o=(s-l)/p+4}o*=60;return{hue:o=Math.round(o),saturation:g,lightness:f}};t.convertToHsl=i;var o=function(e){var t=e<0?0:e>1?1:e;return Math.round(100*t)+"%"},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,a=i(e),r=a.hue,n=a.saturation,s=a.lightness;return"hsl("+[r,o(n),o(s+t)].join(", ")+")"};t.lighten=s;var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return s(e,-t)};t.darken=l},gNWh:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MARKETING_EMAIL_REPLY=t.FORWARDED_EMAIL_UPDATE=t.CONNECTED_ACCOUNT=t.CONNECTED_CRM_OBJECT=t.CONTEXT_TYPE_ID=t.CUSTOM=t.ENTRY_URL=t.CHATFLOW=void 0;var r="CHATFLOW";t.CHATFLOW=r;var n="ENTRY_URL";t.ENTRY_URL=n;var i="CUSTOM";t.CUSTOM=i;var o="@type";t.CONTEXT_TYPE_ID=o;var s="CONNECTED_CRM_OBJECT";t.CONNECTED_CRM_OBJECT=s;var l="CONNECTED_ACCOUNT";t.CONNECTED_ACCOUNT=l;var u="FORWARDED_EMAIL_UPDATE";t.FORWARDED_EMAIL_UPDATE=u;var d="MARKETING_EMAIL_REPLY";t.MARKETING_EMAIL_REPLY=d},gXxc:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("nDpY")),i=a("84Y+"),o=r(a("53r1")),s=a("5EC7"),l=a("zC+/"),u=a("KOwh"),d=a("oMfq"),c=a("t2Ry"),f=a("WR0o"),p=function(e){var t;try{t=(0,s.getMessagesList)(e)}catch(e){(0,c.reportError)({error:(0,f.buildError)("ConnectedChatHistoryGetMessagesList selector threw: "+e.message,e)});throw e}return{coloring:(0,l.getColoring)(e),fileAttachments:(0,d.getSuccessfulFileAttachments)(e),messagesList:t,portalId:n.default.get(),senders:(0,u.getSendersMap)(e)}},g={},m=(0,i.connect)(p,g)(o.default);t.default=m;e.exports=t.default},"gi+h":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.makeGradientBackground=t.BLANK_BACKGROUND=t.COLOUR_MAPPINGS=void 0;var n,i=r(a("l4i0")),o=a("BQpW"),s=a("3EW+"),l=(n={},(0,i.default)(n,s.DEFAULT,{primary:o.GYPSUM,secondary:o.KOALA}),(0,i.default)(n,s.SHADE,{primary:o.KOALA,secondary:o.GYPSUM}),(0,i.default)(n,s.DARK,{primary:o.HEFFALUMP,secondary:o.SLINKY}),n);t.COLOUR_MAPPINGS=l;var u="\n  background: "+o.OLAF+";\n";t.BLANK_BACKGROUND=u;var d=function(e){var t=e.primary;return"\n  background: "+t+";\n  background: linear-gradient(to right, "+t+", "+e.secondary+" 20%, "+t+" 40%);\n  background-size: 1200px;\n"};t.makeGradientBackground=d},gwgA:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_MAX_MESSAGE_LENGTH=void 0;var r=1024;t.DEFAULT_MAX_MESSAGE_LENGTH=r},h3OI:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("Yp2k")),c=n(a("1WnS")),f=a("sjtf"),p=a("9eZa"),g=a("DeC8"),m=a("6+o1"),v=n(a("y4Zp")),h=r(a("ZQ2w")),y=n(a("OCxt")),b=n(a("A3tK")),E=n(a("U+Tu")),_=a("XNZD"),T=a("/Z4n"),C=y.default.div.withConfig({displayName:"InitialMessageAvatar__MultiAvatarWrapper",componentId:"rz0rxa-0"})(["width:100%;height:100%;display:flex;justify-content:center;flex-wrap:wrap;margin-right:4px;margin-left:-4px;& > *{flex:1;line-height:1;position:relative;& > *{position:absolute;left:0;bottom:-8px;}div{background-color:white;}}"]),I=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"getSenderAvatars",value:function(){var e=this.props,t=e.chatHeadingConfig,a=e.sender,r=e.sendFromResponders;if((0,g.isFromBot)(a))return(0,m.List)([a]);if(r.size)return(0,b.default)(T.getResponderAsSender,r);var n=(0,f.getAnyCompanyLogo)(t);return n?(0,m.List)([(0,_.getCompanyAsSender)({companyLogo:n,customChatName:(0,p.getAnyCustomChatName)(t)})]):(0,m.List)()}},{key:"renderAvatars",value:function(){var e=this.getSenderAvatars();if(!e.size)return h.default.createElement(d.default,null);if(1===e.size){var t=e.get(0);return h.default.createElement(d.default,{sender:t})}var a=2===e.size;return h.default.createElement(C,null,e.map(function(e,t){return h.default.createElement(d.default,{key:t,sender:e,size:a?"xs":"xxs"})}))}},{key:"render",value:function(){return h.default.createElement(E.default,null,this.renderAvatars())}}]);return t}(h.PureComponent);I.displayName="InitialMessageAvatar";I.propTypes={chatHeadingConfig:v.default.oneOfType([(0,c.default)("CompanyChatHeadingConfig"),(0,c.default)("OwnerChatHeadingConfig"),(0,c.default)("UsersAndTeamsChatHeadingConfig")]),sendFromResponders:v.default.instanceOf(m.List).isRequired,sender:(0,c.default)("Sender")};var S=I;t.default=S;e.exports=t.default},h8ap:function(e,t,a){var r=a("I04N");function n(e,t){var a=this.__data__,n=r(a,e);if(n<0){++this.size;a.push([e,t])}else a[n][1]=t;return this}e.exports=n},heXl:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=r(a("OCxt")),o=a("SzPi"),s=a("RNjb"),l=a("jnya"),u=a("3EW+"),d=i.default.div.withConfig({displayName:"SkeletonBase",componentId:"naonl1-0"})(["margin:",";padding:",";",";",";"],function(e){var t=e.margin;return t?(0,s.getSize)(t):void 0},function(e){var t=e.padding;return t?(0,s.getSize)(t):void 0},function(e){var t=e.use;return(0,o.getBackground)({use:t})},function(e){return e.use!==u.BLANK&&l.animation});d.defaultProps={use:u.DEFAULT};d.propTypes={margin:n.default.oneOfType([n.default.number,n.default.string]),padding:n.default.oneOfType([n.default.number,n.default.string]),use:n.default.oneOf([u.DEFAULT,u.SHADE,u.DARK,u.BLANK])};var c=d;t.default=c;e.exports=t.default},heuD:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SUCCEEDED=t.STARTED=t.TYPE=void 0;var r="@type";t.TYPE=r;var n="STARTED";t.STARTED=n;var i="SUCCEEDED";t.SUCCEEDED=i},hrbX:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a("6+o1").Record)({senderId:null,senderType:null},"SenderLocator");t.default=r;e.exports=t.default},iKkD:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadComplete=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_COMPLETE);t.attachmentUploadComplete=i},iPvT:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getCookieBannerOnExitVisible=void 0;var n=(0,r(a("BjQQ")).default)("cookieBannerOnExitVisible");t.getCookieBannerOnExitVisible=n},ifQL:function(e,t,a){var r=a("QWT7");function n(e,t){var a=r(this,e),n=a.size;a.set(e,t);this.size+=a.size==n?0:1;return this}e.exports=n},igt9:function(e,t,a){var r=a("wxZq"),n=a("5EvN"),i=a("2aGJ"),o=a("7RMX"),s=a("/Zaq");function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},"ilp/":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("E6l7")),f=n(a("aVsq")),p=n(a("y4Zp")),g=r(a("ZQ2w")),m=a("zYvt"),v=a("+Tc3"),h=n(a("1WnS")),y=a("ZyKU"),b=a("6+o1"),E=a("prD3"),_=a("LRZ7"),T=a("Kdpc"),C=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).publishTypingMessage=(0,f.default)(a.props.publishTypingMessage,m.SEND_TYPING_MESSAGE_DEBOUNCE_MS,{leading:!0,trailing:!1,maxWait:m.SEND_TYPING_MESSAGE_DEBOUNCE_MS});a.onChatInputChanged=a.onChatInputChanged.bind((0,u.default)(a));a.onPublishMessage=a.onPublishMessage.bind((0,u.default)(a));a.onSelectAttachmentFiles=a.onSelectAttachmentFiles.bind((0,u.default)(a));a.onRemoveAttachment=a.onRemoveAttachment.bind((0,u.default)(a));a.inputStagingEvent=(0,f.default)(a.props.inputStagingEvent,T.INPUT_STAGING_EVENT_DEBOUNCE_MS);return a}(0,o.default)(t,[{key:"onChatInputChanged",value:function(e){var t=this.props,a=t.currentConversation,r=t.disablePublish,n=t.shouldSendInputStagingEvent,i=t.showInitialMessageBubble;(0,t.setMessageEditorStagingText)(e);r||this.publishTypingMessage({thread:a});n&&this.inputStagingEvent(e,!1);i&&this.props.closeInitialMessageBubble()}},{key:"onPublishMessage",value:function(e){var t=e.text,a=e.richText,r=e.quickReply,n=this.props,i=n.messagesPageUri,o=n.publishMessage,s=n.stagedAttachments,l=n.removeMessageEditorStagingText;this.publishTypingMessage.cancel();o({text:t,richText:a,quickReply:r,url:i,fileAttachment:(0,E.buildFileAttachment)(s)});l()}},{key:"onSelectAttachmentFiles",value:function(e){var t=e.files;if(t&&t.length){var a=this.props,r=a.onSelectAttachmentFile,n=a.currentConversation;r({file:t.item(0),thread:n})}}},{key:"onRemoveAttachment",value:function(e){var t=e.attachment,a=this.props,r=a.currentConversation,n=a.onRemoveAttachment;n({attachment:t,thread:r})}},{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.currentConversation,r=e.disablePublish,n=e.disableTextInput,i=e.isOnFocus,o=e.mobile,s=e.networkOffline,l=e.shouldDisableAttachment,u=e.shouldSendInputStagingEvent,d=e.showingHsBranding,f=e.stagedAttachments,p=e.toggleOnAndOffInputFocus,m=e.stagedMessage,h=e.showQuickReplyPlaceholder;return g.default.createElement(c.default,{coloring:t,chatInputChanged:this.onChatInputChanged,disabled:n,disablePublish:r,isOnFocus:i,maxAttachmentFileSize:y.MAX_FILE_SIZE,mobile:o,networkOffline:s,onSelectAttachmentFiles:this.onSelectAttachmentFiles,onRemoveAttachment:this.onRemoveAttachment,publishMessage:this.onPublishMessage,shouldDisableAttachment:l,showingHsBranding:d,stagedAttachments:f,stagedMessageEditorText:m,supportsAttachments:(0,v.isPersistedThread)(a),toggleOnAndOffInputFocus:p,fileTypes:_.ALLOWED_FILE_TYPES,showQuickReplyPlaceholder:h,shouldSendInputStagingEvent:u,inputStaging:this.inputStagingEvent})}}]);return t}(g.PureComponent);C.displayName="MessageEditorWrapper";C.propTypes={closeInitialMessageBubble:p.default.func.isRequired,coloring:(0,h.default)("ColoringRecord").isRequired,currentConversation:(0,h.default)("Thread"),disablePublish:p.default.bool.isRequired,disableTextInput:p.default.bool.isRequired,inputStagingEvent:p.default.func,isOnFocus:p.default.bool.isRequired,messagesPageUri:p.default.string,mobile:p.default.bool,networkOffline:p.default.bool.isRequired,onRemoveAttachment:p.default.func.isRequired,onSelectAttachmentFile:p.default.func.isRequired,publishMessage:p.default.func.isRequired,publishTypingMessage:p.default.func.isRequired,removeMessageEditorStagingText:p.default.func.isRequired,setMessageEditorStagingText:p.default.func.isRequired,shouldDisableAttachment:p.default.bool,shouldSendInputStagingEvent:p.default.bool.isRequired,showInitialMessageBubble:p.default.bool.isRequired,showQuickReplyPlaceholder:p.default.bool.isRequired,showingHsBranding:p.default.bool.isRequired,stagedAttachments:p.default.instanceOf(b.List),stagedMessage:p.default.string,toggleOnAndOffInputFocus:p.default.func};var I=C;t.default=I;e.exports=t.default},ivel:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.applyGdprConsent=void 0;var n=r(a("gNdb")),i=a("DHw3"),o=a("3ApS"),s=function(){return function(e,t){(0,o.shouldRecordImplicitConsentToProcess)(t())&&e((0,i.consentToProcess)());return n.default.Promise.resolve()}};t.applyGdprConsent=s},jGYR:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getColorStyles=t.getBackgroundStyles=t.getActiveBackgroundStyles=t.getHoverBackgroundStyles=void 0;var r=a("lNvx"),n=a("HLKB"),i=a("obhh"),o=a("OCxt"),s=a("t0JC"),l=function(e){var t=e.theme;switch(e.use){case n.PRIMARY:var a=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(a,20));case n.SECONDARY:default:var s=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(s,95))}};t.getHoverBackgroundStyles=l;var u=function(e){var t=e.theme;switch(e.use){case n.PRIMARY:var a=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(a,-10));case n.SECONDARY:default:var s=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(s,90))}};t.getActiveBackgroundStyles=u;var d=function(e){var t,a=e.theme,i=e.use,d=e.active,c=e.hover,f=e.disabled,p=e.isSubmitting;if(f&&!p)return(0,o.css)(["background-color:",";border:none;"],(0,s.getDisabledBackgroundColor)(a));d&&(t=u({theme:a,use:i}));c&&(t=l({theme:a,use:i}));switch(i){case n.PRIMARY:return(0,o.css)(["background-color:",";border:none;",""],(0,r.getButtonBackgroundColor)(a),t);case n.SECONDARY:default:return(0,o.css)(["background-color:transparent;border-color:",";",""],(0,r.getButtonBackgroundColor)(a),t)}};t.getBackgroundStyles=d;var c=function(e){var t=e.theme,a=e.use,i=e.disabled,l=e.isSubmitting;if(i&&!l)return(0,o.css)(["color:",";"],(0,s.getDisabledTextColor)(t));switch(a){case n.PRIMARY:return(0,o.css)(["color:",";"],(0,r.getButtonTextColor)(t));case n.SECONDARY:default:return(0,o.css)(["color:",";"],(0,r.getButtonBackgroundColor)(t))}};t.getColorStyles=c},jLXz:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTypingResponderFromCurrentThread=void 0;var r=a("ib5I"),n=a("cep6"),i=a("PRHD"),o=(0,r.createSelector)([function(e){return e},n.getSelectedThread],function(e,t){return(0,i.typingResponder)(e,{thread:t})});t.getTypingResponderFromCurrentThread=o},jSgY:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.checkedDefaultProps=t.checkedPropTypes=t.useChecked=void 0;var n=r(a("7iZm")),i=r(a("y4Zp")),o=a("ZQ2w"),s=function(e){var t=e.checked,a=e.defaultChecked,r=e.onChange,i=(0,o.useState)(a),s=(0,n.default)(i,2),l=s[0],u=s[1],d=(0,o.useCallback)(function(e){u(e.target.checked);r&&r(e)},[r]);return{checked:void 0!==t?t:l,onChange:d}};t.useChecked=s;var l={checked:i.default.bool,defaultChecked:i.default.bool,onChange:i.default.func};t.checkedPropTypes=l;var u={defaultChecked:!1};t.checkedDefaultProps=u},jg4C:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeGmailLineBreak=void 0;var r=function(e){Array.from(e.querySelectorAll("br + [data-email-reply]")).forEach(function(e){var t=e.previousElementSibling;t&&t.nodeName&&"br"===t.nodeName.toLowerCase()&&t.classList&&t.classList.add("display-none")})};t.removeGmailLineBreak=r},jnya:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.animation=void 0;var r=a("OCxt"),n="1s",i="linear",o="0s",s="infinite",l="forwards",u=700,d=(0,r.keyframes)(["0%{background-position:-","px 0}100%{background-position:","px 0}"],u,u),c=(0,r.css)(["animation:"," "," "," "," "," ",";"],d,n,i,o,s,l);t.animation=c},kgGd:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageContentWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("y4Zp")),f=r(a("ZQ2w")),p=n(a("OCxt")),g=n(a("fDD7")),m=a("ZBtC"),v=a("X6pe"),h=p.default.div.withConfig({displayName:"PrimaryMessageContent__PrimaryMessageContentWrapper",componentId:"sc-11k83ed-0"})(["position:relative;min-height:32px;word-break:break-word;box-sizing:border-box;border-style:solid;border-width:",";border-color:",";background-color:",";color:",";display:inline-flex;align-items:center;flex-direction:column;border-radius:",";","{border-top-style:solid;border-top-width:1px;border-top-color:",";&:first-child{border-top:none;}}max-width:284px;"],function(e){return e.borderWidth},function(e){return e.borderColor},function(e){return e.backgroundColor},function(e){return e.textColor},function(e){return e.borderRadius},v.PrimaryMessageContentSectionWrapper,function(e){return e.borderColor});t.PrimaryMessageContentWrapper=h;var y=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={expanded:!!e.isLastMessage};a.onCollapseButtonClick=a.onCollapseButtonClick.bind((0,u.default)(a));a.expandMessage=a.expandMessage.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return f.default.createElement(h,{className:a,backgroundColor:(0,m.getBackgroundColor)(this.context),borderColor:(0,m.getBorderColor)(this.context),borderRadius:(0,m.getBorderRadius)(this.context),borderWidth:(0,m.getBorderWidth)(this.context),textColor:(0,m.getTextColor)(this.context)},t)}}]);return t}(f.PureComponent);t.default=y;y.contextType=g.default;y.displayName="PrimaryMessageContent";y.propTypes={children:c.default.node,className:c.default.string,isLastMessage:c.default.bool}},kiMl:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("E7sj")),i=r(a("ZQ2w")),o=r(a("y4Zp")),s=r(a("OCxt")),l=r(a("wYm8")),u=r(a("AB8y")),d=r(a("lQ+E")),c=r(a("W6Hn")),f=r(a("5wHW")),p=r(a("LFvj")),g=a("BQpW"),m=20,v=(0,s.default)(c.default).withConfig({displayName:"EmailCaptureInput__StyledTextInput",componentId:"sc-21umo-0"})(["::placeholder{font-size:",";}"],function(e){return e.placeholder.length>m?"14px":void 0}),h=(0,s.default)(l.default).withConfig({displayName:"EmailCaptureInput__StyledUIMedia",componentId:"sc-21umo-1"})(["background-color:",";border-radius:3px;border:1px solid ",";"],g.OLAF,g.BATTLESHIP),y=(0,s.default)(p.default).withConfig({displayName:"EmailCaptureInput__StyledUILoadingButton",componentId:"sc-21umo-2"})(["padding:0 !important;margin:4px;display:flex !important;align-items:center;justify-content:center;width:32px !important;height:32px !important;"]),b={buttonColor:o.default.string.isRequired,disabled:o.default.bool,email:o.default.string,error:o.default.bool,locale:o.default.string,onChange:o.default.func.isRequired,onKeyPress:o.default.func.isRequired,onSubmit:o.default.func,submitting:o.default.bool.isRequired},E=function(e){var t=e.buttonColor,a=e.disabled,r=e.email,o=e.error,s=e.onChange,l=e.onKeyPress,c=e.onSubmit,p=e.submitting,m=e.locale,b={backgroundColor:p?void 0:t,borderColor:p?void 0:t};return i.default.createElement(h,{"data-test-id":"email-capture-input-container"},i.default.createElement(u.default,{className:"display-flex align-center"},i.default.createElement(v,{"aria-label":n.default.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:m}),styled:!1,value:r,placeholder:n.default.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:m}),onChange:s,onKeyPress:l})),i.default.createElement(d.default,null,i.default.createElement(y,{"aria-label":n.default.text("conversations-visitor-message-history.email-capture.sendEmail",{locale:m}),"data-test-id":"email-capture-submit-button",disabled:a,failed:o,style:b,onClick:c,loading:p,use:p?"tertiary-light":"primary-white",color:g.OLAF,spinnerProps:{style:{width:"100%",height:"100%"}},resultIcon:"success"},i.default.createElement(f.default,{color:g.OLAF,name:"send"}))))};E.displayName="EmailCaptureInput";E.propTypes=b;var _=E;t.default=_;e.exports=t.default},lBOe:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploads=void 0;var n=(0,r(a("BjQQ")).default)("fileUploads");t.getFileUploads=n},lEuo:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToCookies=o;var r=a("4scq"),n=a("Jtvd"),i=a("nncj");function o(){return function(e,t){e((0,n.handleStoreMessagesCookie)((0,r.getMessagesUtk)(t())));e((0,i.trackInteraction)("widget-interaction",{action:"clicked consent to cookies button"}))}}},"lK+m":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("D1/i")),i=r(a("b5Ei")),o=(0,n.default)(i.default);t.default=o;e.exports=t.default},lNvx:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getDisabledButtonBackgroundColor=t.getDisabledButtonTextColor=t.getButtonTextColor=t.getButtonBackgroundColor=void 0;var r=a("t0JC"),n=r.getPrimaryColor;t.getButtonBackgroundColor=n;var i=r.getTextOnPrimaryColor;t.getButtonTextColor=i;var o=r.getDisabledTextColor;t.getDisabledButtonTextColor=o;var s=r.getDisabledBackgroundColor;t.getDisabledButtonBackgroundColor=s},"lQ+E":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("xbdm"));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("private-media__item private-media__item--right",t)}))}l.displayName="UIMediaRight";l.propTypes={children:i.default.node};e.exports=t.default},lgOm:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=r(a("BjQQ")),i=(0,n.default)("minHeight");t.getMinHeight=i;var o=(0,n.default)("width");t.getWidth=o;var s=(0,n.default)("whiteSpace");t.getWhiteSpace=s;var l=(0,n.default)("lineHeight");t.getLineHeight=l;var u=(0,n.default)("borderColor");t.getBorderColor=u;var d=(0,n.default)("color");t.getColor=d},lwpr:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("84Y+"),i=a("DHw3"),o=a("InPC"),s=a("n+aG"),l=a("Zqdz"),u=r(a("t2YF")),d=a("nncj"),c=a("zC+/"),f=a("x5c3"),p=function(e){return{consentToProcessMessage:(0,s.getConsentToProcessMessage)(e),showGdprConsentToProcessButton:(0,l.getShowGdprConsentToProcess)(e),coloring:(0,c.getColoring)(e),consentToProcessError:(0,f.getConsentToProcessError)(e)}},g={consentToProcess:i.consentToProcess,dismissConsentToProcessError:o.dismissConsentToProcessError,trackInteraction:d.trackInteraction},m=(0,n.connect)(p,g)(u.default);t.default=m;e.exports=t.default},m4Po:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=a("6+o1"),p=n(a("E7sj")),g=n(a("929M")),m=n(a("1ek5")),v=a("KCF3"),h=n(a("y+AS")),y=n(a("byqf")),b=n(a("4JpU")),E=a("qwyC"),_=a("Vfk2"),T=a("Mx+g"),C=n(a("1WnS")),I=a("xw1J"),S=a("lmh3"),x=a("xANw"),M=a("vn5n"),A=a("ul6U"),O=a("3rpF"),P=n(a("Acer")),R=n(a("kgGd")),k=n(a("X6pe")),N=n(a("Hbdb")),w=n(a("RhWw")),L=n(a("RjfD")),D=n(a("DuB0")),F=a("ap9A"),U=n(a("dAvu")),j=n(a("h3OI")),B=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleQuickReplySend=function(){var e=a.props,t=e.message,r=e.publishMessage,n=a.state.selectedQuickReply;r({text:(0,A.getOptionLabel)(n),quickReply:(0,O.getQuickReply)(t).set("quickReplies",[n])})};a.handleQuickReplySelect=function(e){var t=e.target.value,r=a.props.message,n=(0,O.getQuickReplyReplies)(r).filter(function(e){return(0,A.getOptionValue)(e)===t}).first();a.setState({selectedQuickReply:n})};a.showQuickReplySelection=function(){var e=a.props.message,t=(0,O.getQuickReplyReplies)(e),r=(0,O.getQuickReplyAllowMultiSelect)(e);return a.showQuickReplies()&&t.count()>F.MAX_QUICK_REPLY_BUTTONS&&!r};a.renderQuickReplySelect=function(){var e=a.props,t=e.message,r=e.isThreadStarted,n=e.requiresExplicitConsentToProcess,i=a.state.selectedQuickReply,o=(0,O.getQuickReplyReplies)(t);return c.default.createElement("div",{className:"m-y-2"},c.default.createElement(U.default,{quickReplyOptions:o,disabled:n||!r,onChange:a.handleQuickReplySelect,value:(0,A.getOptionValue)(i),placeholder:p.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};a.renderQuickReplySendButton=function(){var e=a.props.isThreadStarted,t=a.state.selectedQuickReply;return c.default.createElement(w.default,null,c.default.createElement(D.default,{disabled:!e||!(0,A.getOptionValue)(t),onClick:a.handleQuickReplySend},c.default.createElement(g.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};a.state={selectedQuickReply:(0,f.Map)()};return a}(0,o.default)(t,[{key:"hasQuickReplyOptions",value:function(){var e=this.props.message,t=(0,I.getSenderType)(e);return(0,O.getQuickReply)(e)&&t===x.BOT}},{key:"showQuickReplies",value:function(){var e=this.props,t=e.hasUnansweredQuickReplyMessage,a=e.positionDescriptors,r=t&&a.get(T.LAST);return this.hasQuickReplyOptions()&&r}},{key:"renderAvatar",value:function(){var e=this.props,t=e.chatHeadingConfig,a=e.message,r=e.senders,n=e.sendFromResponders,i=(0,I.getSenderId)(a),o=(0,I.getSenderType)(a),s=(0,E.findSender)(i,o,r),l=(0,_.getData)(s);return c.default.createElement(j.default,{chatHeadingConfig:t,sender:l,sendFromResponders:n})}},{key:"renderQuickReplyGroup",value:function(){var e=this.props,t=e.isThreadStarted,a=e.message,r=e.publishMessage,n=e.requiresExplicitConsentToProcess,i=(0,O.getQuickReplyReplies)(a),o=(0,O.getQuickReplyAllowMultiSelect)(a);return c.default.createElement(w.default,null,c.default.createElement(L.default,{disabled:n||!t,options:i,message:a,multiSelect:o,publishMessage:r,onSend:this.handleQuickReplySend}))}},{key:"renderContentSection",value:function(){var e,t,a=this.props.message;if(Boolean((0,M.getType)(a))){e=(0,I.getPlainText)(a);t=(0,I.getRichText)(a)}else{e=(0,S.getText)(a);t=(0,S.getRichText)(a)}var r=h.default.link(t,{stripPrefix:!1});return c.default.createElement(k.default,null,c.default.createElement(y.default,{"aria-label":p.default.text("conversations-visitor-message-history.agentMessage"),contentText:r||e}),this.showQuickReplySelection()&&this.renderQuickReplySelect())}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=(0,O.getQuickReplyReplies)(e),a=(0,O.getQuickReplyAllowMultiSelect)(e);return this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=F.MAX_QUICK_REPLY_BUTTONS||a)?this.renderQuickReplyGroup():null}},{key:"render",value:function(){var e=this.props.positionDescriptors,t=e.get(T.FIRST);return c.default.createElement(P.default,{positionDescriptors:e,use:v.AGENT},t&&c.default.createElement(N.default,null,this.renderAvatar()),c.default.createElement(R.default,null,this.renderContentSection()),this.renderMessageFooter())}}]);return t}(c.PureComponent);B.displayName="InitialMessage";B.propTypes={chatHeadingConfig:d.default.oneOfType([(0,C.default)("CompanyChatHeadingConfig"),(0,C.default)("OwnerChatHeadingConfig"),(0,C.default)("UsersAndTeamsChatHeadingConfig")]),hasUnansweredQuickReplyMessage:d.default.bool,isThreadStarted:d.default.bool.isRequired,message:d.default.oneOfType([(0,C.default)("PubNubMessageRecord"),(0,C.default)("InitialMessage")]).isRequired,positionDescriptors:b.default.isRequired,publishMessage:d.default.func,requiresExplicitConsentToProcess:d.default.bool.isRequired,sendFromResponders:d.default.instanceOf(f.List).isRequired,senders:m.default.isRequired};var Z=B;t.default=Z;e.exports=t.default},"mO/+":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeReply=t.REPLY_CLASSLIST=void 0;var r=a("XpIp"),n=["gmail_extra","gmail_quote","hs_reply","x_hs_reply_wrap"];t.REPLY_CLASSLIST=n;var i="divRplyFwdMsg",o=function(e,t){return t===i||e&&e.contains&&n.some(function(t){return e.contains(t)})},s=function(e){var t=e.node,a=t.classList,n=t.id,i=t.attributes,s=void 0===i?[]:i;if(o(a,n)){var l=r.secureDocument.createElement("span");Object.keys(s).forEach(function(e){var t=s[e];l.setAttribute(t.nodeName,t.nodeValue)});l.innerHTML="";l.setAttribute("data-email-reply","");return{node:l}}return null};t.removeReply=s},mTad:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrlByThreadId=void 0;var r=a("ib5I"),n=a("kJ+w"),i=a("dIiL"),o=(0,r.createSelector)([n.getThreadByThreadId],i.getCurrentUrl);t.getCurrentUrlByThreadId=o},mkQZ:function(e,t){e.exports="//static.hsappstatic.net/salesImages/static-1.409/messages/bot-avatar.svg"},mluK:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToCommunicate=s;var n=r(a("nDpY")),i=r(a("kMAx")),o="livechat-public/v1/privacy/consentToCommunicate";function s(e){var t=e.sessionId,a=e.hubspotUtk,r=e.threadId;return i.default.put(o,{query:{sessionId:t,hubspotUtk:a,threadId:r,portalId:n.default.get()}})}},msZA:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getTimestamp=t.getId=void 0;var n=a("6FJ5"),i=r(a("xq+X")),o=(0,i.default)(n.ID);t.getId=o;var s=(0,i.default)(n.TIMESTAMP);t.getTimestamp=s},"n+aG":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToProcessMessage=void 0;var r=a("ib5I"),n=a("qeXV"),i=a("6ltl"),o=(0,r.createSelector)([n.getLatestWidgetData],function(e){return(0,i.getConsentToProcessMessage)(e)});t.getConsentToProcessMessage=o},nIKk:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageEditorText=void 0;var r=a("bz7q"),n=a("2Pef"),i=a("ib5I"),o=a("EI0t"),s=(0,i.createSelector)(r.getSelectedThreadId,n.getMessageEditorStaging,function(e,t){return(0,o.getStagingTextByThreadId)(e,t)});t.getMessageEditorText=s},nOdq:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("LRZ7"),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("rFv6")),l=r(a("WFyk")),u=function(e){return o.default.createElement(l.default,{accept:n.ALLOWED_FILE_TYPES,use:"unstyled",onClick:e.onClick,onChange:e.onChange},function(t){return o.default.createElement(s.default,Object.assign({use:"on-bright"},t),e.children)})};u.displayName="FilePickerLink";u.propTypes={children:i.default.node.isRequired,onChange:i.default.func.isRequired,onClick:i.default.func};var d=u;t.default=d;e.exports=t.default},"nf+H":function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.USE_CLASSES=t.UNDERLINE_CLASSES=void 0;var r={false:"uiLinkWithoutUnderline",true:"uiLinkWithUnderline private-link--underlined"};t.UNDERLINE_CLASSES=r;var n={blue:"",dark:"uiLinkDark",danger:"private-link--danger",light:"uiLinkLight","on-dark":"uiLinkLight private-link--on-dark","on-bright":"private-link--on-bright",mention:"private-link--mention",unstyled:"private-link--unstyled"};t.USE_CLASSES=n},nlAL:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("84Y+"),i=a("cep6"),o=r(a("Oogt")),s=function(e){return{thread:(0,i.getSelectedThread)(e)}},l=(0,n.connect)(s)(o.default);t.default=l;e.exports=t.default},nqur:function(e,t,a){var r=a("XuUM"),n=a("QzTW"),i=a("BOd2"),o=a("g+7s"),s=a("ifQL");function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},o4Fk:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FileAttachmentsWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=a("6+o1"),c=n(a("y4Zp")),f=r(a("ZQ2w")),p=a("nU4D"),g=n(a("OCxt")),m=a("WSPb"),v=a("Lrql"),h=a("0OX+"),y=n(a("vWmq")),b=a("x39S"),E=300,_=g.default.div.withConfig({displayName:"InlineImageAttachments__FileAttachmentsWrapper",componentId:"k2hctp-0"})(["cursor:pointer;box-sizing:border-box;width:100%;max-width:","px;display:block;margin-bottom:16px;margin-top:8px;"],E);t.FileAttachmentsWrapper=_;var T=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={maxWidth:E};a.wrapperRef=(0,f.createRef)();return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,p.findDOMNode)(this.wrapperRef.current);e&&e.offsetWidth&&e.offsetWidth!==this.state.maxWidth&&this.setState({maxWidth:e.offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return f.default.createElement(_,{ref:this.wrapperRef},(0,b.getImageAttachments)(t).map(function(t,a){var r=(0,m.getFileMetadata)(t),n=(0,h.displayName)(r),i=(0,v.getUrl)(r),o=(0,v.getWidth)(r),s=(0,v.getHeight)(r);return f.default.createElement(y.default,{key:"image-"+a,name:n,url:i,width:o,height:s,maxWidth:e.state.maxWidth})}))}}]);return t}(f.PureComponent);T.displayName="InlineImageAttachments";T.propTypes={fileAttachments:c.default.instanceOf(d.List)};var C=T;t.default=C},oDJb:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadsErrors=void 0;var n=(0,r(a("BjQQ")).default)("fileUploadsErrors");t.getFileUploadsErrors=n},oEjG:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachment=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.REMOVE_ATTACHMENT);t.removeAttachment=i},oGKh:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZQ2w")),i=function(e){return n.default.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e),n.default.createElement("defs",null,n.default.createElement("path",{d:"M21.158.222L2.568 11.815c-.8.498-.749 1.215.113 1.591l4.406 1.923 10.395-9.903c1.377-1.296 1.569-1.119.426.395L8.254 18.215v4.927c0 .953.5 1.141 1.113.418l4.473-5.282 5.055 2.207c.861.376 1.643-.092 1.736-1.04l1.81-18.404c.094-.949-.484-1.317-1.283-.819",id:"send__a"})),n.default.createElement("use",{xlinkHref:"#send__a",fillRule:"evenodd"}))};i.displayName="SVGSend";var o=i;t.default=o;e.exports=t.default},oLNr:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachmentClient=void 0;var n=r(a("Q4RW")),i=function(e){var t=e.formData,a=e.uploadUrl,r=e.onProgress,i=void 0===r?function(){}:r;return n.default.post(a,{headers:{"content-type":!1},data:t,timeout:0,withXhr:function(e){e.upload.addEventListener("progress",i,!1)}})};t.uploadAttachmentClient=i},oMfq:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getSuccessfulFileAttachments=void 0;var n=a("Cy/A"),i=a("puR0"),o=a("r+Hr"),s=a("6+o1"),l=a("ib5I"),u=r(a("oEKk")),d=a("Gcf9"),c=(0,l.createSelector)([d.getResolvedAttachments],function(e){return e&&(0,o.getEntries)(e).size?(0,o.getEntries)(e).reduce(function(e,t,a){return t&&a&&(0,i.isSucceeded)(t)?(0,u.default)(String(a),(0,n.getData)(t),e):e},(0,s.Map)()):(0,s.Map)()});t.getSuccessfulFileAttachments=c},oh0e:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("D1/i")),i=r(a("rleu")),o=(0,n.default)(i.default);t.default=o;e.exports=t.default},ooj3:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZQ2w")),i=r(a("OCxt")),o=r(a("znAL")),s=i.default.div.withConfig({displayName:"ThreadHistoryError__ThreadHistoryErrorWrapper",componentId:"sc-73lsqe-0"})(["text-align:center;flex-grow:1;"]),l=function(){return n.default.createElement(s,null,n.default.createElement(o.default,null))};l.displayName="ThreadHistoryError";var u=l;t.default=u;e.exports=t.default},pL8I:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("7iZm")),o=n(a("y4Zp")),s=r(a("ZQ2w")),l=n(a("OCxt")),u=n(a("wEU5")),d=n(a("819h")),c=n(a("929M")),f=a("BQpW"),p=a("7un1"),g=a("O4fT"),m=a("x0X6"),v=a("c8se"),h=l.default.div.withConfig({displayName:"ConsentModal__ConsentModalContainer",componentId:"hed4cr-0"})(["position:absolute;display:flex;align-items:flex-start;justify-content:center;height:calc(100% - ","px);top:","px;width:100%;background-color:rgba(45,62,80,0.79);backdrop-filter:blur(2px);padding-top:20%;border-bottom-left-radius:","px;border-bottom-right-radius:","px;overflow-y:hidden;"],v.HEADER_HEIGHT,v.HEADER_HEIGHT,m.VISITOR_WIDGET_BORDER_RADIUS,m.VISITOR_WIDGET_BORDER_RADIUS),y=l.default.div.withConfig({displayName:"ConsentModal__ContentContainer",componentId:"hed4cr-1"})(["display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 24px;background-color:white;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,0.75);margin:0 20px;"]),b=(0,l.default)(d.default).withConfig({displayName:"ConsentModal__SmallNoParagraphPadding",componentId:"hed4cr-2"})(["display:block;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;color:",";p{margin-bottom:0;}"],f.FLINT),E=(0,l.default)(u.default).withConfig({displayName:"ConsentModal__FullWidthButton",componentId:"hed4cr-3"})(["padding:9px 16px;flex:0 1 100%;&:not(:first-child){margin-left:8px;}"]),_=l.default.div.withConfig({displayName:"ConsentModal__ButtonsContainer",componentId:"hed4cr-4"})(["display:flex;flex-direction:row;margin:12px 0 0 0;width:100%;"]),T=l.default.p.withConfig({displayName:"ConsentModal__Header",componentId:"hed4cr-5"})(["text-transform:none;font-size:18px;font-weight:500;margin-top:18px;margin-bottom:12px;line-height:normal;"]),C=function(e){var t=e.headerMessage,a=e.message,r=e.onClick,n=e.onDeclineClick,o=(0,s.useState)({isEntering:!0,shouldRender:!0,callback:function(){}}),l=(0,i.default)(o,2),u=l[0],d=l[1],f=function(){if(!u.isEntering){u.callback();d(Object.assign({},u,{shouldRender:!1}))}},m=function(e){d(Object.assign({},u,{isEntering:!1,callback:e}))};return u.shouldRender?s.default.createElement(h,{style:{animation:(u.isEntering?"consent-modal-background-fadeIn":"consent-modal-background-fadeOut")+" .3s"},"data-test-id":"gdpr-consent-prompt-container",onAnimationEnd:f,key:Math.random+"-consent-modal-container"},s.default.createElement(g.ChatWidgetLocaleContextConsumer,null,function(e){return s.default.createElement(y,{key:"consent-modal-content-container","data-test-id":"gdpr-consent-prompt",style:{animation:(u.isEntering?"consent-modal-content-fadeIn":"consent-modal-content-fadeOut")+" .3s"}},t&&s.default.createElement(T,null,s.default.createElement(c.default,{message:t,options:{locale:e}})),s.default.createElement(b,{"data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:(0,p.formatHtml)(a)}}),s.default.createElement(_,null,s.default.createElement(E,{onClick:function(){m(r)},"data-test-id":"gdpr-consent-agree-button",use:"primary"},s.default.createElement(c.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})),s.default.createElement(E,{onClick:function(){m(n)},"data-test-id":"gdpr-consent-dismiss-button"},s.default.createElement(c.default,{message:"conversations-visitor-experience-components.buttons.disagree",options:{locale:e}}))))})):null};C.defaultProps={animationTimeMs:300,onClick:function(){},onDeclineClick:function(){}};C.propTypes={headerMessage:o.default.string,message:o.default.string.isRequired,onClick:o.default.func.isRequired,onDeclineClick:o.default.func.isRequired};C.displayName="ConsentModal";var I=C;t.default=I;e.exports=t.default},pnsR:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryEntry=void 0;var r=a("r+Hr"),n=a("ib5I"),i=a("AAJh"),o=a("V/zO"),s=(0,n.createSelector)([i.getThreadHistories,o.getCurrentThreadId],function(e,t){return"number"!=typeof t?null:(0,r.getEntry)(t,e)||null});t.getCurrentThreadHistoryEntry=s},ppV1:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("y4Zp")),d=r(a("ZQ2w")),c=r(a("NCm5")),f=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={imageDataUrl:""};return a}(0,i.default)(t,[{key:"componentDidMount",value:function(){this.processImageFile(this.props.imageFile)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.imageFile!==this.props.imageFile&&this.processImageFile(e.imageFile)}},{key:"shouldComponentUpdate",value:function(e,t){return t.imageDataUrl!==this.state.imageDataUrl}},{key:"processImageFile",value:function(e){var t=this,a=new FileReader;a.addEventListener("load",function(){t.setState({imageDataUrl:a.result})});a.readAsDataURL(e)}},{key:"render",value:function(){return d.default.createElement(c.default,{src:this.state.imageDataUrl})}}]);return t}(d.default.Component);f.displayName="ImageAttachmentPreview";f.propTypes={imageFile:u.default.instanceOf(File).isRequired};var p=f;t.default=p;e.exports=t.default},prD3:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.buildFileAttachment=void 0;var n=a("bBwc"),i=a("2n6i"),o=r(a("xqNQ")),s=function(e){if(!e)return null;var t=e.filter(i.isUploadCompleted).map(n.getFileId);return t.size?(0,o.default)({fileIds:t}):null};t.buildFileAttachment=s},pyrh:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT=t.UNSTYLED=void 0;var r="unstyled";t.UNSTYLED=r;var n="default";t.DEFAULT=n},qENm:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getUnpublishedMessagesForCurrentThread=void 0;var r=a("Cy/A"),n=a("r+Hr"),i=a("ib5I"),o=a("V/zO"),s=a("aCdO"),l=a("gupl"),u=(0,i.createSelector)([l.getUnpublishedMessages,o.getCurrentThreadId],function(e,t){var a=(0,n.getEntries)(e).map(r.getData);return(0,s.getSortedMessagesByThreadId)(a,t)});t.getUnpublishedMessagesForCurrentThread=u},qw1D:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyName=void 0;var n=a("ib5I"),i=r(a("BjQQ")),o=a("qeXV"),s=(0,n.createSelector)(o.getLatestWidgetData,(0,i.default)("companyName"));t.getCompanyName=s},qwyC:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.findSender=void 0;var n=r(a("SRO8")),i=a("S3IA"),o=(0,n.default)(function(e,t,a){return t?a.get((0,i.buildSenderLocator)(t,e)):null});t.findSender=o},rXC1:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.publishTypingMessage=void 0;var n=r(a("l4i0")),i=a("mqNm"),o=a("xANw"),s=a("i2Nt"),l=r(a("up3s")),u=a("rkDb"),d=a("8JFU"),c=a("4scq"),f=r(a("JvLM")),p=a("KK3O"),g=a("w6HA"),m=a("xS4Z"),v=function(e){var t=e.thread;return function(e,a){var r,v=(0,u.getChannelName)(t),h=(0,u.getThreadId)(t),y=s.VISITOR_SENDER,b=(0,g.getSenderKeyFromType)(y),E=(0,c.getMessagesUtk)(a());r=(0,m.isUngatedForNonPersistedMessages)(a())?new f.default({id:(0,p.generateUuid)(),typingState:null,sender:(0,n.default)({"@type":y},b,E)}):(0,i.buildUnpublishedMessage)({descriptor:{},metadata:(0,l.default)(),senderId:(0,c.getMessagesUtk)(a()),senderType:o.VISITOR,threadId:h});e((0,d.publishMessageToConversation)({channel:v,message:r,threadId:h}))}};t.publishTypingMessage=v},rlJy:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=a("KCF3"),o=n(a("+Wel")),s=n(a("1WnS")),l=n(a("y4Zp")),u=r(a("ZQ2w")),d=n(a("lEHQ")),c=n(a("uNz2")),f=a("O1/d"),p=n(a("fDD7")),g=function(e){(0,d.default)(void 0===e||"object"==typeof e,"Invalid config type given");e&&Object.values(e).forEach(function(e){(0,d.default)(e instanceof c.default,"All themes in the configuration must be a `Theme` record. Found %s",typeof e)})},m=(0,u.memo)(function(e){var t=e.themeConfig,a=e.use,r=e.children;g(t);t=Object.assign({},f.defaultThemeConfig,t);var n=a?t[a]:t[i.DEFAULT]||(0,c.default)();return u.default.createElement(p.default.Provider,{value:n},r)});m.displayName="ThemeProvider";m.propTypes={children:l.default.node.isRequired,themeConfig:l.default.objectOf((0,s.default)("Theme")),use:o.default};var v=m;t.default=v;e.exports=t.default},rleu:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a("6+o1"),n=a("etd5");n.concat.implement(Array,function(e,t){return r.Iterable.isIterable(e)?t.concat(e.toJS()):t.concat(e)});n.concat.implementInherited(r.Seq.Indexed,function(e,t){return t.concat(e)});n.concat.implementInherited(r.Collection.Indexed,function(e,t){return t.concat(e)});n.concat.implement(String,function(e,t){return t.concat(e)});var i=n.concat;t.default=i;e.exports=t.default},rsBT:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("929M")),p=n(a("1WnS")),g=n(a("EwvR")),m=n(a("FHmc")),v=a("xANw"),h=a("Vfk2"),y=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"getUnknownSenderText",value:function(){switch((0,h.getSenderType)(this.props.sender)){case v.BOT:return c.default.createElement(f.default,{message:"conversations-message-history.responder.bot"});case v.AGENT:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownResponder"});case v.VISITOR:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownVisitor"});case v.SYSTEM:return c.default.createElement(f.default,{message:"conversations-message-history.responder.automatic"});default:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownSender"})}}},{key:"render",value:function(){var e=this.props,t=e.sender;return e.isLoading?c.default.createElement(g.default,{width:100}):t&&(0,m.default)({givenName:(0,h.getFirstName)(t),familyName:(0,h.getLastName)(t),email:(0,h.getEmail)(t)})||this.getUnknownSenderText()}}]);return t}(c.PureComponent);t.default=y;y.displayName="SenderName";y.propTypes={isLoading:d.default.bool,sender:(0,p.default)("Sender")};e.exports=t.default},rvWB:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachment=void 0;var n=r(a("7iZm")),i=a("bBwc"),o=a("nncj"),s=a("xOvp"),l=a("M+r2"),u=a("oLNr"),d=a("W3K0"),c=a("32t3"),f=a("iKkD"),p=a("T7hB"),g=a("wVuR"),m=a("+rg3"),v=a("ZyKU"),h=function(e){var t=e.attachment,a=e.threadId;return function(e,r){var h=Date.now();e((0,c.attachmentUploadStart)({attachment:t,threadId:a}));var y=(0,s.getSessionId)(r()),b=(0,i.getLocalId)(t),E=(0,i.getFile)(t),_=(0,d.createFormDataForAttachment)({file:E});return(0,l.fetchAttachmentUploadUrlClient)({sessionId:y,threadId:a}).then(function(t){var r=t.uploadUrl;return(0,u.uploadAttachmentClient)({formData:_,onProgress:function(t){var r=t.loaded,n=t.total;e((0,g.handleAttachmentUploadProgress)({localId:b,threadId:a,loaded:r,total:n}))},uploadUrl:v.FILE_MANAGER_API_PREFIX+"/"+r})}).then(function(t){var r=(0,n.default)(t.objects,1)[0],i=Date.now();e((0,f.attachmentUploadComplete)({localId:b,threadId:a,fileId:r.id,uploadedFile:r}));e((0,o.trackInteraction)("attached-file",{action:"attached file","attachment-type":r.extension,"attachment-size-bytes":E.size,"upload-time-ms":i-h}))}).catch(function(){e((0,m.attachmentError)(p.UPLOAD_ERROR,a));e((0,o.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":"upload error"}))})}};t.uploadAttachment=h},sFw5:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.ChatWidgetLocaleContextProvider=t.ChatWidgetLocaleContextConsumer=void 0;var n=r(a("ZQ2w")).default.createContext(void 0),i=n.Consumer;t.ChatWidgetLocaleContextConsumer=i;var o=n.Provider;t.ChatWidgetLocaleContextProvider=o},sJB7:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ON_SCROLL_THROTTLE=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("y4Zp")),f=r(a("ZQ2w")),p=n(a("wpvD")),g=100;t.ON_SCROLL_THROTTLE=g;var m=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={inTop:!0,inBottom:!0,height:0,distanceToBottom:0};a.scrollContainer=f.default.createRef();a.onResize=(0,p.default)(g,a.onResize.bind((0,u.default)(a)));a.onScroll=(0,p.default)(g,a.onScroll.bind((0,u.default)(a)));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight});window.addEventListener("resize",this.onResize,{passive:!0})}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollContainer.current;return e?{prevScrollTop:e.scrollTop}:null}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.scrollContainer.current;if(a&&r){var n=a.prevScrollTop;r.scrollTop===n&&t.height>this.state.height&&this.setScrollTop(r.scrollTop+(t.height-this.state.height))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onScroll",value:function(){var e=this.props,t=e.onScrollToTop,a=e.onScrollToBottom,r=this.inThreshold(),n=r.inTop,i=r.inBottom;!this.state.inTop&&n&&t();!this.state.inBottom&&i&&a();var o=this.getScrollDistanceFromBottom();this.setState({inTop:n,inBottom:i,distanceToBottom:o})}},{key:"inThreshold",value:function(){var e=this.props,t=e.topThreshold,a=e.bottomThreshold;return{inTop:this.getScrollDistanceFromTop()<=t,inBottom:this.getScrollDistanceFromBottom()<=a}}},{key:"getScrollDistanceFromTop",value:function(){var e=this.scrollContainer.current;return e?e.scrollTop:0}},{key:"getScrollDistanceFromBottom",value:function(){var e=this.scrollContainer.current;if(!e)return 0;var t=e.scrollTop,a=e.scrollHeight,r=e.clientHeight,n=e.offsetHeight;return a-(r||n)-t}},{key:"scrollToBottom",value:function(){var e=this.scrollContainer.current;e&&this.setScrollTop(e.scrollHeight)}},{key:"setScrollTop",value:function(e){var t=this.scrollContainer.current;t&&(t.scrollTop=e||0)}},{key:"onResize",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight||0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return f.default.createElement("div",{className:a,style:{flexGrow:1},ref:this.scrollContainer,onScroll:this.onScroll},t)}}]);return t}(f.PureComponent);m.displayName="ScrollWrapper";m.propTypes={bottomThreshold:c.default.number.isRequired,children:c.default.node,className:c.default.string,onScrollToBottom:c.default.func.isRequired,onScrollToTop:c.default.func.isRequired,topThreshold:c.default.number.isRequired};var v=function(){};m.defaultProps={bottomThreshold:300,onScrollToBottom:v,onScrollToTop:v,topThreshold:300};var h=m;t.default=h},"sNC+":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("fGqM")),i=a("84Y+"),o=a("zC+/"),s=a("TGEe"),l=a("NdLk"),u=a("qw1D"),d=a("GfCx"),c=a("O3Qn"),f=a("V/zO"),p=function(e){return{coloring:(0,o.getColoring)(e),companyName:(0,u.getCompanyName)(e),consentToCommunicateMessage:(0,l.getConsentToCommunicateMessage)(e),hasVisitorEmail:(0,d.getHasVisitorEmail)(e),requiresConsentToCommunicate:(0,s.shouldRequireConsentToCommunicate)(e),threadId:(0,f.getCurrentThreadId)(e)}},g={sendVisitorEmailAddress:c.sendVisitorEmailAddress},m=(0,i.connect)(p,g)(n.default);t.default=m;e.exports=t.default},sToE:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.validateAttachmentFile=void 0;var n=a("T7hB"),i=a("LI65"),o=r(a("vs8Z")),s=function(e){var t=(0,o.default)();(0,i.fileExceedsSizeLimit)(e)?t.reject(n.SIZE_LIMIT_EXCEEDED):t.resolve();return t.promise};t.validateAttachmentFile=s},sieo:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("8UmL")),c=n(a("E7sj")),f=n(a("o4Fk")),p=a("x39S"),g=a("dNbY"),m=n(a("byqf")),v=n(a("1WnS")),h=a("f9PE"),y=a("xw1J"),b=a("xANw"),E=a("6+o1"),_=n(a("y4Zp")),T=r(a("ZQ2w")),C=n(a("OCxt")),I=n(a("E0l7")),S=r(a("kgGd")),x=n(a("X6pe")),M=n(a("fDD7")),A=a("ZBtC"),O=a("gMO5"),P=n(a("y+AS")),R=C.default.div.withConfig({displayName:"CommonMessageContent__HyperlinkStyleWrapper",componentId:"sc-1wp4mjl-0"})([""," a{color:",";text-decoration:",";&:hover{color:",";}&:active{color:",";}}"],S.PrimaryMessageContentWrapper,function(e){return e.hyperlinkColor},function(e){return e.showUnderline?"underline":"inherit"},function(e){var t=e.hyperlinkColor;return t&&(0,O.darken)(t)},function(e){var t=e.hyperlinkColor;return t&&(0,O.darken)(t,.2)}),k=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"isSentFromVisitor",value:function(){return(0,y.getSenderType)(this.props.message)===b.VISITOR}},{key:"isClickableLink",value:function(e){return new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)}},{key:"handleOnClickEvent",value:function(e){e.persist();"A"===e.target.tagName&&this.props.toggleOpen(!1)}},{key:"renderContentText",value:function(){var e=this.props,t=e.message,a=e.mobile,r=(0,y.getRichText)(t)||(0,y.getPlainText)(t),n=a&&this.isClickableLink(r);if(!r)return null;var i=(0,y.getRichText)(t)&&P.default.link(r,{stripPrefix:!1});return T.default.createElement(m.default,{contentText:i||r,"aria-label":this.isSentFromVisitor()?c.default.text("conversations-visitor-message-history.myMessage"):c.default.text("conversations-visitor-message-history.agentMessage"),onClickAction:n?this.handleOnClickEvent.bind(this):null})}},{key:"renderMessageSection",value:function(){var e=this.props,t=e.fileAttachments,a=e.isLastMessage,r=e.message,n=!(0,h.isEmailCMF)(r)&&t&&(0,p.hasImageAttachments)(t),i=(0,g.hasTextContent)(r);return n||i?T.default.createElement(x.default,{isLastMessage:a},this.renderContentText(),n&&T.default.createElement(f.default,{fileAttachments:t})):null}},{key:"renderAttachmentsSection",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=(0,h.isEmailCMF)(a)?t:(0,p.getNonImageAttachments)(t);return r&&r.size?T.default.createElement(x.default,null,T.default.createElement(I.default,{fileAttachments:r})):null}},{key:"render",value:function(){var e=this.renderMessageSection(),t=this.renderAttachmentsSection(),a=this.isSentFromVisitor();return T.default.createElement(R,{showUnderline:a,hyperlinkColor:a&&(0,A.getTextColor)(this.context)},T.default.createElement(S.default,null,e,t,!e&&!t&&T.default.createElement(x.default,null,T.default.createElement(d.default,null)),this.props.quickReplySelect&&this.props.quickReplySelect()))}}]);return t}(T.PureComponent);k.contextType=M.default;k.displayName="CommonMessageContent";k.propTypes={fileAttachments:_.default.instanceOf(E.List),isLastMessage:_.default.bool,message:_.default.oneOfType([(0,v.default)("PubNubMessageRecord"),(0,v.default)("CommonMessage")]).isRequired,mobile:_.default.bool,quickReplySelect:_.default.oneOfType([_.default.bool,_.default.func]),toggleOpen:_.default.func};var N=k;t.default=N;e.exports=t.default},sqdi:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var i=n(a("q6GH")),o=r(a("ZQ2w")),s=n(a("xBzN")),l=a("jSgY"),u=a("QFOF");function d(e){var t=(0,o.forwardRef)(function(t,a){t.checked,t.defaultChecked,t.onChange;var r=(0,i.default)(t,["checked","defaultChecked","onChange"]),n=(0,l.useChecked)(t),s=n.checked,u=n.onChange;return o.default.createElement(e,Object.assign({},r,{checked:s,onChange:u,ref:a}))});t.propTypes=Object.assign({},e.propTypes,{},l.checkedPropTypes);t.defaultProps=Object.assign({},e.defaultProps,{defaultChecked:!(!e.defaultProps||null==e.defaultProps.checked)&&e.defaultProps.checked});delete t.defaultProps.checked;t.displayName="Checkable("+(0,s.default)(e)+")";(0,u.attachWrappedComponent)(t,e);return t}e.exports=t.default},st6n:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTooltipTextColor=t.getTooltipBackgroundColor=void 0;var r=a("Duol"),n="#425b76",i=function(){return n};t.getTooltipBackgroundColor=i;var o=function(){return r.WHITE};t.getTooltipTextColor=o},"t/w8":function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("1WnS")),c=n(a("y4Zp")),f=r(a("ZQ2w")),p=a("T7hB"),g=a("O7fF"),m=n(a("WpxU")),v=n(a("+FM6")),h=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.attachmentsError,a=e.createNewThread,r=e.dismissAttachmentsError,n=e.fetchOlderThreadHistory,i=e.networkError,o=e.resubscribe,s=e.selectAttachmentFile,l=e.startPubSub,u=e.thread,d=e.trackInteraction;return t?f.default.createElement(m.default,{attachmentsError:t,dismissAttachmentsError:r,selectAttachmentFile:s,thread:u,trackInteraction:d}):i?f.default.createElement(v.default,{createNewThread:a,fetchOlderThreadHistory:n,networkError:i,resubscribe:o,startPubSub:l}):null}}]);return t}(f.Component);h.displayName="ChatAreaAlertContainer";h.propTypes={attachmentsError:c.default.oneOf([p.SIZE_LIMIT_EXCEEDED,p.UPLOAD_ERROR]),createNewThread:c.default.func.isRequired,dismissAttachmentsError:c.default.func.isRequired,fetchOlderThreadHistory:c.default.func.isRequired,networkError:c.default.oneOf([g.NETWORK_OFFLINE,g.THREAD_HISTORY_FAILED,g.CREATE_NEW_THREAD_FAILED,g.PUBSUB_FAILED,g.SUBSCRIPTIONS_FAILED]),resubscribe:c.default.func.isRequired,selectAttachmentFile:c.default.func.isRequired,startPubSub:c.default.func.isRequired,thread:(0,d.default)("Thread").isRequired,trackInteraction:c.default.func.isRequired};var y=h;t.default=y;e.exports=t.default},t2YF:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")),p=a("BQpW"),g=n(a("KEa2")),m=n(a("1WnS")),v=n(a("xE1a")),h=n(a("929M")),y=f.default.div.withConfig({displayName:"ProcessConsentPrompt__ConsentPromptWrapper",componentId:"sc-9lwhbi-0"})(["border-top:2px solid ",";"],p.CIRRUS),b=f.default.div.withConfig({displayName:"ProcessConsentPrompt__AlertWrapper",componentId:"sc-9lwhbi-1"})(["margin:10px;"]),E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to process"})}},{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.consentToProcess,r=e.consentToProcessError,n=e.consentToProcessMessage,i=e.dismissConsentToProcessError,o=e.showGdprConsentToProcessButton;return c.default.createElement(y,null,r?c.default.createElement(b,null,c.default.createElement(v.default,{title:c.default.createElement(h.default,{message:"conversations-visitor-ui.network.offline.title"}),onClose:i})):c.default.createElement(g.default,{showButton:o,message:n,onClick:a,coloring:t}))}}]);return t}(c.Component);E.displayName="ProcessConsentPrompt";E.propTypes={coloring:(0,m.default)("ColoringRecord"),consentToProcess:d.default.func,consentToProcessError:d.default.bool,consentToProcessMessage:d.default.string,dismissConsentToProcessError:d.default.func,showGdprConsentToProcessButton:d.default.bool,trackInteraction:d.default.func};var _=E;t.default=_;e.exports=t.default},tKZ1:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("OCxt")).default.div.withConfig({displayName:"SpacingWrapper",componentId:"ufvnhz-0"})(["padding-top:4px;padding-bottom:4px;padding-left:10px;padding-right:10px;width:100%;"]);t.default=n;e.exports=t.default},tRLC:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.attachmentsErrorForThreadInProps=void 0;var n=a("ib5I"),i=r(a("BjQQ")),o=a("oDJb"),s=a("rkDb"),l=a("Xqh6"),u=(0,n.createSelector)([o.getFileUploadsErrors,l.threadFromProps],function(e,t){var a=(0,s.getThreadId)(t);return(0,i.default)(a,e)||null});t.attachmentsErrorForThreadInProps=u},tcbK:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.HEIGHT=t.WIDTH=t.SIZE=t.TYPE=t.EXTENSION=t.NAME=t.URL=t.EXPIRES_AT=void 0;var r=["expiresAt"];t.EXPIRES_AT=r;var n=["url"];t.URL=n;var i=["name"];t.NAME=i;var o=["extension"];t.EXTENSION=o;var s=["type"];t.TYPE=s;var l=["fileSize"];t.SIZE=l;var u=["width"];t.WIDTH=u;var d=["height"];t.HEIGHT=d},tpDU:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeSignature=t.SIGNATURE_CLASSLIST=void 0;var r=a("XpIp"),n=["hs_signature"];t.SIGNATURE_CLASSLIST=n;var i=function(e){return e&&e.contains&&n.some(function(t){return e.contains(t)})},o=function(e){var t=e.node,a=t.classList,n=t.attributes,o=void 0===n?[]:n;if(i(a)){var s=r.secureDocument.createElement("span");Object.keys(o).forEach(function(e){var t=o[e];s.setAttribute(t.nodeName,t.nodeValue)});s.innerHTML="";s.setAttribute("data-email-signature","");return{node:s}}return null};t.removeSignature=o},tr1i:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.gdprExplicitConsentRequired=void 0;var n=r(a("iRI7")),i=a("6ltl"),o=a("ZEN6"),s=(0,n.default)(i.getMessage,o.getGdprExplicitConsentRequired);t.gdprExplicitConsentRequired=s},ts1O:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=a("KCF3"),c=n(a("4JpU")),f=n(a("OJ8L")),p=n(a("1WnS")),g=a("tnbG"),m=a("6+o1"),v=n(a("y4Zp")),h=r(a("ZQ2w")),y=n(a("sieo")),b=n(a("Acer")),E=n(a("RhWw")),_=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.onRepublish,n=e.positionDescriptors,i=(0,g.getMessage)(a);return h.default.createElement(b.default,{positionDescriptors:n,use:d.VISITOR},h.default.createElement(y.default,{fileAttachments:t,isLastMessage:!0,message:i}),h.default.createElement(E.default,null,h.default.createElement(f.default,{message:i,onRepublish:r})))}}]);return t}(h.PureComponent);_.displayName="FailedToPublishMessage";_.propTypes={fileAttachments:v.default.instanceOf(m.List),message:(0,p.default)("FailedToPublish").isRequired,onRepublish:v.default.func.isRequired,positionDescriptors:c.default.isRequired};var T=_;t.default=T;e.exports=t.default},tuAR:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getEvaluatedTextContent=void 0;var n=r(a("SRO8")),i=a("XpSk"),o=(0,n.default)(function(e){if(!e)return null;var t=document.createElement("div");t.innerHTML=(0,i.cleanEmail)(e);document.body.appendChild(t);var a=t.innerText;document.body.removeChild(t);return a});t.getEvaluatedTextContent=o},"u/HZ":function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getFileSize=void 0;var n=r(a("BjQQ")),i=a("bBwc"),o=function(e){var t=(0,i.getFile)(e);return(0,n.default)("size",t)||0};t.getFileSize=o},u4mQ:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getSimpleDateText=s;var n=r(a("ZQ2w")),i=r(a("1Ko6")),o=r(a("819h"));function s(e){var t=(0,i.default)(e,"userTz");return n.default.createElement(o.default,{use:"help"},t)}s.displayName="getSimpleDateText"},u70c:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.MessageHistoryConfig=void 0;var n,i=r(a("l4i0")),o=a("//9l"),s=r(a("dFU8")),l=a("JVS1"),u=a("jn74"),d=a("mATZ"),c=r(a("Isf6")),f=r(a("8dPH")),p=r(a("/6CN")),g=r(a("sNC+")),m=r(a("F7XE")),v=r(a("/1QK")),h=r(a("IpvR")),y=a("0JID"),b=(n={},(0,i.default)(n,d.ACTIVELY_PUBLISHING,p.default),(0,i.default)(n,u.CHAT_MESSAGE,h.default),(0,i.default)(n,l.COMMON_MESSAGE,(0,y.withConsent)(h.default)),(0,i.default)(n,o.DATE_MESSAGE,f.default),(0,i.default)(n,u.EMAIL_CAPTURE_PROMPT,g.default),(0,i.default)(n,d.FAILED_TO_PUBLISH,m.default),(0,i.default)(n,u.INITIAL_MESSAGE,(0,y.withConsent)(v.default)),(0,i.default)(n,u.OFFICE_HOURS,c.default),(0,i.default)(n,u.TYPICAL_RESPONSE_TIME,c.default),(0,i.default)(n,u.TYPING,s.default),n);t.MessageHistoryConfig=b},uF97:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("y4Zp")),d=r(a("ZQ2w")),c=r(a("E7sj")),f=r(a("EN3L")),p=r(a("zI4X")),g=r(a("+NYN")),m=r(a("Wry5")),v=r(a("819h")),h=a("BQpW"),y=a("+2cg"),b=a("Jicp"),E=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.liveChatHref,a=e.onLinkClick;return d.default.createElement("div",{className:"m-bottom-2 align-center justify-center"},d.default.createElement(g.default,{theme:(0,y.createTheme)((0,b.setIconColor)(h.LORAX)),icon:d.default.createElement(m.default,null),className:"m-right-1"}),d.default.createElement(v.default,{use:"help"},d.default.createElement(f.default,{message:"conversations-visitor-experience-components.chatArea.branding_jsx",elements:{Link:p.default},options:{ariaLabel:c.default.text("conversations-visitor-experience-components.chatArea.brandingAriaLabel"),href:t,onClick:a}})))}}]);return t}(d.default.PureComponent);E.propTypes={liveChatHref:u.default.string,onLinkClick:u.default.func};E.displayName="WidgetBranding";var _=E;t.default=_;e.exports=t.default},uNz2:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("QWjn")),i=a("BQpW"),o=a("6+o1"),s=r(a("NuDZ")),l=(0,o.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:i.KOALA,borderColor:i.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:i.HEFFALUMP,fileAttachmentTheme:(0,n.default)(),quickReplyTheme:(0,s.default)(),widgetAccent:i.HEFFALUMP},"Theme");t.default=l;e.exports=t.default},ucHY:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a("84Y+"),i=r(a("uF97")),o=a("/wcQ"),s=a("yybq"),l=function(e){return{liveChatHref:(0,o.liveChatLink)(e),onLinkClick:s.clickedViralLink}},u=(0,n.connect)(l)(i.default);t.default=u;e.exports=t.default},ul6U:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getOptionLabel=n;t.getOptionValue=i;function r(e){return"string"==typeof e}function n(e){return r(e)?e:e.has("label")?e.get("label"):e.get("value")}function i(e){return r(e)?e:e.get("value")}},v8Yw:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"mrHubBot",{enumerable:!0,get:function(){return n.default}});var n=r(a("mkQZ"))},v9ME:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("OCxt")),i=a("MzoX"),o=a("st6n"),s=n.default.div.withConfig({displayName:"VizExTooltipArrow",componentId:"myy70c-0"})(["position:absolute;pointer-events:none;border:none;clip-path:polygon(100% 100%,0 100%,100% 0);border-top-left-radius:100%;border-radius:3px;border-top-color:transparent !important;border-left-color:transparent !important;border-bottom-right-radius:3px;width:16px;height:16px;background-color:",";",""],function(e){var t=e.theme;return(0,o.getTooltipBackgroundColor)(t)},i.getArrowSpacing);t.default=s;e.exports=t.default},vARq:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("929M")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=a("O4fT"),l=r(a("OCxt")),u=r(a("rFv6")),d=l.default.div.withConfig({displayName:"NewThreadPrompt__NewThreadpromptContainer",componentId:"efoo07-0"})(["padding:32px 20px 12px 20px;text-align:center;width:100%;"]);function c(e){var t=e.createNewThread;return o.default.createElement(s.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(d,null,o.default.createElement("p",{className:"m-bottom-0"},o.default.createElement(n.default,{message:"conversations-visitor-ui.newThreadPrompt.newHeading",options:{locale:e}})),o.default.createElement(u.default,{"data-test-id":"visitor-widget-start-new-thread-button",onClick:t},o.default.createElement(n.default,{message:"conversations-visitor-ui.newThreadPrompt.newButton",options:{locale:e}})))})}c.propTypes={createNewThread:i.default.func.isRequired};c.displayName="NewThreadPrompt";var f=c;t.default=f;e.exports=t.default},vBAi:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var n=r(a("ZQ2w"));function i(e){return n.default.createElement("svg",{role:"presentation",viewBox:"0 0 15 15.343",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",Object.assign({},e,{d:"M1.013 8.11c0-.223.078-.412.234-.568l1.14-1.14c.155-.155.345-.233.568-.233s.413.077.57.233l2.46 2.47 5.492-5.5c.156-.156.346-.234.568-.234.224 0 .413.077.57.233l1.138 1.14c.156.155.234.345.234.568 0 .224-.078.414-.234.57l-6.06 6.06-1.14 1.14c-.155.155-.345.233-.568.233s-.413-.078-.57-.234l-1.138-1.14-3.03-3.03c-.156-.156-.234-.346-.234-.57z"})))}i.displayName="UICheckmark";e.exports=t.default},vWmq:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InlineImageAttachmentWrapper=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("7u3i")),d=n(a("y4Zp")),c=r(a("ZQ2w")),f=n(a("OCxt")),p=n(a("NCm5")),g=n(a("CUjz")),m=f.default.div.withConfig({displayName:"InlineImageAttachment__InlineImageAttachmentWrapper",componentId:"dc44rc-0"})(["display:block;max-width:100%;"]);t.InlineImageAttachmentWrapper=m;var v=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).hasLoadedImage=function(){a.setState({hasLoaded:!0})};a.state={hasLoaded:!1};return a}(0,o.default)(t,[{key:"getDimensions",value:function(){var e=this.props,t=e.maxWidth,a=e.width,r=e.height;return!this.state.hasLoaded&&t&&a&&r?a<=t?{width:a,height:r}:{width:t,height:r*(t/a)}:{}}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.url,r=this.getDimensions(),n=r.width,i=r.height;return c.default.createElement(m,null,c.default.createElement(g.default,{href:a,target:"_blank","data-test-id":"inline-image-attachment"},c.default.createElement(p.default,{alt:t,src:a,width:n,height:i,style:{minHeight:i},onLoad:this.hasLoadedImage})))}}]);return t}(c.PureComponent);v.displayName="InlineImageAttachment";v.propTypes={height:d.default.number,maxWidth:d.default.number,name:d.default.string.isRequired,url:d.default.string.isRequired,width:d.default.number};var h=v;t.default=h},vXt0:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeOutlookLineBreaks=void 0;var r=a("XpIp"),n=function(e,t){return"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length},i=function(e){return e&&!e.children.legnth&&"o:p"===e.tagName.toLowerCase()&&e.innerHTML.includes("&nbsp;")},o=function(e){return e&&"span"===e.tagName.toLowerCase()&&i(e.firstElementChild)},s=function(e){return!!e.getElementsByTagName("img").length},l=function e(t){var a=t.node,l=t.node_name;if(n(a,l)){var u=a.firstElementChild;if(i(u)||o(u)){if(s(a)){a.removeChild(u);return e({node:a,node_name:"p"})}return{node:r.secureDocument.createElement("br")}}var d=r.secureDocument.createElement("div");Object.keys(a.attributes).forEach(function(e){var t=a.attributes[e];d.setAttribute(t.nodeName,t.nodeValue)});d.innerHTML=a.innerHTML.trim().replace(/&nbsp;/g,"");return{node:d}}return null};t.removeOutlookLineBreaks=l},vbtF:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZQ2w")),i=r(a("OCxt")).default.span.withConfig({displayName:"Separator__SeparatorStyleWrapper",componentId:"sc-1on8uqr-0"})(["margin:0 4px;"]),o=function(){return n.default.createElement(i,null,"•")};o.displayName="Separator";var s=o;t.default=s;e.exports=t.default},vs8Z:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("gNdb"));function i(){var e,t;return{promise:new n.default.Promise(function(a,r){t=a;e=r}),reject:e,resolve:t}}var o=i;t.default=o;e.exports=t.default},wEU5:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("q6GH")),o=n(a("y4Zp")),s=n(a("ZQ2w")),l=r(a("OCxt")),u=a("a2wW"),d=n(a("9+BE")),c=a("Z/rD"),f=r(a("HLKB")),p=a("jGYR"),g=(0,l.css)(["&:hover{","}&:active{","}"],p.getHoverBackgroundStyles,p.getActiveBackgroundStyles),m=l.default.button.withConfig({displayName:"VizExButton__AbstractVizExButton",componentId:"sc-7jt4hf-0"})(["flex-shrink:0;border-radius:3px;padding:",";font-size:14px;line-height:16px;outline:none;transition:background-color 150ms ease-out;border-style:solid;border-width:1px;cursor:",";user-select:",";"," "," ",";&:focus{outline:0;}"],function(e){var t=e.size;return c.BUTTON_PADDINGS[t]},function(e){return e.disabled?"not-allowed":"pointer"},function(e){return e.disabled?"none":null},p.getColorStyles,p.getBackgroundStyles,function(e){return e.disabled?null:g}),v=l.default.div.withConfig({displayName:"VizExButton__NoSelect",componentId:"sc-7jt4hf-1"})(["user-select:none;"]),h=function(e){var t=e.children,a=e.onClick,r=e.use,n=e.theme,o=e.hover,l=e.active,u=e.disabled,d=(0,i.default)(e,["children","onClick","use","theme","hover","active","disabled"]);return s.default.createElement(m,Object.assign({},d,{theme:n,use:r,onClick:a,hover:o,active:l,disabled:u}),s.default.createElement(v,null,t))};h.displayName="VizExButton";h.propTypes={active:o.default.bool,children:o.default.node,disabled:o.default.bool,hover:o.default.bool,onClick:o.default.func,size:o.default.oneOf(Object.keys(c.BUTTON_SIZES)),theme:d.default,use:o.default.oneOf(Object.values(f))};h.defaultProps={use:f.SECONDARY,disabled:!1,size:u.MEDIUM};var y=h;t.default=y;e.exports=t.default},wGBH:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fetchOlderThreadHistory=void 0;var r=a("cep6"),n=a("bz7q"),i=a("xOvp"),o=a("sjvu"),s=a("KGLF"),l=a("p0mF"),u=a("K24x"),d=function(){return function(e,t){var a=t(),d=(0,i.getSessionId)(a),c=(0,n.getSelectedThreadId)(a);if(null!==c&&c!==o.STUBBED_THREAD_ID){var f=(0,r.getSelectedThread)(a),p=(0,s.historyDataForThread)(a,{thread:f}),g=(0,u.getOffsetOrdinal)(p),m=(0,u.getOffsetTimestamp)(p);e((0,l.fetchThreadHistory)({offsetOrdinal:g,offsetTimestamp:m,threadId:c,sessionId:d}))}}};t.fetchOlderThreadHistory=d},wVuR:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.handleAttachmentUploadProgress=void 0;var r=a("ZyKU"),n=a("BaOL"),i=function(e){var t=e.localId,a=e.threadId,i=e.loaded,o=e.total;return function(e){var s=i/o*r.MAX_UPLOAD_PROGRESS_PERCENTAGE;e((0,n.attachmentUploadProgress)({localId:t,threadId:a,progress:s}))}};t.handleAttachmentUploadProgress=i},wYm8:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=u;var n=r(a("q6GH")),i=r(a("y4Zp")),o=r(a("ZQ2w")),s=r(a("xbdm")),l=a("Fx/V");function u(e){var t=e.align,a=e.className,r=e.spacing,i=(0,n.default)(e,["align","className","spacing"]);return o.default.createElement("div",Object.assign({},i,{className:(0,s.default)("media private-media",l.MEDIA_ALIGNMENT_TYPES[t],l.MEDIA_SPACING[r],a)}))}u.displayName="UIMedia";u.propTypes={align:i.default.oneOf(Object.keys(l.MEDIA_ALIGNMENT_TYPES)),children:i.default.node.isRequired,spacing:i.default.oneOf(Object.keys(l.MEDIA_SPACING)).isRequired};u.defaultProps={spacing:"small"};e.exports=t.default},wn8R:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isValidMessageHistoryType=void 0;var r=a("xw1J"),n=function(e,t){return Boolean(t[(0,r.getType)(e)])};t.isValidMessageHistoryType=n},wpvD:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("mjgr")),i=r(a("D1/i")),o=r(a("CkTg")),s=r(a("fKbY"));function l(e,t){(0,s.default)(e);(0,o.default)(t);var a,r,i=0,l=null;function u(){if(null!==l){clearTimeout(l);l=null}}function d(){i=Date.now();r=t.apply(void 0,(0,n.default)(a))}function c(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a=n;u();Date.now()-i>=e?d():l=setTimeout(d,e);return r}c.cancel=u;return c}var u=(0,i.default)(l);t.default=u;e.exports=t.default},wxZq:function(e,t,a){var r=a("fwVr");function n(){this.__data__=r?r(null):{};this.size=0}e.exports=n},wzyz:function(e,t,a){var r=a("HopT"),n=a("/gqD");function i(e,t){var a=n(e,t);return r(a)?a:void 0}e.exports=i},x39S:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasImageAttachments=t.getNonImageAttachments=t.getImageAttachments=void 0;var r=a("Lrql"),n=a("WSPb"),i=a("AIeD"),o=function(e){return e.filter(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a===i.IMG&&"svg"!==o)})};t.getImageAttachments=o;var s=function(e){return e.filter(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a!==i.IMG||"svg"===o)})};t.getNonImageAttachments=s;var l=function(e){return e.some(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a===i.IMG&&"svg"!==o)})};t.hasImageAttachments=l},x5c3:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToProcessError=void 0;var n=r(a("BjQQ")),i=a("ib5I"),o=(0,n.default)("gdpr"),s=(0,i.createSelector)([o],(0,n.default)("consentToProcessError"));t.getConsentToProcessError=s},xE1a:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("0aYW")),i=r(a("f5oG")),o=r(a("dd8U")),s=r(a("fi52")),l=r(a("7u3i")),u=r(a("y4Zp")),d=r(a("ZQ2w")),c=r(a("OCxt")),f=r(a("3ROU")),p=r(a("+NYN")),g=r(a("qEer")),m=a("+2cg"),v=a("lvaI"),h=a("BQpW"),y=c.default.div.withConfig({displayName:"ChatAreaAlert__Wrapper",componentId:"sc-7vjonp-0"})(["width:100%;display:flex;justify-content:center;background-color:transparent;"]),b=c.default.div.withConfig({displayName:"ChatAreaAlert__Alert",componentId:"sc-7vjonp-1"})(["display:flex;justify-content:flex-end;align-items:center;padding:7px 14px;min-width:85%;background-color:",";border:1px solid ",";font-weight:500;font-size:12px;"],h.MARIGOLD_LIGHT,h.MARIGOLD_MEDIUM),E=c.default.div.withConfig({displayName:"ChatAreaAlert__Title",componentId:"sc-7vjonp-2"})(["flex:0 1 100%;"]),_=c.default.div.withConfig({displayName:"ChatAreaAlert__LinkWrapper",componentId:"sc-7vjonp-3"})(["flex:0 0 auto;"]),T=(0,c.default)(f.default).withConfig({displayName:"ChatAreaAlert__StyledCloseButton",componentId:"sc-7vjonp-4"})(["position:static;flex:0 0 12px;margin-left:20px;"]),C=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){return d.default.createElement(y,null,d.default.createElement(b,null,d.default.createElement(E,null,this.props.title),d.default.createElement(_,null,this.props.link),d.default.createElement(T,{use:"transparent-on-background",theme:(0,v.setTransparentOnBackgroundIconButton)(h.OBSIDIAN,(0,m.createTheme)()),onClick:this.props.onClose},d.default.createElement(p.default,{icon:d.default.createElement(g.default,null)}))))}}]);return t}(d.default.Component);C.propTypes={link:u.default.node,onClose:u.default.func.isRequired,title:u.default.node.isRequired};C.defaultProps={onClose:function(){}};C.displayName="ChatAreaAlert";var I=C;t.default=I;e.exports=t.default},xS4Z:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.isUngatedForNonPersistedMessages=void 0;var n=r(a("BjQQ")),i=a("ib5I"),o=a("/fvr"),s=a("3UHi"),l=(0,i.createSelector)([o.getGates],function(e){return Boolean((0,n.default)(s.NON_PERSISTED_MESSAGE,e))});t.isUngatedForNonPersistedMessages=l},xfpd:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a("6+o1").Record)({tileBackgroundColor:"rgba(255, 255, 255, 0.5)"},"FileAttachmentTheme");t.default=r;e.exports=t.default},xgjO:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isDuringOfficeHours=void 0;var r=a("QC7k"),n=function(e){return(0,r.getOfficeHoursStartTime)(e)&&(0,r.getOfficeHoursStartTime)(e)-(new Date).getTime()<0};t.isDuringOfficeHours=n},xqCo:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToProcess=s;var n=r(a("nDpY")),i=r(a("kMAx")),o="livechat-public/v1/privacy/consentToProcess";function s(e){var t=e.sessionId,a=e.hubspotUtk,r=e.welcomeMessageId;return i.default.put(o,{query:{sessionId:t,hubspotUtk:a,welcomeMessageId:r,portalId:n.default.get()}})}},zF3W:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.dismissAttachmentsError=void 0;var r=a("CRij"),n=a("bDpH"),i=(0,r.createAction)(n.DISMISS_ATTACHMENTS_ERROR);t.dismissAttachmentsError=i},zI4X:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("y4Zp")),i=r(a("ZQ2w")),o=a("BQpW"),s=a("+2cg"),l=a("TcD2"),u=r(a("rFv6")),d=function(e){var t=e.ariaLabel,a=e.children,r=e.onClick,n=e.href;n||(n=void 0);return i.default.createElement(u.default,{theme:(0,s.createTheme)((0,l.setLinkTextColor)(o.LORAX)),onClick:r,href:n,external:!0,"aria-label":t},a)};d.propTypes={ariaLabel:n.default.string,children:n.default.node.isRequired,href:n.default.string,onClick:n.default.func};d.defaultProps={href:"",onClick:function(){}};d.displayName="BrandingLink";var c=d;t.default=c;e.exports=t.default},zRU2:function(e,t,a){var r=a("nqur"),n="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(n);var a=function(){var r=arguments,n=t?t.apply(this,r):r[0],i=a.cache;if(i.has(n))return i.get(n);var o=e.apply(this,r);a.cache=i.set(n,o)||i;return o};a.cache=new(i.Cache||r);return a}i.Cache=r;e.exports=i},zYvt:function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=void 0;var r=5e3;t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=r},znAL:function(e,t,a){"use strict";"use es6";var r=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a("ZQ2w")),i=r(a("929M")),o=r(a("OCxt")).default.div.withConfig({displayName:"ErrorState__ErrorWrapper",componentId:"sc-158c0d-0"})(["display:flex;justify-content:center;align-items:center;height:100%;flex-direction:column;"]),s=function(){return n.default.createElement(o,null,n.default.createElement("h5",null,n.default.createElement(i.default,{message:"conversations-visitor-ui.asyncError.body"})),n.default.createElement("div",{className:"m-top-3"},n.default.createElement(i.default,{message:"conversations-visitor-ui.asyncError.noRetry"})))};s.displayName="ErrorState";var l=s;t.default=l;e.exports=t.default},znLu:function(e,t,a){"use strict";"use es6";var r=a("nhTm"),n=a("Z7VI");Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a("0aYW")),o=n(a("f5oG")),s=n(a("dd8U")),l=n(a("fi52")),u=n(a("xN45")),d=n(a("7u3i")),c=n(a("sJB7")),f=a("BVv3"),p=n(a("1WnS")),g=a("K24x"),m=a("okVP"),v=n(a("y4Zp")),h=r(a("ZQ2w")),y=n(a("OCxt")),b=n(a("Zcsh")),E=n(a("xbdm")),_=a("sjvu"),T=n(a("ooj3")),C=(0,y.default)(b.default).withConfig({displayName:"ThreadHistoryFetcher__LoadingSpinnerWrapper",componentId:"sc-1wh6m0q-0"})(["height:0;margin-top:20px;"]),I=(0,y.default)((0,f.withScrollTo)(c.default)).withConfig({displayName:"ThreadHistoryFetcher__ScrollToWrapper",componentId:"sc-1wh6m0q-1"})(["flex:1 1;display:flex;flex-direction:column;padding-bottom:12px;align-self:stretch;overflow-y:scroll;overflow-x:hidden;"]),S=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).scrollWrapper=(0,h.createRef)();a.fetchHistory=a.fetchHistory.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.scrollWrapper.current;e&&e.scrollToBottom();this.fetchHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.threadId,r=t.messageCount,n=t.shouldScrollToBottom,i=t.isOnFocus,o=e.threadId,s=e.messageCount,l=e.shouldScrollToBottom,u=e.isOnFocus,d=this.scrollWrapper.current;if(a===o)if(s){r!==s&&d&&d.scrollToBottomIfInThreshold();n!==l&&d&&d.scrollToBottomIfInThreshold();i!==u&&d&&d.scrollToBottomIfInThreshold()}else d&&d.scrollToBottom();else{this.fetchHistory();d&&d.scrollToBottom()}}},{key:"fetchHistory",value:function(){var e=this.props,t=e.fetchThreadHistory,a=e.threadId,r=e.threadHistory,n=e.sessionId;a!==_.STUBBED_THREAD_ID&&t({offsetOrdinal:(0,g.getOffsetOrdinal)(r),offsetTimestamp:(0,g.getOffsetTimestamp)(r),threadId:a,sessionId:n})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.isLoadingHistory,r=e.loadingHistoryFailed,n=e.threadId,i=e.threadHistory;if(a&&!(0,m.hasMessages)(i))return h.default.createElement(b.default,{grow:!0});if(r&&!(0,m.hasMessages)(i))return h.default.createElement(T.default,null);var o=(0,E.default)(this.props.className,"messages-scroll-container-utv");return h.default.createElement(I,{key:n,className:o,ref:this.scrollWrapper,onScrollToTop:this.fetchHistory},a&&h.default.createElement(C,{grow:!0}),t)}}]);return t}(h.PureComponent);S.propTypes={children:v.default.node.isRequired,className:v.default.string,fetchThreadHistory:v.default.func.isRequired,isLoadingHistory:v.default.bool,isOnFocus:v.default.bool.isRequired,loadingHistoryFailed:v.default.bool,messageCount:v.default.number.isRequired,sessionId:v.default.string.isRequired,shouldScrollToBottom:v.default.bool.isRequired,threadHistory:(0,p.default)("ThreadHistory"),threadId:v.default.number.isRequired};S.displayName="ThreadHistoryFetcher";var x=S;t.default=x;e.exports=t.default}}]);
//# sourceMappingURL=threadview-utv.js.map