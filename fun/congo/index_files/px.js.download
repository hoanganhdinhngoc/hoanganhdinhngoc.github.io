(()=>{"use strict";const u="https://s.cpx.to",l=u+"/sync",w=13058,g=105,f=false,i="captify",o=999999,m="_cids",_="xexp",I="xid",h="tid",v="texp",S=2592e6,b=2592e6,y=1e3;function n(e,t){return`&dsp=${e}&dsp_uid=`+t}function x(e){return e?n("id5",e):""}function k(){return window.localStorage&&window.localStorage.getItem("_pubcid")?n("pub_common",window.localStorage.getItem("_pubcid")):window.pbjs&&window.pbjs.getUserIds&&window.pbjs.getUserIds().pubcid?n("pub_common",window.pbjs.getUserIds().pubcid):""}function A(){var e;return window.__uid2&&window.__uid2.getAdvertisingTokenAsync?(window.__uid2.getAdvertisingTokenAsync().then(e=>{e&&((new Image).src=l+"?"+n("uid2",e))}),""):window.__uid2&&window.__uid2.getAdvertisingToken?(e=window.__uid2.getAdvertisingToken())?n("uid2",e):void 0:""}function O(e){let t=e?n("app_nexus",e):"";return t=!t&&C()?n("app_nexus","0"):t}function T(e){return e?n("TTD",e):""}function D(e){return e?n("firstId",e):""}function r(e){var t;e&&(e=JSON.parse(e),t=Array.from(e.new_categories,e=>e.id),window.localStorage)&&0<t.length&&(t.push(o),window.localStorage.setItem("_cptt",JSON.stringify({captify:t})),window.localStorage.setItem("_cptte",Date.now()+864e5),window.googletag&&window.googletag.pubadsReady&&(t=t.map(e=>e.toString()),window.googletag.pubads().setTargeting(i,t)),t=e,0<(t=Array.from(t.new_categories,e=>e.name).filter(e=>e)).length)&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"captifySegmentsResolved",captifySegments:t}))}function U(e){var t=window.googletag&&window.googletag.pubadsReady?(-1<(t=(n=window.googletag.pubads().getTargeting(i)).indexOf(o))&&n.splice(t,1),n):[],n=u+"/getClassification?",e="pid="+w+"&hn_ver="+g+(0===t.length?"":"&targeted_categories="+t)+x(e.id5)+k()+A()+T(e.ttd)+D(e.firstId)+O(e.xandr);return fetch(n+e,{method:"GET",credentials:"include",browsingTopics:!0}).then(e=>P(e).then(r))}function R(n,i){var e=document.referrer?"&ref="+encodeURIComponent(document.referrer):"",t=window.captify_kw_query_13058?"&kw="+encodeURIComponent(captify_kw_query_13058).substring(0,y):"";let o=encodeURIComponent(document.URL),r=u+"/fire.js?",a=n.consent?"&gcv="+n.consent:"",d=null!=n.sections?"&gppSections="+(p=n.sections,Array.isArray(p)?p+",":p.toString()):"",s="pid="+w+e+"&url="+o+"&hn_ver="+g+function(){var e=window?.performance?.timing?.responseEnd;if(!e)return"";e=Date.now()-e;return 0<=e?"&cdl="+e:""}()+t+x(i.id5)+k()+A()+T(i.ttd)+D(i.firstId),c=s+O(i.xandr)+a+d;var p=function(e,t){for(const i of e){var n=document.querySelector(i);if(n&&n.hasAttribute(t)){n=n.getAttribute(t);if(""!==n.trim())return n}}return null}(['meta[name="description"]'],"content"),e={pageMeta:{title:document.title.substring(0,y)}};p&&(e.pageMeta.description=p.substring(0,y)),fetch(r+c,{method:"POST",credentials:"include",body:JSON.stringify(e),browsingTopics:!0}).then(e=>{var t=P(e).then(e=>{var i,o;e=e,i=n.consent,o=s,C()||e.split(",").forEach(function(e){let t="";var n=i?"&gdpr=1&gdpr_consent="+i:"";switch(e.toLowerCase()){case"app_nexus":t="https://secure.adnxs.com/getuid?"+encodeURIComponent(u+"/fire.js?dsp=app_nexus&dsp_uid=$UID&"+o)+n;break;case"dbm":t="https://cm.g.doubleclick.net/pixel?google_nid=captify_dmp&google_cm&dsp=dbm"+n;break;case"pubmatic":t="https://image2.pubmatic.com/AdServer/UCookieSetPug?rd="+encodeURIComponent(l+"?dsp=pubmatic&dsp_uid=#PM_USER_ID")+n;break;case"openx":t="https://u.openx.net/w/1.0/cm?id=f0f39a70-2c21-4d5d-af4b-7350637edcd5"+n+"&r="+encodeURIComponent(l+"?dsp=OPENX&dsp_uid={OPENX_ID}");break;case"rubicon":t="https://pixel.rubiconproject.com/token?pid=34010&customParamenters"}t&&((new Image).src=t)})});return f&&null==e.headers.get("X-Discarded")?Promise.allSettled([U(i),t]):t})}function C(){return window.navigator&&window.navigator.userAgent&&-1!==window.navigator.userAgent.indexOf("Safari")&&-1===window.navigator.userAgent.indexOf("Chrome")&&-1===window.navigator.userAgent.indexOf("Firefox")}function E(e){return fetch(e,{credentials:"include"}).then(e=>P(e))}function P(e){return e.ok?e.text():Promise.reject({status:e.status,statusText:e.statusText})}function e(e){let t={xandr:null,ttd:null,id5:null,firstId:null},n=!0,i=!0;window.localStorage&&window.localStorage.getItem(m)&&((c=JSON.parse(window.localStorage.getItem(m)))[_]&&c[I]&&c[_]>Date.now()&&(t.xandr=c[I],n=!1),c[v])&&c[h]&&c[v]>Date.now()&&(t.ttd=c[h],i=!1);var o,r,a,d,s,c=[],p=(n&&c.push((r=e.consent,o=t,E("https://ib.adnxs.com/getuidj"+(r?"?gdpr=1&gdpr_consent="+r:"")).then(e=>{e=JSON.parse(e).uid;o.xandr="0"===e?null:e}).catch(()=>null))),i&&c.push((r=e.consent,a=t,E("https://match.adsrvr.org/track/rid?ttd_pid=0fkciot&fmt=json"+(r?"&gdpr=1&gdpr_consent="+r:"")).then(e=>{e=JSON.parse(e).TDID;a.ttd=e||null}).catch(()=>null))),localStorage.getItem("captify-id5id-fast-track"));if(""!==p&&null!==p)t.id5=p;else try{p=JSON.parse(decodeURIComponent(window.localStorage.getItem("id5id"))).universal_uid,localStorage.setItem("captify-id5id-fast-track",p),t.id5=p}catch(e){}return window.ID5&&(d=t,new Promise((t,e)=>{ID5.init({partnerId:1539}).onAvailable(e=>{e=e.getUserId();e&&(d.id5=e,localStorage.setItem("captify-id5id-fast-track",e),t())})}).catch(e=>{})),window.firstId&&c.push((s=t,p=new RegExp("(?:^|.*; *)firstid *= *([^;]*).*$|^.*$","i"),(p=document.cookie.match(p)[1])?(s.firstId=decodeURIComponent(p),Promise.resolve()):new Promise((e,t)=>{setTimeout(()=>t(new Error("Timed out")),300),window.firstId.callbacks.push(()=>{s.firstId=(new FirstIdSdk).getId(),e()})}))),Promise.allSettled(c).then(()=>{var e;window.localStorage&&(n||i)&&(e=(e=window.localStorage.getItem(m))?JSON.parse(e):{},n&&t.xandr&&(e[I]=t.xandr,e[_]=Date.now()+S),i&&t.ttd&&(e[h]=t.ttd,e[v]=Date.now()+b),window.localStorage.setItem(m,JSON.stringify(e)))}).finally(()=>{R(e,t)})}function a(o){__gpp("addEventListener",(e,t)=>{var n,i=e.pingData;t&&"ready"===i?.signalStatus&&(t=i.applicableSections,i=i.gppString,n=0===(n=t)?.length||1===n?.length&&-1===n?.[0]?{}:{consent:i,sections:t},o(n),__gpp("removeEventListener",e=>{},e.listenerId))})}function t(e){var n;window.__tcfapi?(n=e,window.__tcfapi("addEventListener",2,(e,t)=>{t&&(e.gdprApplies?"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus||(n({consent:e.tcString}),window.__tcfapi("removeEventListener",2,e=>{},e.listenerId)):(window.__gpp?a(n):n({}),window.__tcfapi("removeEventListener",2,e=>{},e.listenerId)))})):window.__gpp?a(e):e({})}function d(){let e=window,o;const r={};for(;e;){try{if(e.frames.__tcfapiLocator){o=e;break}}catch(e){}if(e===window.top)break;e=e.parent}window.__tcfapi=function(e,t,n,i){o?(i={__tcfapiCall:{command:e,parameter:i,version:t,callId:e=Math.random()+""}},r[e]=n,o.postMessage(i,"*")):n({msg:"CMP not found"},!1)},window.addEventListener("message",function(e){let t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}(e=t.__tcfapiReturn)&&"function"==typeof r[e.callId]&&(r[e.callId](e.returnValue,e.success),r[e.callId]=null)},!1)}window.self!==window.top&&d(),t(e)})();